; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PUBLIC\PowerVR-SDK\OVG\Shell\API\KEGL\PVRShellAPI.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|?setSwapInterval@PVRShell@@AAA_NH@Z|	; PVRShell::setSwapInterval
; File c:\wince600\public\powervr-sdk\ovg\shell\api\kegl\pvrshellapi.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T33350| DCD	|$LN5@setSwapInt|
	DCD	0x40000400
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?setSwapInterval@PVRShell@@AAA_NH@Z| PROC ; PVRShell::setSwapInterval

; 47   : {

  00000		 |$LN5@setSwapInt|
  00000		 |$M33347|

; 48   : #ifdef EGL_VERSION_1_1
; 49   : 	m_pShellData->nSwapInterval = i32Value;

  00000	e5903004	 ldr         r3, [r0, #4]

; 50   : 	return true;

  00004	e3a00001	 mov         r0, #1
  00008	e5831024	 str         r1, [r3, #0x24]

; 51   : #else
; 52   : 	return false;
; 53   : #endif
; 54   : }

  0000c	e12fff1e	 bx          lr
  00010		 |$M33348|

			 ENDP  ; |?setSwapInterval@PVRShell@@AAA_NH@Z|, PVRShell::setSwapInterval

	EXPORT	|?ApiActivatePreferences@PVRShellInit@@QAAXXZ| ; PVRShellInit::ApiActivatePreferences
	IMPORT	|__imp_eglSwapInterval|
	IMPORT	|__imp_vgSeti|

  00000			 AREA	 |.pdata|, PDATA
|$T33358| DCD	|$LN5@ApiActivat|
	DCD	0x40001801
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiActivatePreferences@PVRShellInit@@QAAXXZ| PROC ; PVRShellInit::ApiActivatePreferences

; 65   : {

  00000		 |$LN5@ApiActivat|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M33355|
  00004	e1a04000	 mov         r4, r0

; 66   : 
; 67   : #ifdef EGL_VERSION_1_1
; 68   : 	eglSwapInterval(gEglDisplay, m_pShell->m_pShellData->nSwapInterval);

  00008	e5943040	 ldr         r3, [r4, #0x40]
  0000c	e59f2048	 ldr         r2, [pc, #0x48]
  00010	e5940000	 ldr         r0, [r4]
  00014	e5933004	 ldr         r3, [r3, #4]
  00018	e5922000	 ldr         r2, [r2]
  0001c	e5931024	 ldr         r1, [r3, #0x24]
  00020	e1a0e00f	 mov         lr, pc
  00024	e12fff12	 bx          r2

; 69   : #endif
; 70   : 
; 71   : #ifdef BUILD_OVG
; 72   : 	vgSeti(VG_RENDERING_QUALITY, VG_RENDERING_QUALITY_NONANTIALIASED + m_pShell->m_pShellData->nFSAAMode);

  00028	e5943040	 ldr         r3, [r4, #0x40]
  0002c	e59f2024	 ldr         r2, [pc, #0x24]
  00030	e3a01c11	 mov         r1, #0x11, 24
  00034	e5933004	 ldr         r3, [r3, #4]
  00038	e5922000	 ldr         r2, [r2]
  0003c	e3810003	 orr         r0, r1, #3
  00040	e5933034	 ldr         r3, [r3, #0x34]
  00044	e2831c12	 add         r1, r3, #0x12, 24
  00048	e1a0e00f	 mov         lr, pc
  0004c	e12fff12	 bx          r2

; 73   : #endif
; 74   : }

  00050	e8bd4010	 ldmia       sp!, {r4, lr}
  00054	e12fff1e	 bx          lr
  00058		 |$LN6@ApiActivat|
  00058		 |$LN7@ApiActivat|
  00058	00000000	 DCD         |__imp_vgSeti|
  0005c		 |$LN8@ApiActivat|
  0005c	00000000	 DCD         |__imp_eglSwapInterval|
  00060		 |$M33356|

			 ENDP  ; |?ApiActivatePreferences@PVRShellInit@@QAAXXZ|, PVRShellInit::ApiActivatePreferences

	EXPORT	|?OutputAPIInfo@PVRShellInit@@QAAXXZ|	; PVRShellInit::OutputAPIInfo
	EXPORT	|??_C@_0DB@OJAPNOGK@Rendering?5quality?3?5?5VG_RENDERING@| [ DATA ] ; `string'
	EXPORT	|??_C@_0DB@IEAPMEDL@Rendering?5quality?3?5?5VG_RENDERING@| [ DATA ] ; `string'
	EXPORT	|??_C@_0DJ@JIKGCGDN@Rendering?5quality?3?5?5VG_RENDERING@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BN@IMFJLDGH@?5?5Renderable?5type?3?5?$CFs?$CFs?$CFs?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_07PPNEILAO@OPENVG?5?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0L@NEAPHGFL@OPENGL_ES?5?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0M@HGELNELG@OPENGL_ES2?5?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BK@IFCPKJAP@?5?5Surface?5type?3?5?5?5?$CFs?$CFs?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_07LDIMCLIK@WINDOW?5?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_08CJDFJLEM@PBUFFER?5?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_00CNPNBAHC@?$AA@| [ DATA ]	; `string'
	EXPORT	|??_C@_07IEEGMANC@PIXMAP?5?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BA@GMODIFEP@Is?5Rotated?3?5?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0O@LEIAPHIN@EGL?5Surface?3?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0CN@FGHNODBN@?5?5Colour?5Buffer?3?5?5?$CFi?5bits?5?$CIR?$CFi?5G@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BL@CGNIBDLH@?5?5Depth?5Buffer?3?5?5?5?$CFi?5bits?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BL@PFCJKNAE@?5?5Stencil?5Buffer?3?5?$CFi?5bits?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_02JINPPBEP@No?$AA@| [ DATA ]	; `string'
	EXPORT	|??_C@_03CCLAEDDF@Yes?$AA@| [ DATA ]	; `string'
	EXPORT	|??_C@_04FLFONKMB@VG?3?6?$AA@| [ DATA ]	; `string'
	EXPORT	|??_C@_0BA@CNJKOMGC@?5?5Renderer?3?5?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_05PJKKCOJD@EGL?3?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BA@LJBFMLLJ@?5?5Vendor?3?5?5?5?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BA@HFJJFBFB@?5?5Version?3?5?5?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BE@MFOLGNKL@?5?5Client?5APIs?3?5?5?$CFs?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_01EEMJAFIK@?6?$AA@| [ DATA ]	; `string'
	EXPORT	|??_C@_0BD@CONMABDG@Window?5Width?3?5?5?$CFi?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BD@IMIADLKB@Window?5Height?3?5?$CFi?6?$AA@| [ DATA ] ; `string'
	IMPORT	|?PVRShellGet@PVRShell@@QBAHW4prefNameIntEnum@@@Z| ; PVRShell::PVRShellGet
	IMPORT	|?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ| ; PVRShell::PVRShellOutputDebug
	IMPORT	|?PVRShellGet@PVRShell@@QBA_NW4prefNameBoolEnum@@@Z| ; PVRShell::PVRShellGet
	IMPORT	|__imp_vgGeti|
	IMPORT	|__imp_eglGetConfigAttrib|
	IMPORT	|__imp_vgGetString|
	IMPORT	|__imp_eglQueryString|

  00000			 AREA	 |.pdata|, PDATA
|$T33385| DCD	|$LN26@OutputAPII|
	DCD	0x40012802

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0DB@OJAPNOGK@Rendering?5quality?3?5?5VG_RENDERING@| DCB "Rendering"
	DCB	" quality:  VG_RENDERING_QUALITY_FASTER", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0DB@IEAPMEDL@Rendering?5quality?3?5?5VG_RENDERING@| DCB "Rendering"
	DCB	" quality:  VG_RENDERING_QUALITY_BETTER", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0DJ@JIKGCGDN@Rendering?5quality?3?5?5VG_RENDERING@| DCB "Rendering"
	DCB	" quality:  VG_RENDERING_QUALITY_NONANTIALIASED", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BN@IMFJLDGH@?5?5Renderable?5type?3?5?$CFs?$CFs?$CFs?$CFs?6?$AA@| DCB " "
	DCB	" Renderable type: %s%s%s%s", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_07PPNEILAO@OPENVG?5?$AA@| DCB "OPENVG ", 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0L@NEAPHGFL@OPENGL_ES?5?$AA@| DCB "OPENGL_ES ", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0M@HGELNELG@OPENGL_ES2?5?$AA@| DCB "OPENGL_ES2 ", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BK@IFCPKJAP@?5?5Surface?5type?3?5?5?5?$CFs?$CFs?$CFs?6?$AA@| DCB " "
	DCB	" Surface type:   %s%s%s", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_07LDIMCLIK@WINDOW?5?$AA@| DCB "WINDOW ", 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_08CJDFJLEM@PBUFFER?5?$AA@| DCB "PBUFFER ", 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_00CNPNBAHC@?$AA@| DCB 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_07IEEGMANC@PIXMAP?5?$AA@| DCB "PIXMAP ", 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@GMODIFEP@Is?5Rotated?3?5?$CFs?6?$AA@| DCB "Is Rotated: %s", 0xa
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0O@LEIAPHIN@EGL?5Surface?3?6?$AA@| DCB "EGL Surface:", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CN@FGHNODBN@?5?5Colour?5Buffer?3?5?5?$CFi?5bits?5?$CIR?$CFi?5G@| DCB " "
	DCB	" Colour Buffer:  %i bits (R%i G%i B%i A%i)", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BL@CGNIBDLH@?5?5Depth?5Buffer?3?5?5?5?$CFi?5bits?6?$AA@| DCB "  D"
	DCB	"epth Buffer:   %i bits", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BL@PFCJKNAE@?5?5Stencil?5Buffer?3?5?$CFi?5bits?6?$AA@| DCB "  Ste"
	DCB	"ncil Buffer: %i bits", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_02JINPPBEP@No?$AA@| DCB "No", 0x0		; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_03CCLAEDDF@Yes?$AA@| DCB "Yes", 0x0		; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_04FLFONKMB@VG?3?6?$AA@| DCB "VG:", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@CNJKOMGC@?5?5Renderer?3?5?$CFs?6?$AA@| DCB "  Renderer: %s", 0xa
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_05PJKKCOJD@EGL?3?6?$AA@| DCB "EGL:", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@LJBFMLLJ@?5?5Vendor?3?5?5?5?$CFs?6?$AA@| DCB "  Vendor:   %s", 0xa
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@HFJJFBFB@?5?5Version?3?5?5?$CFs?6?$AA@| DCB "  Version:  %s", 0xa
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BE@MFOLGNKL@?5?5Client?5APIs?3?5?5?$CFs?6?$AA@| DCB "  Client API"
	DCB	"s:  %s", 0xa, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_01EEMJAFIK@?6?$AA@| DCB 0xa, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BD@CONMABDG@Window?5Width?3?5?5?$CFi?6?$AA@| DCB "Window Width:  "
	DCB	"%i", 0xa, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BD@IMIADLKB@Window?5Height?3?5?$CFi?6?$AA@| DCB "Window Height: %"
	DCB	"i", 0xa, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?OutputAPIInfo@PVRShellInit@@QAAXXZ| PROC ; PVRShellInit::OutputAPIInfo

; 320  : {

  00000		 |$LN26@OutputAPII|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004	e24dd020	 sub         sp, sp, #0x20
  00008		 |$M33382|
  00008	e1a06000	 mov         r6, r0

; 321  : 	// Output API dependent information
; 322  : 	if(m_pShell->PVRShellGet(prefOutputInfo))

  0000c	e5960040	 ldr         r0, [r6, #0x40]
  00010	e3a0100d	 mov         r1, #0xD
  00014	eb000000	 bl          |?PVRShellGet@PVRShell@@QBA_NW4prefNameBoolEnum@@@Z|
  00018	e3500000	 cmp         r0, #0
  0001c	0a0000fc	 beq         |$LN4@OutputAPII|

; 323  : 	{
; 324  : 		int i32Values[5];
; 325  : 
; 326  : 		m_pShell->PVRShellOutputDebug("\n");

  00020	e5960040	 ldr         r0, [r6, #0x40]
  00024	e59f1404	 ldr         r1, [pc, #0x404]
  00028	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 327  : #ifndef BUILD_OVG
; 328  : 		m_pShell->PVRShellOutputDebug("GL:\n");
; 329  : 		m_pShell->PVRShellOutputDebug("  Vendor:   %s\n", (char*) glGetString(GL_VENDOR));
; 330  : 		m_pShell->PVRShellOutputDebug("  Renderer: %s\n", (char*) glGetString(GL_RENDERER));
; 331  : 		m_pShell->PVRShellOutputDebug("  Version:  %s\n", (char*) glGetString(GL_VERSION));
; 332  : #else
; 333  : 		m_pShell->PVRShellOutputDebug("VG:\n");

  0002c	e59f1468	 ldr         r1, [pc, #0x468]
  00030	e5960040	 ldr         r0, [r6, #0x40]
  00034	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 334  : 		m_pShell->PVRShellOutputDebug("  Vendor:   %s\n", (char*) vgGetString(VG_VENDOR));

  00038	e59f3454	 ldr         r3, [pc, #0x454]
  0003c	e3a00c23	 mov         r0, #0x23, 24
  00040	e5933000	 ldr         r3, [r3]
  00044	e1a0e00f	 mov         lr, pc
  00048	e12fff13	 bx          r3
  0004c	e59f1438	 ldr         r1, [pc, #0x438]
  00050	e1a02000	 mov         r2, r0
  00054	e5960040	 ldr         r0, [r6, #0x40]
  00058	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 335  : 		m_pShell->PVRShellOutputDebug("  Renderer: %s\n", (char*) vgGetString(VG_RENDERER));

  0005c	e59f3430	 ldr         r3, [pc, #0x430]
  00060	e3a04c23	 mov         r4, #0x23, 24
  00064	e3840001	 orr         r0, r4, #1
  00068	e5933000	 ldr         r3, [r3]
  0006c	e1a0e00f	 mov         lr, pc
  00070	e12fff13	 bx          r3
  00074	e59f141c	 ldr         r1, [pc, #0x41C]
  00078	e1a02000	 mov         r2, r0
  0007c	e5960040	 ldr         r0, [r6, #0x40]
  00080	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 336  : 		m_pShell->PVRShellOutputDebug("  Version:  %s\n", (char*) vgGetString(VG_VERSION));

  00084	e59f3408	 ldr         r3, [pc, #0x408]
  00088	e3840002	 orr         r0, r4, #2
  0008c	e5933000	 ldr         r3, [r3]
  00090	e1a0e00f	 mov         lr, pc
  00094	e12fff13	 bx          r3
  00098	e59f13e8	 ldr         r1, [pc, #0x3E8]
  0009c	e1a02000	 mov         r2, r0
  000a0	e5960040	 ldr         r0, [r6, #0x40]
  000a4	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 337  : #endif
; 338  : 
; 339  : 		m_pShell->PVRShellOutputDebug("\n");

  000a8	e5960040	 ldr         r0, [r6, #0x40]
  000ac	e59f137c	 ldr         r1, [pc, #0x37C]
  000b0	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 340  : 		m_pShell->PVRShellOutputDebug("EGL:\n");

  000b4	e59f13d4	 ldr         r1, [pc, #0x3D4]
  000b8	e5960040	 ldr         r0, [r6, #0x40]
  000bc	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 341  : 		m_pShell->PVRShellOutputDebug("  Vendor:   %s\n" , (char*) eglQueryString(gEglDisplay, EGL_VENDOR));

  000c0	e59f33bc	 ldr         r3, [pc, #0x3BC]
  000c4	e5960000	 ldr         r0, [r6]
  000c8	e3a04a03	 mov         r4, #3, 20
  000cc	e5933000	 ldr         r3, [r3]
  000d0	e3841053	 orr         r1, r4, #0x53
  000d4	e1a0e00f	 mov         lr, pc
  000d8	e12fff13	 bx          r3
  000dc	e59f13a8	 ldr         r1, [pc, #0x3A8]
  000e0	e1a02000	 mov         r2, r0
  000e4	e5960040	 ldr         r0, [r6, #0x40]
  000e8	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 342  : 		m_pShell->PVRShellOutputDebug("  Version:  %s\n" , (char*) eglQueryString(gEglDisplay, EGL_VERSION));

  000ec	e59f3390	 ldr         r3, [pc, #0x390]
  000f0	e5960000	 ldr         r0, [r6]
  000f4	e3841054	 orr         r1, r4, #0x54
  000f8	e5933000	 ldr         r3, [r3]
  000fc	e1a0e00f	 mov         lr, pc
  00100	e12fff13	 bx          r3
  00104	e59f137c	 ldr         r1, [pc, #0x37C]
  00108	e1a02000	 mov         r2, r0
  0010c	e5960040	 ldr         r0, [r6, #0x40]
  00110	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 343  : 
; 344  : #ifdef EGL_VERSION_1_2
; 345  : 		m_pShell->PVRShellOutputDebug("  Client APIs:  %s\n" , (char*) eglQueryString(gEglDisplay, EGL_CLIENT_APIS));

  00114	e59f3368	 ldr         r3, [pc, #0x368]
  00118	e5960000	 ldr         r0, [r6]
  0011c	e384108d	 orr         r1, r4, #0x8D
  00120	e5933000	 ldr         r3, [r3]
  00124	e1a0e00f	 mov         lr, pc
  00128	e12fff13	 bx          r3
  0012c	e59f134c	 ldr         r1, [pc, #0x34C]
  00130	e1a02000	 mov         r2, r0
  00134	e5960040	 ldr         r0, [r6, #0x40]
  00138	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 346  : #endif
; 347  : 
; 348  : 		m_pShell->PVRShellOutputDebug("\n");

  0013c	e5960040	 ldr         r0, [r6, #0x40]
  00140	e59f12e8	 ldr         r1, [pc, #0x2E8]
  00144	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 349  : 		m_pShell->PVRShellOutputDebug("Window Width:  %i\n" , m_pShell->PVRShellGet(prefWidth));

  00148	e5960040	 ldr         r0, [r6, #0x40]
  0014c	e3a01002	 mov         r1, #2
  00150	eb000000	 bl          |?PVRShellGet@PVRShell@@QBAHW4prefNameIntEnum@@@Z|
  00154	e59f1320	 ldr         r1, [pc, #0x320]
  00158	e1a02000	 mov         r2, r0
  0015c	e5960040	 ldr         r0, [r6, #0x40]
  00160	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 350  : 		m_pShell->PVRShellOutputDebug("Window Height: %i\n" , m_pShell->PVRShellGet(prefHeight));

  00164	e5960040	 ldr         r0, [r6, #0x40]
  00168	e3a01003	 mov         r1, #3
  0016c	eb000000	 bl          |?PVRShellGet@PVRShell@@QBAHW4prefNameIntEnum@@@Z|
  00170	e59f1300	 ldr         r1, [pc, #0x300]
  00174	e1a02000	 mov         r2, r0
  00178	e5960040	 ldr         r0, [r6, #0x40]
  0017c	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 351  : 		m_pShell->PVRShellOutputDebug("Is Rotated: %s\n", m_pShell->PVRShellGet(prefIsRotated) ? "Yes" : "No");

  00180	e5960040	 ldr         r0, [r6, #0x40]
  00184	e3a01001	 mov         r1, #1
  00188	eb000000	 bl          |?PVRShellGet@PVRShell@@QBA_NW4prefNameBoolEnum@@@Z|
  0018c	e3500000	 cmp         r0, #0
  00190	159f22dc	 ldrne       r2, [pc, #0x2DC]
  00194	059f22d4	 ldreq       r2, [pc, #0x2D4]
  00198	e59f12cc	 ldr         r1, [pc, #0x2CC]
  0019c	e5960040	 ldr         r0, [r6, #0x40]
  001a0	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 352  : 		m_pShell->PVRShellOutputDebug("\n");

  001a4	e5960040	 ldr         r0, [r6, #0x40]
  001a8	e59f1280	 ldr         r1, [pc, #0x280]
  001ac	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 353  : 
; 354  : 		// Colour buffer
; 355  : 		m_pShell->PVRShellOutputDebug("EGL Surface:\n");

  001b0	e59f12b0	 ldr         r1, [pc, #0x2B0]
  001b4	e5960040	 ldr         r0, [r6, #0x40]
  001b8	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 356  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_BUFFER_SIZE , &i32Values[0]);

  001bc	e59f3280	 ldr         r3, [pc, #0x280]
  001c0	e596100c	 ldr         r1, [r6, #0xC]
  001c4	e5960000	 ldr         r0, [r6]
  001c8	e5934000	 ldr         r4, [r3]
  001cc	e3a07a03	 mov         r7, #3, 20
  001d0	e28d300c	 add         r3, sp, #0xC
  001d4	e3872020	 orr         r2, r7, #0x20
  001d8	e1a0e00f	 mov         lr, pc
  001dc	e12fff14	 bx          r4

; 357  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_RED_SIZE    , &i32Values[1]);

  001e0	e59f325c	 ldr         r3, [pc, #0x25C]
  001e4	e596100c	 ldr         r1, [r6, #0xC]
  001e8	e5960000	 ldr         r0, [r6]
  001ec	e5934000	 ldr         r4, [r3]
  001f0	e28d3010	 add         r3, sp, #0x10
  001f4	e3872024	 orr         r2, r7, #0x24
  001f8	e1a0e00f	 mov         lr, pc
  001fc	e12fff14	 bx          r4

; 358  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_GREEN_SIZE  , &i32Values[2]);

  00200	e59f323c	 ldr         r3, [pc, #0x23C]
  00204	e596100c	 ldr         r1, [r6, #0xC]
  00208	e5960000	 ldr         r0, [r6]
  0020c	e5934000	 ldr         r4, [r3]
  00210	e28d3014	 add         r3, sp, #0x14
  00214	e3872023	 orr         r2, r7, #0x23
  00218	e1a0e00f	 mov         lr, pc
  0021c	e12fff14	 bx          r4

; 359  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_BLUE_SIZE   , &i32Values[3]);

  00220	e59f321c	 ldr         r3, [pc, #0x21C]
  00224	e596100c	 ldr         r1, [r6, #0xC]
  00228	e5960000	 ldr         r0, [r6]
  0022c	e5934000	 ldr         r4, [r3]
  00230	e28d3018	 add         r3, sp, #0x18
  00234	e3872022	 orr         r2, r7, #0x22
  00238	e1a0e00f	 mov         lr, pc
  0023c	e12fff14	 bx          r4

; 360  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_ALPHA_SIZE  , &i32Values[4]);

  00240	e59f31fc	 ldr         r3, [pc, #0x1FC]
  00244	e596100c	 ldr         r1, [r6, #0xC]
  00248	e5960000	 ldr         r0, [r6]
  0024c	e5934000	 ldr         r4, [r3]
  00250	e28d301c	 add         r3, sp, #0x1C
  00254	e3872021	 orr         r2, r7, #0x21
  00258	e1a0e00f	 mov         lr, pc
  0025c	e12fff14	 bx          r4

; 361  : 
; 362  : 		m_pShell->PVRShellOutputDebug("  Colour Buffer:  %i bits (R%i G%i B%i A%i)\n", i32Values[0],i32Values[1],i32Values[2],i32Values[3],i32Values[4]);

  00260	e59de01c	 ldr         lr, [sp, #0x1C]
  00264	e59d4018	 ldr         r4, [sp, #0x18]
  00268	e59d5014	 ldr         r5, [sp, #0x14]
  0026c	e59d3010	 ldr         r3, [sp, #0x10]
  00270	e59d200c	 ldr         r2, [sp, #0xC]
  00274	e59f11e8	 ldr         r1, [pc, #0x1E8]
  00278	e5960040	 ldr         r0, [r6, #0x40]
  0027c	e58de008	 str         lr, [sp, #8]
  00280	e58d4004	 str         r4, [sp, #4]
  00284	e58d5000	 str         r5, [sp]
  00288	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 363  : 
; 364  : 		// Depth buffer
; 365  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_DEPTH_SIZE , &i32Values[0]);

  0028c	e59f31b0	 ldr         r3, [pc, #0x1B0]
  00290	e596100c	 ldr         r1, [r6, #0xC]
  00294	e5960000	 ldr         r0, [r6]
  00298	e5934000	 ldr         r4, [r3]
  0029c	e28d300c	 add         r3, sp, #0xC
  002a0	e3872025	 orr         r2, r7, #0x25
  002a4	e1a0e00f	 mov         lr, pc
  002a8	e12fff14	 bx          r4

; 366  : 		m_pShell->PVRShellOutputDebug("  Depth Buffer:   %i bits\n", i32Values[0]);

  002ac	e59d200c	 ldr         r2, [sp, #0xC]
  002b0	e59f11a8	 ldr         r1, [pc, #0x1A8]
  002b4	e5960040	 ldr         r0, [r6, #0x40]
  002b8	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 367  : 
; 368  : 		// Stencil Buffer
; 369  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_STENCIL_SIZE , &i32Values[0]);

  002bc	e59f3180	 ldr         r3, [pc, #0x180]
  002c0	e596100c	 ldr         r1, [r6, #0xC]
  002c4	e5960000	 ldr         r0, [r6]
  002c8	e5934000	 ldr         r4, [r3]
  002cc	e28d300c	 add         r3, sp, #0xC
  002d0	e3872026	 orr         r2, r7, #0x26
  002d4	e1a0e00f	 mov         lr, pc
  002d8	e12fff14	 bx          r4

; 370  : 		m_pShell->PVRShellOutputDebug("  Stencil Buffer: %i bits\n", i32Values[0]);

  002dc	e59d200c	 ldr         r2, [sp, #0xC]
  002e0	e59f1174	 ldr         r1, [pc, #0x174]
  002e4	e5960040	 ldr         r0, [r6, #0x40]
  002e8	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 371  : 
; 372  : 		// EGL surface bits support
; 373  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_SURFACE_TYPE , &i32Values[0]);

  002ec	e59f3150	 ldr         r3, [pc, #0x150]
  002f0	e596100c	 ldr         r1, [r6, #0xC]
  002f4	e5960000	 ldr         r0, [r6]
  002f8	e5934000	 ldr         r4, [r3]
  002fc	e28d300c	 add         r3, sp, #0xC
  00300	e3872033	 orr         r2, r7, #0x33
  00304	e1a0e00f	 mov         lr, pc
  00308	e12fff14	 bx          r4

; 374  : 		m_pShell->PVRShellOutputDebug("  Surface type:   %s%s%s\n",	i32Values[0] & EGL_WINDOW_BIT  ? "WINDOW " : "",
; 375  : 																		i32Values[1] & EGL_PBUFFER_BIT ? "PBUFFER " : "",
; 376  : 																		i32Values[2] & EGL_PIXMAP_BIT  ? "PIXMAP " : "");

  0030c	e59d3014	 ldr         r3, [sp, #0x14]
  00310	e59f5140	 ldr         r5, [pc, #0x140]
  00314	e59f1138	 ldr         r1, [pc, #0x138]
  00318	e3130002	 tst         r3, #2
  0031c	e59d3010	 ldr         r3, [sp, #0x10]
  00320	159fe128	 ldrne       lr, [pc, #0x128]
  00324	01a0e005	 moveq       lr, r5
  00328	e3130001	 tst         r3, #1
  0032c	e59d300c	 ldr         r3, [sp, #0xC]
  00330	159f4114	 ldrne       r4, [pc, #0x114]
  00334	01a04005	 moveq       r4, r5
  00338	e5960040	 ldr         r0, [r6, #0x40]
  0033c	e3130004	 tst         r3, #4
  00340	159f2100	 ldrne       r2, [pc, #0x100]
  00344	01a02005	 moveq       r2, r5
  00348	e1a03004	 mov         r3, r4
  0034c	e58de000	 str         lr, [sp]
  00350	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 377  : 		// EGL renderable type
; 378  : #ifdef EGL_VERSION_1_2
; 379  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_RENDERABLE_TYPE , &i32Values[0]);

  00354	e59f30e8	 ldr         r3, [pc, #0xE8]
  00358	e596100c	 ldr         r1, [r6, #0xC]
  0035c	e5960000	 ldr         r0, [r6]
  00360	e5934000	 ldr         r4, [r3]
  00364	e28d300c	 add         r3, sp, #0xC
  00368	e3a02dc1	 mov         r2, #0xC1, 26
  0036c	e1a0e00f	 mov         lr, pc
  00370	e12fff14	 bx          r4

; 380  : 		m_pShell->PVRShellOutputDebug("  Renderable type: %s%s%s%s\n", i32Values[0] & EGL_OPENVG_BIT ? "OPENVG " : "",
; 381  : 															i32Values[0] & EGL_OPENGL_ES_BIT ? "OPENGL_ES " : "",
; 382  : #ifdef EGL_OPENGL_BIT
; 383  : 															i32Values[0] & EGL_OPENGL_BIT ? "OPENGL " :
; 384  : #endif
; 385  : 															"",
; 386  : 															i32Values[0] & EGL_OPENGL_ES2_BIT ? "OPENGL_ES2 " : "");

  00374	e59d300c	 ldr         r3, [sp, #0xC]
  00378	e59f10c0	 ldr         r1, [pc, #0xC0]
  0037c	e5960040	 ldr         r0, [r6, #0x40]
  00380	e3130004	 tst         r3, #4
  00384	159f40b0	 ldrne       r4, [pc, #0xB0]
  00388	01a04005	 moveq       r4, r5
  0038c	e3130001	 tst         r3, #1
  00390	159fe0a0	 ldrne       lr, [pc, #0xA0]
  00394	01a0e005	 moveq       lr, r5
  00398	e3130002	 tst         r3, #2
  0039c	159f2090	 ldrne       r2, [pc, #0x90]
  003a0	01a02005	 moveq       r2, r5
  003a4	e1a0300e	 mov         r3, lr
  003a8	e58d4004	 str         r4, [sp, #4]
  003ac	e58d5000	 str         r5, [sp]
  003b0	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 387  : #endif
; 388  : 
; 389  : #ifndef BUILD_OVG
; 390  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_SAMPLE_BUFFERS , &i32Values[0]);
; 391  : 		eglGetConfigAttrib(gEglDisplay, gEglConfig, EGL_SAMPLES , &i32Values[1]);
; 392  : 		m_pShell->PVRShellOutputDebug("  Sample buffer No.: %i\n", i32Values[0]);
; 393  : 		m_pShell->PVRShellOutputDebug("  Samples per pixel: %i\n", i32Values[1]);
; 394  : #else
; 395  : 		m_pShell->PVRShellOutputDebug("\n");

  003b4	e5960040	 ldr         r0, [r6, #0x40]
  003b8	e59f1070	 ldr         r1, [pc, #0x70]
  003bc	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 396  : 
; 397  : 		switch(vgGeti(VG_RENDERING_QUALITY))

  003c0	e59f3064	 ldr         r3, [pc, #0x64]
  003c4	e3a02c11	 mov         r2, #0x11, 24
  003c8	e3820003	 orr         r0, r2, #3
  003cc	e5933000	 ldr         r3, [r3]
  003d0	e1a0e00f	 mov         lr, pc
  003d4	e12fff13	 bx          r3
  003d8	e3a03c12	 mov         r3, #0x12, 24
  003dc	e3833001	 orr         r3, r3, #1
  003e0	e1500003	 cmp         r0, r3
  003e4	0a000007	 beq         |$LN2@OutputAPII|
  003e8	e3a03c12	 mov         r3, #0x12, 24
  003ec	e3833002	 orr         r3, r3, #2
  003f0	e1500003	 cmp         r0, r3

; 404  : 			break;
; 405  : 			default:
; 406  : 				m_pShell->PVRShellOutputDebug("Rendering quality:  VG_RENDERING_QUALITY_NONANTIALIASED\n");

  003f4	159f102c	 ldrne       r1, [pc, #0x2C]
  003f8	e5960040	 ldr         r0, [r6, #0x40]
  003fc	1a000003	 bne         |$LN23@OutputAPII|

; 398  : 		{
; 399  : 			case VG_RENDERING_QUALITY_BETTER:
; 400  : 				m_pShell->PVRShellOutputDebug("Rendering quality:  VG_RENDERING_QUALITY_BETTER\n");

  00400	e59f101c	 ldr         r1, [pc, #0x1C]

; 401  : 			break;

  00404	ea000001	 b           |$LN23@OutputAPII|
  00408		 |$LN2@OutputAPII|

; 402  : 			case VG_RENDERING_QUALITY_FASTER:
; 403  : 				m_pShell->PVRShellOutputDebug("Rendering quality:  VG_RENDERING_QUALITY_FASTER\n");

  00408	e59f1010	 ldr         r1, [pc, #0x10]
  0040c	e5960040	 ldr         r0, [r6, #0x40]
  00410		 |$LN23@OutputAPII|
  00410	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|
  00414		 |$LN4@OutputAPII|

; 407  : 		}
; 408  : 
; 409  : #endif
; 410  : 	}
; 411  : }

  00414	e28dd020	 add         sp, sp, #0x20
  00418	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  0041c	e12fff1e	 bx          lr
  00420		 |$LN27@OutputAPII|
  00420		 |$LN28@OutputAPII|
  00420	00000000	 DCD         |??_C@_0DB@OJAPNOGK@Rendering?5quality?3?5?5VG_RENDERING@|
  00424		 |$LN29@OutputAPII|
  00424	00000000	 DCD         |??_C@_0DB@IEAPMEDL@Rendering?5quality?3?5?5VG_RENDERING@|
  00428		 |$LN30@OutputAPII|
  00428	00000000	 DCD         |??_C@_0DJ@JIKGCGDN@Rendering?5quality?3?5?5VG_RENDERING@|
  0042c		 |$LN31@OutputAPII|
  0042c	00000000	 DCD         |__imp_vgGeti|
  00430		 |$LN32@OutputAPII|
  00430	00000000	 DCD         |??_C@_01EEMJAFIK@?6?$AA@|
  00434		 |$LN33@OutputAPII|
  00434	00000000	 DCD         |??_C@_07PPNEILAO@OPENVG?5?$AA@|
  00438		 |$LN34@OutputAPII|
  00438	00000000	 DCD         |??_C@_0L@NEAPHGFL@OPENGL_ES?5?$AA@|
  0043c		 |$LN35@OutputAPII|
  0043c	00000000	 DCD         |??_C@_0M@HGELNELG@OPENGL_ES2?5?$AA@|
  00440		 |$LN36@OutputAPII|
  00440	00000000	 DCD         |??_C@_0BN@IMFJLDGH@?5?5Renderable?5type?3?5?$CFs?$CFs?$CFs?$CFs?6?$AA@|
  00444		 |$LN37@OutputAPII|
  00444	00000000	 DCD         |__imp_eglGetConfigAttrib|
  00448		 |$LN38@OutputAPII|
  00448	00000000	 DCD         |??_C@_07LDIMCLIK@WINDOW?5?$AA@|
  0044c		 |$LN39@OutputAPII|
  0044c	00000000	 DCD         |??_C@_08CJDFJLEM@PBUFFER?5?$AA@|
  00450		 |$LN40@OutputAPII|
  00450	00000000	 DCD         |??_C@_07IEEGMANC@PIXMAP?5?$AA@|
  00454		 |$LN41@OutputAPII|
  00454	00000000	 DCD         |??_C@_0BK@IFCPKJAP@?5?5Surface?5type?3?5?5?5?$CFs?$CFs?$CFs?6?$AA@|
  00458		 |$LN42@OutputAPII|
  00458	00000000	 DCD         |??_C@_00CNPNBAHC@?$AA@|
  0045c		 |$LN43@OutputAPII|
  0045c	00000000	 DCD         |??_C@_0BL@PFCJKNAE@?5?5Stencil?5Buffer?3?5?$CFi?5bits?6?$AA@|
  00460		 |$LN44@OutputAPII|
  00460	00000000	 DCD         |??_C@_0BL@CGNIBDLH@?5?5Depth?5Buffer?3?5?5?5?$CFi?5bits?6?$AA@|
  00464		 |$LN45@OutputAPII|
  00464	00000000	 DCD         |??_C@_0CN@FGHNODBN@?5?5Colour?5Buffer?3?5?5?$CFi?5bits?5?$CIR?$CFi?5G@|
  00468		 |$LN46@OutputAPII|
  00468	00000000	 DCD         |??_C@_0O@LEIAPHIN@EGL?5Surface?3?6?$AA@|
  0046c		 |$LN47@OutputAPII|
  0046c	00000000	 DCD         |??_C@_0BA@GMODIFEP@Is?5Rotated?3?5?$CFs?6?$AA@|
  00470		 |$LN48@OutputAPII|
  00470	00000000	 DCD         |??_C@_02JINPPBEP@No?$AA@|
  00474		 |$LN49@OutputAPII|
  00474	00000000	 DCD         |??_C@_03CCLAEDDF@Yes?$AA@|
  00478		 |$LN50@OutputAPII|
  00478	00000000	 DCD         |??_C@_0BD@IMIADLKB@Window?5Height?3?5?$CFi?6?$AA@|
  0047c		 |$LN51@OutputAPII|
  0047c	00000000	 DCD         |??_C@_0BD@CONMABDG@Window?5Width?3?5?5?$CFi?6?$AA@|
  00480		 |$LN52@OutputAPII|
  00480	00000000	 DCD         |??_C@_0BE@MFOLGNKL@?5?5Client?5APIs?3?5?5?$CFs?6?$AA@|
  00484		 |$LN53@OutputAPII|
  00484	00000000	 DCD         |__imp_eglQueryString|
  00488		 |$LN54@OutputAPII|
  00488	00000000	 DCD         |??_C@_0BA@HFJJFBFB@?5?5Version?3?5?5?$CFs?6?$AA@|
  0048c		 |$LN55@OutputAPII|
  0048c	00000000	 DCD         |??_C@_0BA@LJBFMLLJ@?5?5Vendor?3?5?5?5?$CFs?6?$AA@|
  00490		 |$LN56@OutputAPII|
  00490	00000000	 DCD         |??_C@_05PJKKCOJD@EGL?3?6?$AA@|
  00494		 |$LN57@OutputAPII|
  00494	00000000	 DCD         |__imp_vgGetString|
  00498		 |$LN58@OutputAPII|
  00498	00000000	 DCD         |??_C@_0BA@CNJKOMGC@?5?5Renderer?3?5?$CFs?6?$AA@|
  0049c		 |$LN59@OutputAPII|
  0049c	00000000	 DCD         |??_C@_04FLFONKMB@VG?3?6?$AA@|
  004a0		 |$M33383|

			 ENDP  ; |?OutputAPIInfo@PVRShellInit@@QAAXXZ|, PVRShellInit::OutputAPIInfo

	EXPORT	|?ApiReleaseAPI@PVRShellInit@@QAAXXZ|	; PVRShellInit::ApiReleaseAPI
	IMPORT	|__imp_eglSwapBuffers|
	IMPORT	|__imp_eglMakeCurrent|
	IMPORT	|__imp_eglDestroyContext|
	IMPORT	|__imp_eglDestroySurface|
	IMPORT	|__imp_eglTerminate|

  00000			 AREA	 |.pdata|, PDATA
|$T33426| DCD	|$LN5@ApiRelease|
	DCD	0x40002801
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiReleaseAPI@PVRShellInit@@QAAXXZ| PROC ; PVRShellInit::ApiReleaseAPI

; 418  : {

  00000		 |$LN5@ApiRelease|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M33423|
  00004	e1a05000	 mov         r5, r0

; 419  : 	eglSwapBuffers(gEglDisplay, gEglWindow);

  00008	e59f308c	 ldr         r3, [pc, #0x8C]
  0000c	e5951004	 ldr         r1, [r5, #4]
  00010	e5950000	 ldr         r0, [r5]
  00014	e5933000	 ldr         r3, [r3]
  00018	e1a0e00f	 mov         lr, pc
  0001c	e12fff13	 bx          r3

; 420  : 	eglMakeCurrent(gEglDisplay, EGL_NO_SURFACE, EGL_NO_SURFACE, EGL_NO_CONTEXT);

  00020	e59f2070	 ldr         r2, [pc, #0x70]
  00024	e5950000	 ldr         r0, [r5]
  00028	e3a03000	 mov         r3, #0
  0002c	e5924000	 ldr         r4, [r2]
  00030	e3a02000	 mov         r2, #0
  00034	e3a01000	 mov         r1, #0
  00038	e1a0e00f	 mov         lr, pc
  0003c	e12fff14	 bx          r4

; 421  :  	eglDestroyContext(gEglDisplay, gEglContext);

  00040	e59f304c	 ldr         r3, [pc, #0x4C]
  00044	e5951008	 ldr         r1, [r5, #8]
  00048	e5950000	 ldr         r0, [r5]
  0004c	e5933000	 ldr         r3, [r3]
  00050	e1a0e00f	 mov         lr, pc
  00054	e12fff13	 bx          r3

; 422  : 	eglDestroySurface(gEglDisplay, gEglWindow);

  00058	e59f3030	 ldr         r3, [pc, #0x30]
  0005c	e5951004	 ldr         r1, [r5, #4]
  00060	e5950000	 ldr         r0, [r5]
  00064	e5933000	 ldr         r3, [r3]
  00068	e1a0e00f	 mov         lr, pc
  0006c	e12fff13	 bx          r3

; 423  :    	eglTerminate(gEglDisplay);

  00070	e59f3014	 ldr         r3, [pc, #0x14]
  00074	e5950000	 ldr         r0, [r5]
  00078	e5933000	 ldr         r3, [r3]
  0007c	e1a0e00f	 mov         lr, pc
  00080	e12fff13	 bx          r3

; 424  : }

  00084	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00088	e12fff1e	 bx          lr
  0008c		 |$LN6@ApiRelease|
  0008c		 |$LN7@ApiRelease|
  0008c	00000000	 DCD         |__imp_eglTerminate|
  00090		 |$LN8@ApiRelease|
  00090	00000000	 DCD         |__imp_eglDestroySurface|
  00094		 |$LN9@ApiRelease|
  00094	00000000	 DCD         |__imp_eglDestroyContext|
  00098		 |$LN10@ApiRelease|
  00098	00000000	 DCD         |__imp_eglMakeCurrent|
  0009c		 |$LN11@ApiRelease|
  0009c	00000000	 DCD         |__imp_eglSwapBuffers|
  000a0		 |$M33424|

			 ENDP  ; |?ApiReleaseAPI@PVRShellInit@@QAAXXZ|, PVRShellInit::ApiReleaseAPI

	EXPORT	|?SelectEGLConfiguration@PVRShellInitAPI@@QAAPAXQBUPVRShellData@@@Z| ; PVRShellInitAPI::SelectEGLConfiguration
	IMPORT	|__imp_eglChooseConfig|

  00000			 AREA	 |.pdata|, PDATA
|$T33450| DCD	|$LN12@SelectEGLC|
	DCD	0x40005202
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?SelectEGLConfiguration@PVRShellInitAPI@@QAAPAXQBUPVRShellData@@@Z| PROC ; PVRShellInitAPI::SelectEGLConfiguration

; 433  : {

  00000		 |$LN12@SelectEGLC|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004	e24dd08c	 sub         sp, sp, #0x8C
  00008		 |$M33447|
  00008	e1a04000	 mov         r4, r0

; 434  :     EGLint		num_config;
; 435  :     EGLint		conflist[32];
; 436  : 	EGLConfig	conf;
; 437  :     int			i;
; 438  : 
; 439  :     i = 0;
; 440  : 
; 441  : 	/* Select default configuration */
; 442  :     conflist[i++] = EGL_LEVEL;
; 443  :     conflist[i++] = 0;
; 444  : 
; 445  :     conflist[i++] = EGL_NATIVE_RENDERABLE;
; 446  :     conflist[i++] = pData->bSoftwareRender ? EGL_TRUE : EGL_FALSE;

  0000c	e5d1e01f	 ldrb        lr, [r1, #0x1F]
  00010	e3a02a03	 mov         r2, #3, 20
  00014	e3823029	 orr         r3, r2, #0x29
  00018	e58d300c	 str         r3, [sp, #0xC]

; 447  : 
; 448  : 	if(pData->bNeedZbuffer)

  0001c	e5d1301a	 ldrb        r3, [r1, #0x1A]
  00020	e382202d	 orr         r2, r2, #0x2D
  00024	e35e0000	 cmp         lr, #0
  00028	e58d2014	 str         r2, [sp, #0x14]
  0002c	13a02001	 movne       r2, #1
  00030	03a02000	 moveq       r2, #0
  00034	e3530000	 cmp         r3, #0
  00038	13a03a03	 movne       r3, #3, 20

; 449  : 	{
; 450  : 		conflist[i++] = EGL_DEPTH_SIZE;

  0003c	13833025	 orrne       r3, r3, #0x25

; 451  : 
; 452  : #ifdef BUILD_OVG
; 453  : 		conflist[i++] = EGL_DONT_CARE;

  00040	158d301c	 strne       r3, [sp, #0x1C]

; 454  : #else
; 455  : 		conflist[i++] = 16;
; 456  : #endif
; 457  : 	}
; 458  : 
; 459  : 	if(pData->bNeedStencilBuffer)

  00044	e5d1301b	 ldrb        r3, [r1, #0x1B]
  00048	e3a00000	 mov         r0, #0
  0004c	e58d2018	 str         r2, [sp, #0x18]
  00050	e58d0010	 str         r0, [sp, #0x10]
  00054	13e02000	 mvnne       r2, #0
  00058	e3a00004	 mov         r0, #4
  0005c	158d2020	 strne       r2, [sp, #0x20]
  00060	13a00006	 movne       r0, #6
  00064	e3530000	 cmp         r3, #0
  00068	0a000008	 beq         |$LN4@SelectEGLC|
  0006c	e3a03a03	 mov         r3, #3, 20

; 460  : 	{
; 461  : 		conflist[i++] = EGL_STENCIL_SIZE;

  00070	e3832026	 orr         r2, r3, #0x26
  00074	e28d300c	 add         r3, sp, #0xC
  00078	e7832100	 str         r2, [r3, +r0, lsl #2]
  0007c	e2802001	 add         r2, r0, #1

; 462  : 		conflist[i++] = 8;

  00080	e3a00008	 mov         r0, #8
  00084	e28d300c	 add         r3, sp, #0xC
  00088	e7830102	 str         r0, [r3, +r2, lsl #2]
  0008c	e2820001	 add         r0, r2, #1
  00090		 |$LN4@SelectEGLC|
  00090	e3a03a03	 mov         r3, #3, 20

; 463  : 	}
; 464  : 
; 465  : 	conflist[i++] = EGL_SURFACE_TYPE;

  00094	e3832033	 orr         r2, r3, #0x33
  00098	e28d300c	 add         r3, sp, #0xC

; 466  : 	conflist[i] = EGL_WINDOW_BIT;
; 467  : 
; 468  : 	if(pData->bNeedPbuffer)

  0009c	e5d11019	 ldrb        r1, [r1, #0x19]
  000a0	e7832100	 str         r2, [r3, +r0, lsl #2]
  000a4	e2802001	 add         r2, r0, #1
  000a8	e3a00004	 mov         r0, #4
  000ac	e28d300c	 add         r3, sp, #0xC
  000b0	e7a30102	 str         r0, [r3, +r2, lsl #2]!
  000b4	e3510000	 cmp         r1, #0

; 469  : 	{
; 470  : 		conflist[i] |= EGL_PBUFFER_BIT;

  000b8	13a01005	 movne       r1, #5
  000bc	15831000	 strne       r1, [r3]

; 471  : 	}
; 472  : 
; 473  : 	i++;
; 474  : 
; 475  : #ifdef BUILD_OVG
; 476  : 	conflist[i++] = EGL_RENDERABLE_TYPE;
; 477  : 	conflist[i++] = EGL_OPENVG_BIT;
; 478  : #elif BUILD_OGL
; 479  : 	conflist[i++] = EGL_RENDERABLE_TYPE;
; 480  : 	conflist[i++] = EGL_OPENGL_BIT;
; 481  : #elif defined EGL_VERSION_1_3 && GL_ES_VERSION_2_0
; 482  : 	conflist[i++] = EGL_RENDERABLE_TYPE;
; 483  : 	conflist[i++] = EGL_OPENGL_ES2_BIT;
; 484  : #endif
; 485  : 
; 486  : #ifndef BUILD_OVG
; 487  : 	// Append number of number buffers depending on FSAA mode selected
; 488  : 	switch(pData->nFSAAMode)
; 489  : 	{
; 490  : 		case 1:
; 491  : 			conflist[i++] = EGL_SAMPLE_BUFFERS;
; 492  : 			conflist[i++] = 1;
; 493  : 			conflist[i++] = EGL_SAMPLES;
; 494  : 			conflist[i++] = 2;
; 495  : 		break;
; 496  : 
; 497  : 		case 2:
; 498  : 			conflist[i++] = EGL_SAMPLE_BUFFERS;
; 499  : 			conflist[i++] = 1;
; 500  : 			conflist[i++] = EGL_SAMPLES;
; 501  : 			conflist[i++] = 4;
; 502  : 		break;
; 503  : 
; 504  : 		default:
; 505  : 			conflist[i++] = EGL_SAMPLE_BUFFERS;
; 506  : 			conflist[i++] = 0;
; 507  : 	}
; 508  : #endif
; 509  : 
; 510  : 	// Terminate the list with EGL_NONE
; 511  : 	conflist[i++] = EGL_NONE;
; 512  : 
; 513  : 	// Return null config if config is not found
; 514  :     if(!eglChooseConfig(gEglDisplay, conflist, &conf, 1, &num_config) || num_config != 1)

  000c0	e59f107c	 ldr         r1, [pc, #0x7C]
  000c4	e28d300c	 add         r3, sp, #0xC
  000c8	e2822001	 add         r2, r2, #1
  000cc	e3a00dc1	 mov         r0, #0xC1, 26
  000d0	e7830102	 str         r0, [r3, +r2, lsl #2]
  000d4	e5915000	 ldr         r5, [r1]
  000d8	e28d300c	 add         r3, sp, #0xC
  000dc	e282e001	 add         lr, r2, #1
  000e0	e3a07a03	 mov         r7, #3, 20
  000e4	e5940000	 ldr         r0, [r4]
  000e8	e28d100c	 add         r1, sp, #0xC
  000ec	e083210e	 add         r2, r3, lr, lsl #2
  000f0	e3a06002	 mov         r6, #2
  000f4	e3873038	 orr         r3, r7, #0x38
  000f8	e781610e	 str         r6, [r1, +lr, lsl #2]
  000fc	e28d4008	 add         r4, sp, #8
  00100	e5823004	 str         r3, [r2, #4]
  00104	e3a03001	 mov         r3, #1
  00108	e28d2004	 add         r2, sp, #4
  0010c	e28d100c	 add         r1, sp, #0xC
  00110	e58d4000	 str         r4, [sp]
  00114	e1a0e00f	 mov         lr, pc
  00118	e12fff15	 bx          r5
  0011c	e3500000	 cmp         r0, #0
  00120	0a000003	 beq         |$LN1@SelectEGLC|
  00124	e59d3008	 ldr         r3, [sp, #8]
  00128	e3530001	 cmp         r3, #1

; 517  :     }
; 518  : 
; 519  : 	// Return config index
; 520  : 	return conf;

  0012c	059d0004	 ldreq       r0, [sp, #4]
  00130	0a000000	 beq         |$LN6@SelectEGLC|
  00134		 |$LN1@SelectEGLC|

; 515  : 	{
; 516  : 		return 0;

  00134	e3a00000	 mov         r0, #0
  00138		 |$LN6@SelectEGLC|

; 521  : }

  00138	e28dd08c	 add         sp, sp, #0x8C
  0013c	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00140	e12fff1e	 bx          lr
  00144		 |$LN13@SelectEGLC|
  00144		 |$LN14@SelectEGLC|
  00144	00000000	 DCD         |__imp_eglChooseConfig|
  00148		 |$M33448|

			 ENDP  ; |?SelectEGLConfiguration@PVRShellInitAPI@@QAAPAXQBUPVRShellData@@@Z|, PVRShellInitAPI::SelectEGLConfiguration

	EXPORT	|?StringFrom_eglGetError@PVRShellInitAPI@@QBAPBDXZ| ; PVRShellInitAPI::StringFrom_eglGetError
	EXPORT	|??_C@_07CIFAGBMG@unknown?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BA@ECMACICF@EGL_BAD_SURFACE?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BC@OMABNJPB@EGL_BAD_PARAMETER?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BG@JCAPPMPM@EGL_BAD_NATIVE_WINDOW?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BG@IANPFEBH@EGL_BAD_NATIVE_PIXMAP?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0O@GCFMIHO@EGL_BAD_MATCH?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BI@KBFIGPCO@EGL_BAD_CURRENT_SURFACE?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BA@FPCJCEFK@EGL_BAD_CONTEXT?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0P@HOPKKPDK@EGL_BAD_CONFIG?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BC@NLAJAPHP@EGL_BAD_ATTRIBUTE?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0O@PGDEJDGL@EGL_BAD_ALLOC?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0P@ELJNOEME@EGL_BAD_ACCESS?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BE@JIJLFFAN@EGL_NOT_INITIALIZED?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BA@KHKFAGME@EGL_BAD_DISPLAY?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0M@JFIJMCIK@EGL_SUCCESS?$AA@| [ DATA ] ; `string'
	IMPORT	|__imp_eglGetError|

  00000			 AREA	 |.pdata|, PDATA
|$T33477| DCD	|$LN38@StringFrom|
	DCD	0x40004c01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_07CIFAGBMG@unknown?$AA@| DCB "unknown", 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@ECMACICF@EGL_BAD_SURFACE?$AA@| DCB "EGL_BAD_SURFACE", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BC@OMABNJPB@EGL_BAD_PARAMETER?$AA@| DCB "EGL_BAD_PARAMETER", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BG@JCAPPMPM@EGL_BAD_NATIVE_WINDOW?$AA@| DCB "EGL_BAD_NATIVE_WINDO"
	DCB	"W", 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BG@IANPFEBH@EGL_BAD_NATIVE_PIXMAP?$AA@| DCB "EGL_BAD_NATIVE_PIXMA"
	DCB	"P", 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0O@GCFMIHO@EGL_BAD_MATCH?$AA@| DCB "EGL_BAD_MATCH", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BI@KBFIGPCO@EGL_BAD_CURRENT_SURFACE?$AA@| DCB "EGL_BAD_CURRENT_SU"
	DCB	"RFACE", 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@FPCJCEFK@EGL_BAD_CONTEXT?$AA@| DCB "EGL_BAD_CONTEXT", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0P@HOPKKPDK@EGL_BAD_CONFIG?$AA@| DCB "EGL_BAD_CONFIG", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BC@NLAJAPHP@EGL_BAD_ATTRIBUTE?$AA@| DCB "EGL_BAD_ATTRIBUTE", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0O@PGDEJDGL@EGL_BAD_ALLOC?$AA@| DCB "EGL_BAD_ALLOC", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0P@ELJNOEME@EGL_BAD_ACCESS?$AA@| DCB "EGL_BAD_ACCESS", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BE@JIJLFFAN@EGL_NOT_INITIALIZED?$AA@| DCB "EGL_NOT_INITIALIZED", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BA@KHKFAGME@EGL_BAD_DISPLAY?$AA@| DCB "EGL_BAD_DISPLAY", 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0M@JFIJMCIK@EGL_SUCCESS?$AA@| DCB "EGL_SUCCESS", 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?StringFrom_eglGetError@PVRShellInitAPI@@QBAPBDXZ| PROC ; PVRShellInitAPI::StringFrom_eglGetError

; 529  : {

  00000		 |$LN38@StringFrom|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M33474|

; 530  : 	EGLint nErr = eglGetError();

  00004	e59f3120	 ldr         r3, [pc, #0x120]
  00008	e5933000	 ldr         r3, [r3]
  0000c	e1a0e00f	 mov         lr, pc
  00010	e12fff13	 bx          r3

; 531  : 
; 532  : 	switch(nErr)

  00014	e2402a03	 sub         r2, r0, #3, 20
  00018	e352000d	 cmp         r2, #0xD
  0001c	8a000030	 bhi         |$LN1@StringFrom|
  00020	e28f3004	 add         r3, pc, #4
  00024	e7d33002	 ldrb        r3, [r3, +r2]
  00028	e08ff003	 add         pc, pc, r3
  0002c		 |$LN21@StringFrom|
  0002c		 |$LN20@StringFrom|
  0002c		 |$LN22@StringFrom|
  0002c	0ced		 DCB         0xc
  0002d		 |$LN23@StringFrom|
  0002d	24ed		 DCB         0x24
  0002e		 |$LN24@StringFrom|
  0002e	30ed		 DCB         0x30
  0002f		 |$LN25@StringFrom|
  0002f	3ced		 DCB         0x3c
  00030		 |$LN26@StringFrom|
  00030	48ed		 DCB         0x48
  00031		 |$LN27@StringFrom|
  00031	54ed		 DCB         0x54
  00032		 |$LN28@StringFrom|
  00032	60ed		 DCB         0x60
  00033		 |$LN29@StringFrom|
  00033	6ced		 DCB         0x6c
  00034		 |$LN30@StringFrom|
  00034	18ed		 DCB         0x18
  00035		 |$LN31@StringFrom|
  00035	78ed		 DCB         0x78
  00036		 |$LN32@StringFrom|
  00036	84ed		 DCB         0x84
  00037		 |$LN33@StringFrom|
  00037	90ed		 DCB         0x90
  00038		 |$LN34@StringFrom|
  00038	9ced		 DCB         0x9c
  00039		 |$LN35@StringFrom|
  00039	a8ed		 DCB         0xa8
  0003a		 |$LN56@StringFrom|

; 564  : 	}
; 565  : }

  0003a	a8ed		 DCB         0xa8
  0003b		 |$LN57@StringFrom|
  0003b	a8ed		 DCB         0xa8
  0003c		 |$LN15@StringFrom|

; 533  : 	{
; 534  : 		case EGL_SUCCESS:
; 535  : 			return "EGL_SUCCESS";

  0003c	e59f00e4	 ldr         r0, [pc, #0xE4]

; 564  : 	}
; 565  : }

  00040	e49de004	 ldr         lr, [sp], #4
  00044	e12fff1e	 bx          lr
  00048		 |$LN14@StringFrom|

; 536  : 		case EGL_BAD_DISPLAY:
; 537  : 			return "EGL_BAD_DISPLAY";

  00048	e59f00d4	 ldr         r0, [pc, #0xD4]

; 564  : 	}
; 565  : }

  0004c	e49de004	 ldr         lr, [sp], #4
  00050	e12fff1e	 bx          lr
  00054		 |$LN13@StringFrom|

; 538  : 		case EGL_NOT_INITIALIZED:
; 539  : 			return "EGL_NOT_INITIALIZED";

  00054	e59f00c4	 ldr         r0, [pc, #0xC4]

; 564  : 	}
; 565  : }

  00058	e49de004	 ldr         lr, [sp], #4
  0005c	e12fff1e	 bx          lr
  00060		 |$LN12@StringFrom|

; 540  : 		case EGL_BAD_ACCESS:
; 541  : 			return "EGL_BAD_ACCESS";

  00060	e59f00b4	 ldr         r0, [pc, #0xB4]

; 564  : 	}
; 565  : }

  00064	e49de004	 ldr         lr, [sp], #4
  00068	e12fff1e	 bx          lr
  0006c		 |$LN11@StringFrom|

; 542  : 		case EGL_BAD_ALLOC:
; 543  : 			return "EGL_BAD_ALLOC";

  0006c	e59f00a4	 ldr         r0, [pc, #0xA4]

; 564  : 	}
; 565  : }

  00070	e49de004	 ldr         lr, [sp], #4
  00074	e12fff1e	 bx          lr
  00078		 |$LN10@StringFrom|

; 544  : 		case EGL_BAD_ATTRIBUTE:
; 545  : 			return "EGL_BAD_ATTRIBUTE";

  00078	e59f0094	 ldr         r0, [pc, #0x94]

; 564  : 	}
; 565  : }

  0007c	e49de004	 ldr         lr, [sp], #4
  00080	e12fff1e	 bx          lr
  00084		 |$LN9@StringFrom|

; 546  : 		case EGL_BAD_CONFIG:
; 547  : 			return "EGL_BAD_CONFIG";

  00084	e59f0084	 ldr         r0, [pc, #0x84]

; 564  : 	}
; 565  : }

  00088	e49de004	 ldr         lr, [sp], #4
  0008c	e12fff1e	 bx          lr
  00090		 |$LN8@StringFrom|

; 548  : 		case EGL_BAD_CONTEXT:
; 549  : 			return "EGL_BAD_CONTEXT";

  00090	e59f0074	 ldr         r0, [pc, #0x74]

; 564  : 	}
; 565  : }

  00094	e49de004	 ldr         lr, [sp], #4
  00098	e12fff1e	 bx          lr
  0009c		 |$LN7@StringFrom|

; 550  : 		case EGL_BAD_CURRENT_SURFACE:
; 551  : 			return "EGL_BAD_CURRENT_SURFACE";

  0009c	e59f0064	 ldr         r0, [pc, #0x64]

; 564  : 	}
; 565  : }

  000a0	e49de004	 ldr         lr, [sp], #4
  000a4	e12fff1e	 bx          lr
  000a8		 |$LN6@StringFrom|

; 552  : 		case EGL_BAD_MATCH:
; 553  : 			return "EGL_BAD_MATCH";

  000a8	e59f0054	 ldr         r0, [pc, #0x54]

; 564  : 	}
; 565  : }

  000ac	e49de004	 ldr         lr, [sp], #4
  000b0	e12fff1e	 bx          lr
  000b4		 |$LN5@StringFrom|

; 554  : 		case EGL_BAD_NATIVE_PIXMAP:
; 555  : 			return "EGL_BAD_NATIVE_PIXMAP";

  000b4	e59f0044	 ldr         r0, [pc, #0x44]

; 564  : 	}
; 565  : }

  000b8	e49de004	 ldr         lr, [sp], #4
  000bc	e12fff1e	 bx          lr
  000c0		 |$LN4@StringFrom|

; 556  : 		case EGL_BAD_NATIVE_WINDOW:
; 557  : 			return "EGL_BAD_NATIVE_WINDOW";

  000c0	e59f0034	 ldr         r0, [pc, #0x34]

; 564  : 	}
; 565  : }

  000c4	e49de004	 ldr         lr, [sp], #4
  000c8	e12fff1e	 bx          lr
  000cc		 |$LN3@StringFrom|

; 558  : 		case EGL_BAD_PARAMETER:
; 559  : 			return "EGL_BAD_PARAMETER";

  000cc	e59f0024	 ldr         r0, [pc, #0x24]

; 564  : 	}
; 565  : }

  000d0	e49de004	 ldr         lr, [sp], #4
  000d4	e12fff1e	 bx          lr
  000d8		 |$LN2@StringFrom|

; 560  : 		case EGL_BAD_SURFACE:
; 561  : 			return "EGL_BAD_SURFACE";

  000d8	e59f0014	 ldr         r0, [pc, #0x14]

; 564  : 	}
; 565  : }

  000dc	e49de004	 ldr         lr, [sp], #4
  000e0	e12fff1e	 bx          lr
  000e4		 |$LN1@StringFrom|

; 562  : 		default:
; 563  : 			return "unknown";

  000e4	e59f0004	 ldr         r0, [pc, #4]

; 564  : 	}
; 565  : }

  000e8	e49de004	 ldr         lr, [sp], #4
  000ec	e12fff1e	 bx          lr
  000f0		 |$LN39@StringFrom|
  000f0		 |$LN40@StringFrom|
  000f0	00000000	 DCD         |??_C@_07CIFAGBMG@unknown?$AA@|
  000f4		 |$LN41@StringFrom|
  000f4	00000000	 DCD         |??_C@_0BA@ECMACICF@EGL_BAD_SURFACE?$AA@|
  000f8		 |$LN42@StringFrom|
  000f8	00000000	 DCD         |??_C@_0BC@OMABNJPB@EGL_BAD_PARAMETER?$AA@|
  000fc		 |$LN43@StringFrom|
  000fc	00000000	 DCD         |??_C@_0BG@JCAPPMPM@EGL_BAD_NATIVE_WINDOW?$AA@|
  00100		 |$LN44@StringFrom|
  00100	00000000	 DCD         |??_C@_0BG@IANPFEBH@EGL_BAD_NATIVE_PIXMAP?$AA@|
  00104		 |$LN45@StringFrom|
  00104	00000000	 DCD         |??_C@_0O@GCFMIHO@EGL_BAD_MATCH?$AA@|
  00108		 |$LN46@StringFrom|
  00108	00000000	 DCD         |??_C@_0BI@KBFIGPCO@EGL_BAD_CURRENT_SURFACE?$AA@|
  0010c		 |$LN47@StringFrom|
  0010c	00000000	 DCD         |??_C@_0BA@FPCJCEFK@EGL_BAD_CONTEXT?$AA@|
  00110		 |$LN48@StringFrom|
  00110	00000000	 DCD         |??_C@_0P@HOPKKPDK@EGL_BAD_CONFIG?$AA@|
  00114		 |$LN49@StringFrom|
  00114	00000000	 DCD         |??_C@_0BC@NLAJAPHP@EGL_BAD_ATTRIBUTE?$AA@|
  00118		 |$LN50@StringFrom|
  00118	00000000	 DCD         |??_C@_0O@PGDEJDGL@EGL_BAD_ALLOC?$AA@|
  0011c		 |$LN51@StringFrom|
  0011c	00000000	 DCD         |??_C@_0P@ELJNOEME@EGL_BAD_ACCESS?$AA@|
  00120		 |$LN52@StringFrom|
  00120	00000000	 DCD         |??_C@_0BE@JIJLFFAN@EGL_NOT_INITIALIZED?$AA@|
  00124		 |$LN53@StringFrom|
  00124	00000000	 DCD         |??_C@_0BA@KHKFAGME@EGL_BAD_DISPLAY?$AA@|
  00128		 |$LN54@StringFrom|
  00128	00000000	 DCD         |??_C@_0M@JFIJMCIK@EGL_SUCCESS?$AA@|
  0012c		 |$LN55@StringFrom|
  0012c	00000000	 DCD         |__imp_eglGetError|
  00130		 |$M33475|

			 ENDP  ; |?StringFrom_eglGetError@PVRShellInitAPI@@QBAPBDXZ|, PVRShellInitAPI::StringFrom_eglGetError

	EXPORT	|?ApiScreenCaptureBuffer@PVRShellInit@@QAA_NHHPAE@Z| ; PVRShellInit::ApiScreenCaptureBuffer
	EXPORT	|??_C@_0DP@DNIDHLEE@PVRShell?3?5Screen?5capture?5failed?4@| [ DATA ] ; `string'
	IMPORT	|free|
	IMPORT	|calloc|
	IMPORT	|__imp_vgReadPixels|
	IMPORT	|__imp_vgGetError|
	IMPORT	|__imp_eglQueryAPI|

  00000			 AREA	 |.pdata|, PDATA
|$T33520| DCD	|$LN22@ApiScreenC|
	DCD	0x40004e02

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0DP@DNIDHLEE@PVRShell?3?5Screen?5capture?5failed?4@| DCB "PVRShell"
	DCB	": Screen capture failed. OpenVG is not the current API", 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiScreenCaptureBuffer@PVRShellInit@@QAA_NHHPAE@Z| PROC ; PVRShellInit::ApiScreenCaptureBuffer

; 576  : {

  00000		 |$LN22@ApiScreenC|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004	e24dd00c	 sub         sp, sp, #0xC
  00008		 |$M33517|
  00008	e1a07003	 mov         r7, r3
  0000c	e1a0a002	 mov         r10, r2
  00010	e1a09001	 mov         r9, r1
  00014	e1a06000	 mov         r6, r0

; 577  : 	unsigned char	*pLines2;
; 578  : 	int				i, j;
; 579  : 	bool			bRet = true;
; 580  : 
; 581  : 
; 582  : #ifdef BUILD_OVG
; 583  : 	if(eglQueryAPI() != EGL_OPENVG_API)

  00018	e59f4114	 ldr         r4, [pc, #0x114]
  0001c	e3a05001	 mov         r5, #1
  00020	e5944000	 ldr         r4, [r4]
  00024	e1a0e00f	 mov         lr, pc
  00028	e12fff14	 bx          r4
  0002c	e3a03a03	 mov         r3, #3, 20
  00030	e383e0a1	 orr         lr, r3, #0xA1
  00034	e150000e	 cmp         r0, lr
  00038	0a000004	 beq         |$LN9@ApiScreenC|

; 584  : 	{
; 585  : 		m_pShell->PVRShellOutputDebug("PVRShell: Screen capture failed. OpenVG is not the current API");

  0003c	e59f10ec	 ldr         r1, [pc, #0xEC]
  00040	e5960040	 ldr         r0, [r6, #0x40]
  00044	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|
  00048		 |$LN19@ApiScreenC|

; 586  : 		return false;

  00048	e3a05000	 mov         r5, #0
  0004c	ea000031	 b           |$LN10@ApiScreenC|
  00050		 |$LN9@ApiScreenC|

; 587  : 	}
; 588  : #endif
; 589  : 
; 590  : 	/* Allocate memory for line */
; 591  : 	pLines2 = (unsigned char *)calloc(4 * Width * Height, sizeof(unsigned char));

  00050	e0030a99	 mul         r3, r9, r10
  00054	e3a01001	 mov         r1, #1
  00058	e1a08103	 mov         r8, r3, lsl #2
  0005c	e1a00008	 mov         r0, r8
  00060	eb000000	 bl          calloc
  00064	e1b06000	 movs        r6, r0

; 592  : 	if (!pLines2) return false;

  00068	0afffff6	 beq         |$LN19@ApiScreenC|
  0006c	e59f40b4	 ldr         r4, [pc, #0xB4]
  00070		 |$LL7@ApiScreenC|

; 593  : 
; 594  : #ifdef BUILD_OVG
; 595  : 	while (vgGetError());

  00070	e5943000	 ldr         r3, [r4]
  00074	e1a0e00f	 mov         lr, pc
  00078	e12fff13	 bx          r3
  0007c	e3500000	 cmp         r0, #0
  00080	1afffffa	 bne         |$LL7@ApiScreenC|

; 596  : 
; 597  : 	vgReadPixels(pLines2, Width * 4, VG_sRGBA_8888, 0, 0, Width, Height);

  00084	e59f20a0	 ldr         r2, [pc, #0xA0]
  00088	e3a0b000	 mov         r11, #0
  0008c	e3a03000	 mov         r3, #0
  00090	e5924000	 ldr         r4, [r2]
  00094	e3a02001	 mov         r2, #1
  00098	e1a01109	 mov         r1, r9, lsl #2
  0009c	e1a00006	 mov         r0, r6
  000a0	e58da008	 str         r10, [sp, #8]
  000a4	e58d9004	 str         r9, [sp, #4]
  000a8	e58db000	 str         r11, [sp]
  000ac	e1a0e00f	 mov         lr, pc
  000b0	e12fff14	 bx          r4

; 598  : 
; 599  : 	if(vgGetError())

  000b4	e59f306c	 ldr         r3, [pc, #0x6C]
  000b8	e5933000	 ldr         r3, [r3]
  000bc	e1a0e00f	 mov         lr, pc
  000c0	e12fff13	 bx          r3
  000c4	e3500000	 cmp         r0, #0

; 600  : 	{
; 601  : 		bRet = false;

  000c8	13a05000	 movne       r5, #0
  000cc	1a00000f	 bne         |$LN1@ApiScreenC|

; 602  : 	}
; 603  : 	else
; 604  : 	{
; 605  : 		/* Convert RGB to BGR in line */
; 606  : 		for (j = 0, i = 0; j < 4 * Width * Height; j += 4, i += 3)

  000d0	e3a0e000	 mov         lr, #0
  000d4	e3580000	 cmp         r8, #0
  000d8	da00000c	 ble         |$LN1@ApiScreenC|
  000dc		 |$LL3@ApiScreenC|

; 607  : 		{
; 608  : 			pBuf[i]   = pLines2[j+1];

  000dc	e08e3006	 add         r3, lr, r6
  000e0	e5d33001	 ldrb        r3, [r3, #1]

; 609  : 			pBuf[i+1] = pLines2[j+2];

  000e4	e08e2006	 add         r2, lr, r6

; 610  : 			pBuf[i+2] = pLines2[j+3];

  000e8	e08e1006	 add         r1, lr, r6
  000ec	e5c73000	 strb        r3, [r7]
  000f0	e5d23002	 ldrb        r3, [r2, #2]
  000f4	e28ee004	 add         lr, lr, #4
  000f8	e15e0008	 cmp         lr, r8
  000fc	e5c73001	 strb        r3, [r7, #1]
  00100	e5d13003	 ldrb        r3, [r1, #3]
  00104	e5c73002	 strb        r3, [r7, #2]
  00108	e2877003	 add         r7, r7, #3
  0010c	bafffff2	 blt         |$LL3@ApiScreenC|
  00110		 |$LN1@ApiScreenC|

; 611  : 		}
; 612  : 	}
; 613  : #else
; 614  : 	while (glGetError());
; 615  : 	/* Read line from frame buffer */
; 616  : 	glReadPixels(0, 0, Width, Height, GL_RGBA, GL_UNSIGNED_BYTE, pLines2);
; 617  : 
; 618  : 	if(glGetError())
; 619  : 	{
; 620  : 		bRet = false;
; 621  : 	}
; 622  : 	else
; 623  : 	{
; 624  : 		/* Convert RGB to BGR in line */
; 625  : 		for (j = 0, i = 0; j < 4 * Width * Height; j += 4, i += 3)
; 626  : 		{
; 627  : 			pBuf[i] = pLines2[j+2];
; 628  : 			pBuf[i+1] = pLines2[j+1];
; 629  : 			pBuf[i+2] = pLines2[j];
; 630  : 		}
; 631  : 	}
; 632  : #endif
; 633  : 
; 634  : 	free(pLines2);

  00110	e1a00006	 mov         r0, r6
  00114	eb000000	 bl          free

; 635  : 	return bRet;

  00118		 |$LN10@ApiScreenC|

; 636  : }

  00118	e1a00005	 mov         r0, r5
  0011c	e28dd00c	 add         sp, sp, #0xC
  00120	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  00124	e12fff1e	 bx          lr
  00128		 |$LN23@ApiScreenC|
  00128		 |$LN24@ApiScreenC|
  00128	00000000	 DCD         |__imp_vgGetError|
  0012c		 |$LN25@ApiScreenC|
  0012c	00000000	 DCD         |__imp_vgReadPixels|
  00130		 |$LN26@ApiScreenC|
  00130	00000000	 DCD         |??_C@_0DP@DNIDHLEE@PVRShell?3?5Screen?5capture?5failed?4@|
  00134		 |$LN27@ApiScreenC|
  00134	00000000	 DCD         |__imp_eglQueryAPI|
  00138		 |$M33518|

			 ENDP  ; |?ApiScreenCaptureBuffer@PVRShellInit@@QAA_NHHPAE@Z|, PVRShellInit::ApiScreenCaptureBuffer

	EXPORT	|?ApiGet@PVRShellInit@@QAA_NW4prefNameIntEnum@@PAH@Z| ; PVRShellInit::ApiGet

  00000			 AREA	 |.pdata|, PDATA
|$T33538| DCD	|$LN11@ApiGet|
	DCD	0x40000b00
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiGet@PVRShellInit@@QAA_NW4prefNameIntEnum@@PAH@Z| PROC ; PVRShellInit::ApiGet

; 700  : {

  00000		 |$LN11@ApiGet|
  00000		 |$M33535|
  00000	e3510000	 cmp         r1, #0

; 701  : 	switch(prefName)

  00004	0a000004	 beq         |$LN3@ApiGet|
  00008	e3510001	 cmp         r1, #1

; 710  : 
; 711  : 		default:
; 712  : 			return false;

  0000c	13a00000	 movne       r0, #0

; 713  : 	}
; 714  : }

  00010	112fff1e	 bxne        lr

; 706  : 
; 707  : 		case prefEGLMinorVersion:
; 708  : 			*pn = minorVersion;

  00014	e5903014	 ldr         r3, [r0, #0x14]

; 709  : 			return true;

  00018	ea000000	 b           |$LN8@ApiGet|
  0001c		 |$LN3@ApiGet|

; 702  : 	{
; 703  : 		case prefEGLMajorVersion:
; 704  : 			*pn = majorVersion;

  0001c	e5903010	 ldr         r3, [r0, #0x10]
  00020		 |$LN8@ApiGet|

; 705  : 			return true;

  00020	e5823000	 str         r3, [r2]
  00024	e3a00001	 mov         r0, #1

; 713  : 	}
; 714  : }

  00028	e12fff1e	 bx          lr
  0002c		 |$M33536|

			 ENDP  ; |?ApiGet@PVRShellInit@@QAA_NW4prefNameIntEnum@@PAH@Z|, PVRShellInit::ApiGet

	EXPORT	|?ApiGet@PVRShellInit@@QAA_NW4prefNamePtrEnum@@PAPAX@Z| ; PVRShellInit::ApiGet

  00000			 AREA	 |.pdata|, PDATA
|$T33550| DCD	|$LN9@ApiGet@2|
	DCD	0x40000600
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiGet@PVRShellInit@@QAA_NW4prefNamePtrEnum@@PAPAX@Z| PROC ; PVRShellInit::ApiGet

; 723  : {

  00000		 |$LN9@ApiGet@2|
  00000		 |$M33547|

; 724  : 		switch(prefName)

  00000	e3510001	 cmp         r1, #1

; 729  : 
; 730  : 		default:
; 731  : 			return false;

  00004	13a00000	 movne       r0, #0

; 725  : 		{
; 726  : 		case prefEGLDisplay:
; 727  : 			*pp = (void*)gEglDisplay;

  00008	05903000	 ldreq       r3, [r0]

; 728  : 			return true;

  0000c	03a00001	 moveq       r0, #1
  00010	05823000	 streq       r3, [r2]

; 732  : 		}
; 733  : }

  00014	e12fff1e	 bx          lr
  00018		 |$M33548|

			 ENDP  ; |?ApiGet@PVRShellInit@@QAA_NW4prefNamePtrEnum@@PAPAX@Z|, PVRShellInit::ApiGet

	IMPORT	|strstr|
	IMPORT	|strchr|
	IMPORT	|strlen|

  00000			 AREA	 |.pdata|, PDATA
|$T33571| DCD	|$LN20@PVRShellIs|
	DCD	0x40002e01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?PVRShellIsExtensionSupported@@YA_NPAXPBD@Z| PROC ; PVRShellIsExtensionSupported

; 742  : {

  00000		 |$LN20@PVRShellIs|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M33568|
  00004	e1a05001	 mov         r5, r1
  00008	e1a04000	 mov         r4, r0

; 743  :     const char *extensions = NULL;
; 744  :     const char *start;
; 745  :     char *where, *terminator;
; 746  : 
; 747  :     /* Extension names should not have spaces. */
; 748  :     where = (char *) strchr(extension, ' ');

  0000c	e3a01020	 mov         r1, #0x20
  00010	e1a00005	 mov         r0, r5
  00014	eb000000	 bl          strchr
  00018	e3500000	 cmp         r0, #0

; 749  :     if (where || *extension == '\0')

  0001c	1a00001e	 bne         |$LN8@PVRShellIs|
  00020	e1d530d0	 ldrsb       r3, [r5]
  00024	e3530000	 cmp         r3, #0
  00028	0a00001b	 beq         |$LN8@PVRShellIs|

; 751  : 
; 752  :     extensions = eglQueryString(dpy, EGL_EXTENSIONS);

  0002c	e59f3080	 ldr         r3, [pc, #0x80]
  00030	e3a02a03	 mov         r2, #3, 20
  00034	e3821055	 orr         r1, r2, #0x55
  00038	e5933000	 ldr         r3, [r3]
  0003c	e1a00004	 mov         r0, r4
  00040	e1a0e00f	 mov         lr, pc
  00044	e12fff13	 bx          r3
  00048	e1a06000	 mov         r6, r0

; 753  : 
; 754  :     /* It takes a bit of care to be fool-proof about parsing the
; 755  :     OpenGL extensions string. Don't be fooled by sub-strings, etc. */
; 756  :     start = extensions;
; 757  :     for (;;)
; 758  : 	{
; 759  :         where = (char *) strstr((const char *) start, extension);

  0004c	ea00000e	 b           |$LN17@PVRShellIs|
  00050		 |$LL7@PVRShellIs|

; 760  :         if (!where)
; 761  :             break;
; 762  :         terminator = where + strlen(extension);

  00050	e1a00005	 mov         r0, r5
  00054	eb000000	 bl          strlen
  00058	e1a02000	 mov         r2, r0

; 763  :         if (where == start || *(where - 1) == ' ')

  0005c	e1540006	 cmp         r4, r6
  00060	0a000002	 beq         |$LN3@PVRShellIs|
  00064	e15430d1	 ldrsb       r3, [r4, #-1]
  00068	e3530020	 cmp         r3, #0x20
  0006c	1a000004	 bne         |$LN2@PVRShellIs|
  00070		 |$LN3@PVRShellIs|

; 764  :             if (*terminator == ' ' || *terminator == '\0')

  00070	e19230d4	 ldrsb       r3, [r2, +r4]
  00074	e3530020	 cmp         r3, #0x20
  00078	0a00000a	 beq         |$LN14@PVRShellIs|
  0007c	e3530000	 cmp         r3, #0
  00080	0a000008	 beq         |$LN14@PVRShellIs|
  00084		 |$LN2@PVRShellIs|

; 753  : 
; 754  :     /* It takes a bit of care to be fool-proof about parsing the
; 755  :     OpenGL extensions string. Don't be fooled by sub-strings, etc. */
; 756  :     start = extensions;
; 757  :     for (;;)
; 758  : 	{
; 759  :         where = (char *) strstr((const char *) start, extension);

  00084	e0820004	 add         r0, r2, r4

; 766  :         start = terminator;

  00088	e0826004	 add         r6, r2, r4
  0008c		 |$LN17@PVRShellIs|
  0008c	e1a01005	 mov         r1, r5
  00090	eb000000	 bl          strstr
  00094	e1b04000	 movs        r4, r0
  00098	1affffec	 bne         |$LL7@PVRShellIs|
  0009c		 |$LN8@PVRShellIs|

; 750  :         return false;

  0009c	e3a00000	 mov         r0, #0

; 767  :     }
; 768  :     return false;
; 769  : }

  000a0	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000a4	e12fff1e	 bx          lr
  000a8		 |$LN14@PVRShellIs|

; 765  :                 return true;

  000a8	e3a00001	 mov         r0, #1

; 767  :     }
; 768  :     return false;
; 769  : }

  000ac	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000b0	e12fff1e	 bx          lr
  000b4		 |$LN21@PVRShellIs|
  000b4		 |$LN22@PVRShellIs|
  000b4	00000000	 DCD         |__imp_eglQueryString|
  000b8		 |$M33569|

			 ENDP  ; |?PVRShellIsExtensionSupported@@YA_NPAXPBD@Z|, PVRShellIsExtensionSupported

	EXPORT	|?ApiInitAPI@PVRShellInit@@QAA_NXZ|	; PVRShellInit::ApiInitAPI
	EXPORT	|??_C@_0CK@NHPKCHJA@PVRShell?3?5Unable?5to?5make?5context@| [ DATA ] ; `string'
	EXPORT	|??_C@_0CE@NCNDCNHM@PVRShell?3?5Unable?5to?5create?5surfa@| [ DATA ] ; `string'
	EXPORT	|??_C@_0CG@ELLMMHJI@PVRShell?3?5Unable?5to?5create?5a?5con@| [ DATA ] ; `string'
	EXPORT	|??_C@_0CF@PJCEKOFO@PVRShell?3?5Failed?5to?5bind?5OpenVG?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_0CE@KKLGBLDK@PVRShell?3?5Unable?5to?5initialise?5E@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BK@LMGPDOPA@PVRShell?3?5EGL?5Error?5?$CI?$CFs?$CJ?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0DG@FEHGNGLJ@InitAPI?$CI?$CJ?5Using?5pixmaps?0?5about?5t@| [ DATA ] ; `string'
	EXPORT	|??_C@_0DA@CPOPLEIM@PVRShell?3?5Warning?$CB?5Using?5the?5SOF@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BI@EAAFLJFM@PVRShell?3?5OpenVG?5bound?6?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0BJ@HLHCCJFH@EGL_IMG_power_management?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_0CB@PHBHPKB@PVRShell?3?5EGL?5?$CFd?4?$CFd?5initialized?6@| [ DATA ] ; `string'
	IMPORT	|?PVRShellSet@PVRShell@@QAA_NW4prefNameConstPtrEnum@@QBX@Z| ; PVRShell::PVRShellSet
	IMPORT	|?OsGetNativeWindowType@PVRShellInit@@QAAPAXXZ| ; PVRShellInit::OsGetNativeWindowType
	IMPORT	|?OsGetNativePixmapType@PVRShellInit@@QAAPAXXZ| ; PVRShellInit::OsGetNativePixmapType
	IMPORT	|?OsGetNativeDisplayType@PVRShellInit@@QAAPAXXZ| ; PVRShellInit::OsGetNativeDisplayType
	IMPORT	|__imp_eglQuerySurface|
	IMPORT	|__imp_eglCreateWindowSurface|
	IMPORT	|__imp_eglCreatePixmapSurface|
	IMPORT	|__imp_eglCreateContext|
	IMPORT	|__imp_eglBindAPI|
	IMPORT	|__imp_eglInitialize|
	IMPORT	|__imp_eglGetDisplay|
	IMPORT	|memcpy|

  00000			 AREA	 |.pdata|, PDATA
|$T33633| DCD	|$LN71@ApiInitAPI|
	DCD	0x40013902

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CK@NHPKCHJA@PVRShell?3?5Unable?5to?5make?5context@| DCB "PVRShell"
	DCB	": Unable to make context current", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CE@NCNDCNHM@PVRShell?3?5Unable?5to?5create?5surfa@| DCB "PVRShell"
	DCB	": Unable to create surface", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CG@ELLMMHJI@PVRShell?3?5Unable?5to?5create?5a?5con@| DCB "PVRShel"
	DCB	"l: Unable to create a context", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CF@PJCEKOFO@PVRShell?3?5Failed?5to?5bind?5OpenVG?5@| DCB "PVRShel"
	DCB	"l: Failed to bind OpenVG API", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CE@KKLGBLDK@PVRShell?3?5Unable?5to?5initialise?5E@| DCB "PVRShell"
	DCB	": Unable to initialise EGL", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BK@LMGPDOPA@PVRShell?3?5EGL?5Error?5?$CI?$CFs?$CJ?6?$AA@| DCB "PV"
	DCB	"RShell: EGL Error (%s)", 0xa, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0DG@FEHGNGLJ@InitAPI?$CI?$CJ?5Using?5pixmaps?0?5about?5t@| DCB "In"
	DCB	"itAPI() Using pixmaps, about to create egl surface", 0xa
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0DA@CPOPLEIM@PVRShell?3?5Warning?$CB?5Using?5the?5SOF@| DCB "PVRSh"
	DCB	"ell: Warning! Using the SOFTWARE renderer", 0xa, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BI@EAAFLJFM@PVRShell?3?5OpenVG?5bound?6?$AA@| DCB "PVRShell: Open"
	DCB	"VG bound", 0xa, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BJ@HLHCCJFH@EGL_IMG_power_management?$AA@| DCB "EGL_IMG_power_man"
	DCB	"agement", 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0CB@PHBHPKB@PVRShell?3?5EGL?5?$CFd?4?$CFd?5initialized?6@| DCB "PV"
	DCB	"RShell: EGL %d.%d initialized", 0xa, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiInitAPI@PVRShellInit@@QAA_NXZ| PROC ; PVRShellInit::ApiInitAPI

; 82   : {

  00000		 |$LN71@ApiInitAPI|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004	e24dd084	 sub         sp, sp, #0x84
  00008		 |$M33630|
  00008	e1a06000	 mov         r6, r0

; 83   : 	int					bDone;
; 84   : 
; 85   : #if defined(BUILD_OGLES2) || defined(BUILD_OVG)
; 86   : 	EGLNativeDisplayType	ndt;
; 87   : #else
; 88   : 	NativeDisplayType	ndt;
; 89   : #endif
; 90   : 
; 91   : 	gEglContext = 0;

  0000c	e3a03000	 mov         r3, #0
  00010	e5863008	 str         r3, [r6, #8]
  00014	e3a03a03	 mov         r3, #3, 20
  00018	e3a02a03	 mov         r2, #3, 20
  0001c	e59f94b4	 ldr         r9, [pc, #0x4B4]
  00020	e59fa4b8	 ldr         r10, [pc, #0x4B8]
  00024	e59fb4b0	 ldr         r11, [pc, #0x4B0]
  00028	e3837038	 orr         r7, r3, #0x38
  0002c	e382800e	 orr         r8, r2, #0xE
  00030	e28d5000	 add         r5, sp, #0
  00034		 |$LN65@ApiInitAPI|
  00034	e59f4480	 ldr         r4, [pc, #0x480]

; 92   : 
; 93   : 	do
; 94   : 	{
; 95   : 		bDone = true;
; 96   : 
; 97   : #if defined(BUILD_OGLES2) || defined(BUILD_OVG)
; 98   : 		ndt = (EGLNativeDisplayType)OsGetNativeDisplayType();

  00038	e1a00006	 mov         r0, r6
  0003c	eb000000	 bl          |?OsGetNativeDisplayType@PVRShellInit@@QAAPAXXZ|

; 99   : #else
; 100  : 		ndt = (NativeDisplayType)OsGetNativeDisplayType();
; 101  : #endif
; 102  : 		gEglDisplay = eglGetDisplay(ndt);

  00040	e59f2490	 ldr         r2, [pc, #0x490]
  00044	e5923000	 ldr         r3, [r2]
  00048	e1a0e00f	 mov         lr, pc
  0004c	e12fff13	 bx          r3
  00050	e3500000	 cmp         r0, #0
  00054	e5860000	 str         r0, [r6]

; 103  : 
; 104  : 		if(gEglDisplay == EGL_NO_DISPLAY)

  00058	1a000004	 bne         |$LN30@ApiInitAPI|

; 105  : 		{
; 106  : #if defined(BUILD_OGLES2) || defined(BUILD_OVG)
; 107  : 			gEglDisplay = eglGetDisplay((EGLNativeDisplayType)EGL_DEFAULT_DISPLAY);

  0005c	e5993000	 ldr         r3, [r9]
  00060	e3a00000	 mov         r0, #0
  00064	e1a0e00f	 mov         lr, pc
  00068	e12fff13	 bx          r3
  0006c	e5860000	 str         r0, [r6]
  00070		 |$LN30@ApiInitAPI|

; 108  : #else
; 109  : 			gEglDisplay = eglGetDisplay((NativeDisplayType)EGL_DEFAULT_DISPLAY);
; 110  : #endif
; 111  : 		}
; 112  : 
; 113  : 		if(!eglInitialize(gEglDisplay, &majorVersion, &minorVersion))

  00070	e59f345c	 ldr         r3, [pc, #0x45C]
  00074	e5960000	 ldr         r0, [r6]
  00078	e2862014	 add         r2, r6, #0x14
  0007c	e5933000	 ldr         r3, [r3]
  00080	e2861010	 add         r1, r6, #0x10
  00084	e1a0e00f	 mov         lr, pc
  00088	e12fff13	 bx          r3
  0008c	e3500000	 cmp         r0, #0

; 118  : 		}
; 119  : 
; 120  : 		m_pShell->PVRShellOutputDebug("PVRShell: EGL %d.%d initialized\n", majorVersion, minorVersion);

  00090	e5960040	 ldr         r0, [r6, #0x40]
  00094	0a0000ef	 beq         |$LN54@ApiInitAPI|
  00098	e5963014	 ldr         r3, [r6, #0x14]
  0009c	e5962010	 ldr         r2, [r6, #0x10]
  000a0	e59f1428	 ldr         r1, [pc, #0x428]
  000a4	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 121  : 
; 122  : 		// Check Extension avaliablility after EGL initialization
; 123  : 		if (majorVersion > 1 || (majorVersion == 1 && minorVersion >= 1))

  000a8	e5963010	 ldr         r3, [r6, #0x10]
  000ac	e3530001	 cmp         r3, #1
  000b0	ca000028	 bgt         |$LN27@ApiInitAPI|
  000b4	1a000002	 bne         |$LN28@ApiInitAPI|
  000b8	e5963014	 ldr         r3, [r6, #0x14]
  000bc	e3530001	 cmp         r3, #1
  000c0	aa000024	 bge         |$LN27@ApiInitAPI|
  000c4		 |$LN28@ApiInitAPI|

; 126  : 		}
; 127  : 		else
; 128  : 		{
; 129  : 			powerManagementSupported = PVRShellIsExtensionSupported(gEglDisplay,"EGL_IMG_power_management");

  000c4	e59f03fc	 ldr         r0, [pc, #0x3FC]
  000c8	e5964000	 ldr         r4, [r6]
  000cc	e3a01020	 mov         r1, #0x20
  000d0	eb000000	 bl          strchr
  000d4	e3500000	 cmp         r0, #0
  000d8	1a000018	 bne         |$LN43@ApiInitAPI|
  000dc	e59f33e8	 ldr         r3, [pc, #0x3E8]
  000e0	e3a02a03	 mov         r2, #3, 20
  000e4	e3821055	 orr         r1, r2, #0x55
  000e8	e5933000	 ldr         r3, [r3]
  000ec	e1a00004	 mov         r0, r4
  000f0	e1a0e00f	 mov         lr, pc
  000f4	e12fff13	 bx          r3
  000f8	e1a04000	 mov         r4, r0
  000fc	ea00000b	 b           |$LN62@ApiInitAPI|
  00100		 |$LL42@ApiInitAPI|
  00100	e1520004	 cmp         r2, r4
  00104	0a000002	 beq         |$LN38@ApiInitAPI|
  00108	e15230d1	 ldrsb       r3, [r2, #-1]
  0010c	e3530020	 cmp         r3, #0x20
  00110	1a000004	 bne         |$LN37@ApiInitAPI|
  00114		 |$LN38@ApiInitAPI|
  00114	e1d231d8	 ldrsb       r3, [r2, #0x18]
  00118	e3530020	 cmp         r3, #0x20
  0011c	0a00000a	 beq         |$LN51@ApiInitAPI|
  00120	e3530000	 cmp         r3, #0
  00124	0a000008	 beq         |$LN51@ApiInitAPI|
  00128		 |$LN37@ApiInitAPI|
  00128	e2820018	 add         r0, r2, #0x18
  0012c	e2824018	 add         r4, r2, #0x18
  00130		 |$LN62@ApiInitAPI|
  00130	e59f1390	 ldr         r1, [pc, #0x390]
  00134	eb000000	 bl          strstr
  00138	e1b02000	 movs        r2, r0
  0013c	1affffef	 bne         |$LL42@ApiInitAPI|
  00140		 |$LN43@ApiInitAPI|
  00140	e59f4374	 ldr         r4, [pc, #0x374]
  00144	e3a03000	 mov         r3, #0
  00148	ea000003	 b           |$LN63@ApiInitAPI|
  0014c		 |$LN51@ApiInitAPI|
  0014c	e59f4368	 ldr         r4, [pc, #0x368]
  00150	e3a03001	 mov         r3, #1
  00154	ea000000	 b           |$LN63@ApiInitAPI|
  00158		 |$LN27@ApiInitAPI|

; 124  : 		{
; 125  : 			powerManagementSupported = true;

  00158	e3a03001	 mov         r3, #1
  0015c		 |$LN63@ApiInitAPI|
  0015c	e5c63018	 strb        r3, [r6, #0x18]

; 130  : 		}
; 131  : 
; 132  : 		PVRShellData ShellDataBackUp;
; 133  : 		memcpy((void*) &ShellDataBackUp, m_pShell->m_pShellData, sizeof(PVRShellData));

  00160	e5963040	 ldr         r3, [r6, #0x40]
  00164	e28d0040	 add         r0, sp, #0x40
  00168	e3a02044	 mov         r2, #0x44
  0016c	e5931004	 ldr         r1, [r3, #4]
  00170	eb000000	 bl          memcpy
  00174		 |$LL25@ApiInitAPI|

; 134  : 
; 135  : 		do
; 136  : 		{
; 137  : 			// bind OpenVG API if requested
; 138  : 			if(m_pShell->m_pShellData->bNeedOpenVG)

  00174	e5963040	 ldr         r3, [r6, #0x40]
  00178	e5931004	 ldr         r1, [r3, #4]
  0017c	e5d13020	 ldrb        r3, [r1, #0x20]
  00180	e3530000	 cmp         r3, #0
  00184	0a00000b	 beq         |$LN22@ApiInitAPI|

; 139  : 			{
; 140  : #ifndef BUILD_OVG
; 141  : 				m_pShell->PVRShellSet(prefExitMessage, "PVRShell: OpenVG not supported. Compile with BUILD_OVG defined.");
; 142  : 				return false;
; 143  : #else
; 144  : 				if(!eglBindAPI(EGL_OPENVG_API))

  00188	e3a02a03	 mov         r2, #3, 20
  0018c	e5943000	 ldr         r3, [r4]
  00190	e38200a1	 orr         r0, r2, #0xA1
  00194	e1a0e00f	 mov         lr, pc
  00198	e12fff13	 bx          r3
  0019c	e3500000	 cmp         r0, #0

; 148  : 				}
; 149  : 
; 150  : 				m_pShell->PVRShellOutputDebug("PVRShell: OpenVG bound\n");

  001a0	e5960040	 ldr         r0, [r6, #0x40]
  001a4	0a000088	 beq         |$LN52@ApiInitAPI|
  001a8	e59f1314	 ldr         r1, [pc, #0x314]
  001ac	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 151  : 				// Find an EGL config
; 152  : 				gEglConfig = SelectEGLConfiguration(m_pShell->m_pShellData);

  001b0	e5963040	 ldr         r3, [r6, #0x40]
  001b4	e5931004	 ldr         r1, [r3, #4]
  001b8		 |$LN22@ApiInitAPI|

; 153  : 
; 154  : #endif
; 155  : 			}
; 156  : 			else
; 157  : 			{
; 158  : #if defined(BUILD_OGL)
; 159  : 				if(!eglBindAPI(EGL_OPENGL_API))
; 160  : 				{
; 161  : 					m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Failed to bind OpenGL API\n");
; 162  : 					return false;
; 163  : 				}
; 164  : #else
; 165  : #if defined EGL_VERSION_1_3 && defined GL_ES_VERSION_2_0
; 166  : 
; 167  : 				if(!eglBindAPI(EGL_OPENGL_ES_API))
; 168  : 				{
; 169  : 					m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Failed to bind OpenGL ES API\n");
; 170  : 					return false;
; 171  : 				}
; 172  : #endif
; 173  : #endif
; 174  : 				// Find an EGL config
; 175  : 				gEglConfig = SelectEGLConfiguration(m_pShell->m_pShellData);

  001b8	e1a00006	 mov         r0, r6
  001bc	eb000000	 bl          |?SelectEGLConfiguration@PVRShellInitAPI@@QAAPAXQBUPVRShellData@@@Z|

; 176  : 			}
; 177  : 
; 178  : 			// Destroy the context if we already created one
; 179  : 			if (gEglContext)

  001c0	e5963008	 ldr         r3, [r6, #8]
  001c4	e586000c	 str         r0, [r6, #0xC]
  001c8	e1b01003	 movs        r1, r3

; 180  : 			{
; 181  : 				eglDestroyContext(gEglDisplay, gEglContext);

  001cc	15960000	 ldrne       r0, [r6]
  001d0	159a3000	 ldrne       r3, [r10]
  001d4	11a0e00f	 movne       lr, pc
  001d8	112fff13	 bxne        r3

; 182  : 			}
; 183  : 
; 184  : 			// Attempt to create a context
; 185  : #if defined BUILD_OVG
; 186  : 			gEglContext = eglCreateContext(gEglDisplay, gEglConfig, NULL, NULL);

  001dc	e59f32dc	 ldr         r3, [pc, #0x2DC]
  001e0	e596100c	 ldr         r1, [r6, #0xC]
  001e4	e5960000	 ldr         r0, [r6]
  001e8	e5934000	 ldr         r4, [r3]
  001ec	e3a03000	 mov         r3, #0
  001f0	e3a02000	 mov         r2, #0
  001f4	e1a0e00f	 mov         lr, pc
  001f8	e12fff14	 bx          r4
  001fc	e3500000	 cmp         r0, #0
  00200	e5860008	 str         r0, [r6, #8]

; 187  : #elif defined EGL_VERSION_1_3 && defined GL_ES_VERSION_2_0
; 188  : 			EGLint ai32ContextAttribs[] = { EGL_CONTEXT_CLIENT_VERSION, 2, EGL_NONE };
; 189  : 			gEglContext = eglCreateContext(gEglDisplay, gEglConfig, NULL, ai32ContextAttribs);
; 190  : #else
; 191  : 			gEglContext = eglCreateContext(gEglDisplay, gEglConfig, NULL, NULL);
; 192  : #endif
; 193  : 
; 194  : 			if(gEglContext == EGL_NO_CONTEXT)

  00204	1a000020	 bne         |$LN60@ApiInitAPI|

; 195  : 			{
; 196  : 				if(m_pShell->m_pShellData->bNeedPbuffer)

  00208	e5962040	 ldr         r2, [r6, #0x40]
  0020c	e5920004	 ldr         r0, [r2, #4]
  00210	e5d03019	 ldrb        r3, [r0, #0x19]
  00214	e3530000	 cmp         r3, #0

; 197  : 				{
; 198  : 					// Disable P-buffer and try again
; 199  : 					m_pShell->m_pShellData->bNeedPbuffer = false;

  00218	13a03000	 movne       r3, #0
  0021c	15c03019	 strneb      r3, [r0, #0x19]
  00220	1a000015	 bne         |$LN24@ApiInitAPI|

; 200  : 				}
; 201  : 				else if(m_pShell->m_pShellData->bNeedStencilBuffer)

  00224	e5d0301b	 ldrb        r3, [r0, #0x1B]
  00228	e3530000	 cmp         r3, #0

; 202  : 				{
; 203  :                     // Disable Stencil Buffer and try again
; 204  : 					m_pShell->m_pShellData->bNeedStencilBuffer = false;

  0022c	13a03000	 movne       r3, #0
  00230	15c0301b	 strneb      r3, [r0, #0x1B]
  00234	1a000010	 bne         |$LN24@ApiInitAPI|

; 205  : 				}
; 206  : 				else if(m_pShell->m_pShellData->nFSAAMode > 0)

  00238	e5903034	 ldr         r3, [r0, #0x34]
  0023c	e3530000	 cmp         r3, #0

; 207  : 				{
; 208  : 					// Still failing, reduce the mode of AA and try again
; 209  : 					--m_pShell->m_pShellData->nFSAAMode;

  00240	c5922004	 ldrgt       r2, [r2, #4]
  00244	c5923034	 ldrgt       r3, [r2, #0x34]
  00248	c2433001	 subgt       r3, r3, #1
  0024c	c5823034	 strgt       r3, [r2, #0x34]
  00250	ca000009	 bgt         |$LN24@ApiInitAPI|

; 210  : 				}
; 211  : 				else if(!m_pShell->m_pShellData->bSoftwareRender)

  00254	e5d0301f	 ldrb        r3, [r0, #0x1F]
  00258	e3530000	 cmp         r3, #0
  0025c	1a00005e	 bne         |$LN11@ApiInitAPI|

; 212  : 				{
; 213  : 					// Still failing, reset everything and try using a software renderer
; 214  : 					memcpy(m_pShell->m_pShellData, (void*) &ShellDataBackUp, sizeof(PVRShellData));

  00260	e28d1040	 add         r1, sp, #0x40
  00264	e3a02044	 mov         r2, #0x44
  00268	eb000000	 bl          memcpy

; 215  : 					m_pShell->m_pShellData->bSoftwareRender = true;

  0026c	e5963040	 ldr         r3, [r6, #0x40]
  00270	e3a02001	 mov         r2, #1
  00274	e5933004	 ldr         r3, [r3, #4]
  00278	e5c3201f	 strb        r2, [r3, #0x1F]
  0027c		 |$LN24@ApiInitAPI|

; 221  : 				}
; 222  : 			}
; 223  : 		} while(gEglContext == EGL_NO_CONTEXT);

  0027c	e5963008	 ldr         r3, [r6, #8]
  00280	e59f4234	 ldr         r4, [pc, #0x234]
  00284	e3530000	 cmp         r3, #0
  00288	0affffb9	 beq         |$LL25@ApiInitAPI|
  0028c		 |$LN60@ApiInitAPI|

; 224  : 
; 225  : 		if(m_pShell->m_pShellData->bSoftwareRender)

  0028c	e5960040	 ldr         r0, [r6, #0x40]
  00290	e5903004	 ldr         r3, [r0, #4]
  00294	e5d3301f	 ldrb        r3, [r3, #0x1F]
  00298	e3530000	 cmp         r3, #0

; 226  : 		{
; 227  : 			m_pShell->PVRShellOutputDebug("PVRShell: Warning! Using the SOFTWARE renderer\n");

  0029c	159f1214	 ldrne       r1, [pc, #0x214]
  002a0	1b000000	 blne        |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 228  : 		}
; 229  : 
; 230  : 		EGLint		attrib_list[16];
; 231  : 		int	i = 0;
; 232  : #if defined(EGL_VERSION_1_2)
; 233  : 		if(m_pShell->m_pShellData->bNeedAlphaFormatPre) // The default is EGL_ALPHA_FORMAT_NONPRE

  002a4	e5961040	 ldr         r1, [r6, #0x40]
  002a8	e3a02000	 mov         r2, #0

; 234  : 		{
; 235  : 			attrib_list[i++] = EGL_ALPHA_FORMAT;
; 236  : 			attrib_list[i++] = EGL_ALPHA_FORMAT_PRE;
; 237  : 		}
; 238  : #endif
; 239  : 		// Terminate the attribute list with EGL_NONE
; 240  : 		attrib_list[i] = EGL_NONE;
; 241  : 
; 242  : 		if(m_pShell->m_pShellData->bNeedPixmap)
; 243  : 		{
; 244  : #if defined(BUILD_OGLES2) || defined(BUILD_OVG)
; 245  : 			EGLNativePixmapType npt = (EGLNativePixmapType)OsGetNativePixmapType();

  002ac	e1a00006	 mov         r0, r6
  002b0	e5913004	 ldr         r3, [r1, #4]
  002b4	e5d33021	 ldrb        r3, [r3, #0x21]
  002b8	e3530000	 cmp         r3, #0
  002bc	13a02a03	 movne       r2, #3, 20
  002c0	13823088	 orrne       r3, r2, #0x88
  002c4	1382208c	 orrne       r2, r2, #0x8C
  002c8	158d2004	 strne       r2, [sp, #4]
  002cc	13a02002	 movne       r2, #2
  002d0	158d3000	 strne       r3, [sp]
  002d4	e7857102	 str         r7, [r5, +r2, lsl #2]
  002d8	e5913004	 ldr         r3, [r1, #4]
  002dc	e5d3301c	 ldrb        r3, [r3, #0x1C]
  002e0	e3530000	 cmp         r3, #0
  002e4	0a00000e	 beq         |$LN7@ApiInitAPI|
  002e8	eb000000	 bl          |?OsGetNativePixmapType@PVRShellInit@@QAAPAXXZ|

; 246  : #else
; 247  : 			NativePixmapType npt = (NativePixmapType)OsGetNativePixmapType();
; 248  : #endif
; 249  : 			m_pShell->PVRShellOutputDebug("InitAPI() Using pixmaps, about to create egl surface\n");

  002ec	e59f11c0	 ldr         r1, [pc, #0x1C0]
  002f0	e1a05000	 mov         r5, r0
  002f4	e5960040	 ldr         r0, [r6, #0x40]
  002f8	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|

; 250  : 			gEglWindow = eglCreatePixmapSurface(gEglDisplay, gEglConfig, npt, attrib_list);

  002fc	e59f31ac	 ldr         r3, [pc, #0x1AC]
  00300	e596100c	 ldr         r1, [r6, #0xC]
  00304	e5960000	 ldr         r0, [r6]
  00308	e5934000	 ldr         r4, [r3]
  0030c	e28d3000	 add         r3, sp, #0
  00310	e1a02005	 mov         r2, r5
  00314	e1a0e00f	 mov         lr, pc
  00318	e12fff14	 bx          r4

; 251  : 		}
; 252  : 		else

  0031c	e28d5000	 add         r5, sp, #0
  00320	ea000013	 b           |$LN64@ApiInitAPI|
  00324		 |$LN7@ApiInitAPI|

; 253  : 		{
; 254  : #if defined(BUILD_OGLES2) || defined(BUILD_OVG)
; 255  : 			EGLNativeWindowType nwt = (EGLNativeWindowType)OsGetNativeWindowType();

  00324	eb000000	 bl          |?OsGetNativeWindowType@PVRShellInit@@QAAPAXXZ|

; 256  : #else
; 257  : 			NativeWindowType nwt = (NativeWindowType)OsGetNativeWindowType();
; 258  : #endif
; 259  : 
; 260  : 			gEglWindow = eglCreateWindowSurface(gEglDisplay, gEglConfig, nwt, attrib_list);

  00328	e59f317c	 ldr         r3, [pc, #0x17C]
  0032c	e596100c	 ldr         r1, [r6, #0xC]
  00330	e1a02000	 mov         r2, r0
  00334	e5934000	 ldr         r4, [r3]
  00338	e5960000	 ldr         r0, [r6]
  0033c	e28d3000	 add         r3, sp, #0
  00340	e1a0e00f	 mov         lr, pc
  00344	e12fff14	 bx          r4
  00348	e3500000	 cmp         r0, #0
  0034c	e5860004	 str         r0, [r6, #4]

; 261  : 
; 262  :             // If we have failed to create a surface then try using Null
; 263  : 			if(gEglWindow == EGL_NO_SURFACE)

  00350	1a00000b	 bne         |$LN59@ApiInitAPI|

; 264  : 			{
; 265  : 				gEglWindow = eglCreateWindowSurface(gEglDisplay, gEglConfig, NULL, attrib_list);

  00354	e59f3150	 ldr         r3, [pc, #0x150]
  00358	e596100c	 ldr         r1, [r6, #0xC]
  0035c	e5960000	 ldr         r0, [r6]
  00360	e5934000	 ldr         r4, [r3]
  00364	e28d3000	 add         r3, sp, #0
  00368	e3a02000	 mov         r2, #0
  0036c	e1a0e00f	 mov         lr, pc
  00370	e12fff14	 bx          r4
  00374		 |$LN64@ApiInitAPI|

; 266  : 			}
; 267  : 		}
; 268  : 
; 269  : 		if (gEglWindow == EGL_NO_SURFACE)

  00374	e1a03000	 mov         r3, r0
  00378	e3530000	 cmp         r3, #0
  0037c	e5860004	 str         r0, [r6, #4]
  00380	0a000018	 beq         |$LN56@ApiInitAPI|
  00384		 |$LN59@ApiInitAPI|

; 272  : 			return false;
; 273  : 		}
; 274  : 
; 275  : 		if (!eglMakeCurrent(gEglDisplay, gEglWindow, gEglWindow, gEglContext))

  00384	e59f211c	 ldr         r2, [pc, #0x11C]
  00388	e5961004	 ldr         r1, [r6, #4]
  0038c	e5963008	 ldr         r3, [r6, #8]
  00390	e5924000	 ldr         r4, [r2]
  00394	e5960000	 ldr         r0, [r6]
  00398	e1a02001	 mov         r2, r1
  0039c	e1a0e00f	 mov         lr, pc
  003a0	e12fff14	 bx          r4
  003a4	e3500000	 cmp         r0, #0
  003a8	1a000011	 bne         |$LN55@ApiInitAPI|

; 276  : 		{
; 277  : #ifdef EGL_VERSION_1_3
; 278  : 			if((eglGetError() == EGL_CONTEXT_LOST))

  003ac	e59b3000	 ldr         r3, [r11]
  003b0	e1a0e00f	 mov         lr, pc
  003b4	e12fff13	 bx          r3
  003b8	e1500008	 cmp         r0, r8
  003bc	0affff1c	 beq         |$LN65@ApiInitAPI|

; 279  : #else
; 280  : 			if((eglGetError() == EGL_CONTEXT_LOST_IMG) && powerManagementSupported)
; 281  : #endif
; 282  : 			{
; 283  : 				bDone = false;
; 284  : 			}
; 285  : 			else
; 286  : 			{
; 287  : 				m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Unable to make context current\n");

  003c0	e59f20dc	 ldr         r2, [pc, #0xDC]
  003c4	e5960040	 ldr         r0, [r6, #0x40]
  003c8	ea000000	 b           |$LN67@ApiInitAPI|
  003cc		 |$LN52@ApiInitAPI|

; 145  : 				{
; 146  : 					m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Failed to bind OpenVG API\n");

  003cc	e59f20cc	 ldr         r2, [pc, #0xCC]
  003d0		 |$LN67@ApiInitAPI|
  003d0	e3a01005	 mov         r1, #5
  003d4	eb000000	 bl          |?PVRShellSet@PVRShell@@QAA_NW4prefNameConstPtrEnum@@QBX@Z|

; 147  : 					return false;

  003d8	ea000027	 b           |$LN66@ApiInitAPI|
  003dc		 |$LN11@ApiInitAPI|

; 216  : 				}
; 217  : 				else
; 218  : 				{
; 219  : 					m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Unable to create a context\n");

  003dc	e59f20b8	 ldr         r2, [pc, #0xB8]
  003e0	e5960040	 ldr         r0, [r6, #0x40]

; 220  : 					return false;

  003e4	eafffff9	 b           |$LN67@ApiInitAPI|
  003e8		 |$LN56@ApiInitAPI|

; 270  : 		{
; 271  : 			m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Unable to create surface\n");

  003e8	e59f20a8	 ldr         r2, [pc, #0xA8]
  003ec	e5960040	 ldr         r0, [r6, #0x40]
  003f0	eafffff6	 b           |$LN67@ApiInitAPI|
  003f4		 |$LN55@ApiInitAPI|

; 288  : 				return false;
; 289  : 			}
; 290  : 		}
; 291  : 	} while(!bDone);
; 292  : 
; 293  : 	/*
; 294  : 	 	Get correct screen width and height and
; 295  : 		save them into
; 296  : 		m_pShell->m_pShellData->nShellDimX and
; 297  : 		m_pShell->m_pShellData->nShellDimY
; 298  : 	*/
; 299  : 	eglQuerySurface(gEglDisplay, gEglWindow,
; 300  : 			EGL_WIDTH,  (EGLint*)&m_pShell->m_pShellData->nShellDimX
; 301  : 		);

  003f4	e5963040	 ldr         r3, [r6, #0x40]
  003f8	e59f2094	 ldr         r2, [pc, #0x94]
  003fc	e5961004	 ldr         r1, [r6, #4]
  00400	e5933004	 ldr         r3, [r3, #4]
  00404	e5924000	 ldr         r4, [r2]
  00408	e5960000	 ldr         r0, [r6]
  0040c	e3a05a03	 mov         r5, #3, 20
  00410	e2833008	 add         r3, r3, #8
  00414	e3852057	 orr         r2, r5, #0x57
  00418	e1a0e00f	 mov         lr, pc
  0041c	e12fff14	 bx          r4

; 302  : 	eglQuerySurface(gEglDisplay, gEglWindow,
; 303  : 			EGL_HEIGHT, (EGLint*)&m_pShell->m_pShellData->nShellDimY
; 304  : 		);

  00420	e5963040	 ldr         r3, [r6, #0x40]
  00424	e59f2068	 ldr         r2, [pc, #0x68]
  00428	e5961004	 ldr         r1, [r6, #4]
  0042c	e5933004	 ldr         r3, [r3, #4]
  00430	e5924000	 ldr         r4, [r2]
  00434	e5960000	 ldr         r0, [r6]
  00438	e283300c	 add         r3, r3, #0xC
  0043c	e3852056	 orr         r2, r5, #0x56
  00440	e1a0e00f	 mov         lr, pc
  00444	e12fff14	 bx          r4

; 305  : 
; 306  : 	/*
; 307  : 		Done - activate requested features
; 308  : 	*/
; 309  : 	ApiActivatePreferences();

  00448	e1a00006	 mov         r0, r6
  0044c	eb000000	 bl          |?ApiActivatePreferences@PVRShellInit@@QAAXXZ|

; 310  : 	return true;

  00450	e3a00001	 mov         r0, #1
  00454	ea000009	 b           |$LN34@ApiInitAPI|
  00458		 |$LN54@ApiInitAPI|

; 114  : 		{
; 115  : 			m_pShell->PVRShellSet(prefExitMessage, "PVRShell: Unable to initialise EGL\n");

  00458	e59f2030	 ldr         r2, [pc, #0x30]
  0045c	e3a01005	 mov         r1, #5
  00460	eb000000	 bl          |?PVRShellSet@PVRShell@@QAA_NW4prefNameConstPtrEnum@@QBX@Z|

; 116  : 			m_pShell->PVRShellOutputDebug("PVRShell: EGL Error (%s)\n", StringFrom_eglGetError());

  00464	e1a00006	 mov         r0, r6
  00468	eb000000	 bl          |?StringFrom_eglGetError@PVRShellInitAPI@@QBAPBDXZ|
  0046c	e59f1018	 ldr         r1, [pc, #0x18]
  00470	e1a02000	 mov         r2, r0
  00474	e5960040	 ldr         r0, [r6, #0x40]
  00478	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|
  0047c		 |$LN66@ApiInitAPI|

; 117  : 			return false;

  0047c	e3a00000	 mov         r0, #0

; 310  : 	return true;

  00480		 |$LN34@ApiInitAPI|

; 311  : }

  00480	e28dd084	 add         sp, sp, #0x84
  00484	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  00488	e12fff1e	 bx          lr
  0048c		 |$LN72@ApiInitAPI|
  0048c		 |$LN73@ApiInitAPI|
  0048c	00000000	 DCD         |??_C@_0BK@LMGPDOPA@PVRShell?3?5EGL?5Error?5?$CI?$CFs?$CJ?6?$AA@|
  00490		 |$LN74@ApiInitAPI|
  00490	00000000	 DCD         |??_C@_0CE@KKLGBLDK@PVRShell?3?5Unable?5to?5initialise?5E@|
  00494		 |$LN75@ApiInitAPI|
  00494	00000000	 DCD         |__imp_eglQuerySurface|
  00498		 |$LN76@ApiInitAPI|
  00498	00000000	 DCD         |??_C@_0CE@NCNDCNHM@PVRShell?3?5Unable?5to?5create?5surfa@|
  0049c		 |$LN77@ApiInitAPI|
  0049c	00000000	 DCD         |??_C@_0CG@ELLMMHJI@PVRShell?3?5Unable?5to?5create?5a?5con@|
  004a0		 |$LN78@ApiInitAPI|
  004a0	00000000	 DCD         |??_C@_0CF@PJCEKOFO@PVRShell?3?5Failed?5to?5bind?5OpenVG?5@|
  004a4		 |$LN79@ApiInitAPI|
  004a4	00000000	 DCD         |??_C@_0CK@NHPKCHJA@PVRShell?3?5Unable?5to?5make?5context@|
  004a8		 |$LN80@ApiInitAPI|
  004a8	00000000	 DCD         |__imp_eglMakeCurrent|
  004ac		 |$LN81@ApiInitAPI|
  004ac	00000000	 DCD         |__imp_eglCreateWindowSurface|
  004b0		 |$LN82@ApiInitAPI|
  004b0	00000000	 DCD         |__imp_eglCreatePixmapSurface|
  004b4		 |$LN83@ApiInitAPI|
  004b4	00000000	 DCD         |??_C@_0DG@FEHGNGLJ@InitAPI?$CI?$CJ?5Using?5pixmaps?0?5about?5t@|
  004b8		 |$LN84@ApiInitAPI|
  004b8	00000000	 DCD         |??_C@_0DA@CPOPLEIM@PVRShell?3?5Warning?$CB?5Using?5the?5SOF@|
  004bc		 |$LN85@ApiInitAPI|
  004bc	00000000	 DCD         |__imp_eglBindAPI|
  004c0		 |$LN86@ApiInitAPI|
  004c0	00000000	 DCD         |__imp_eglCreateContext|
  004c4		 |$LN87@ApiInitAPI|
  004c4	00000000	 DCD         |??_C@_0BI@EAAFLJFM@PVRShell?3?5OpenVG?5bound?6?$AA@|
  004c8		 |$LN88@ApiInitAPI|
  004c8	00000000	 DCD         |??_C@_0BJ@HLHCCJFH@EGL_IMG_power_management?$AA@|
  004cc		 |$LN89@ApiInitAPI|
  004cc	00000000	 DCD         |__imp_eglQueryString|
  004d0		 |$LN90@ApiInitAPI|
  004d0	00000000	 DCD         |??_C@_0CB@PHBHPKB@PVRShell?3?5EGL?5?$CFd?4?$CFd?5initialized?6@|
  004d4		 |$LN91@ApiInitAPI|
  004d4	00000000	 DCD         |__imp_eglInitialize|
  004d8		 |$LN92@ApiInitAPI|
  004d8	00000000	 DCD         |__imp_eglGetDisplay|
  004dc		 |$LN93@ApiInitAPI|
  004dc	00000000	 DCD         |__imp_eglGetError|
  004e0		 |$LN94@ApiInitAPI|
  004e0	00000000	 DCD         |__imp_eglDestroyContext|
  004e4		 |$M33631|

			 ENDP  ; |?ApiInitAPI@PVRShellInit@@QAA_NXZ|, PVRShellInit::ApiInitAPI

	EXPORT	|?ApiRenderComplete@PVRShellInit@@QAAXXZ| ; PVRShellInit::ApiRenderComplete
	EXPORT	|??_C@_0BH@HILGCPPG@eglSwapBuffers?5failed?6?$AA@| [ DATA ] ; `string'
	IMPORT	|?OsDoReleaseAPI@PVRShellInit@@QAAXXZ|	; PVRShellInit::OsDoReleaseAPI
	IMPORT	|?OsPixmapCopy@PVRShellInit@@QAA_NXZ|	; PVRShellInit::OsPixmapCopy
	IMPORT	|__imp_eglWaitGL|

  00000			 AREA	 |.pdata|, PDATA
|$T33667| DCD	|$LN15@ApiRenderC|
	DCD	0x40004201

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0BH@HILGCPPG@eglSwapBuffers?5failed?6?$AA@| DCB "eglSwapBuffers fa"
	DCB	"iled", 0xa, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ApiRenderComplete@PVRShellInit@@QAAXXZ| PROC ; PVRShellInit::ApiRenderComplete

; 643  : {

  00000		 |$LN15@ApiRenderC|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M33664|
  00004	e1a04000	 mov         r4, r0

; 644  : 	bool bRes;
; 645  : 
; 646  : 	if(m_pShell->m_pShellData->bNeedPixmap)

  00008	e5943040	 ldr         r3, [r4, #0x40]
  0000c	e5933004	 ldr         r3, [r3, #4]
  00010	e5d3301c	 ldrb        r3, [r3, #0x1C]
  00014	e3530000	 cmp         r3, #0
  00018	0a00000c	 beq         |$LN8@ApiRenderC|

; 647  : 	{
; 648  : 		/*
; 649  : 			"Clients rendering to single buffered surfaces (e.g. pixmap surfaces)
; 650  : 			should call eglWaitGL before accessing the native pixmap from the client."
; 651  : 		*/
; 652  : 		eglWaitGL();

  0001c	e59f30e0	 ldr         r3, [pc, #0xE0]
  00020	e5933000	 ldr         r3, [r3]
  00024	e1a0e00f	 mov         lr, pc
  00028	e12fff13	 bx          r3

; 653  : 
; 654  : 		// Pixmap support: Copy the rendered pixmap to the display
; 655  : 		if(m_pShell->m_pShellData->bNeedPixmapDisableCopy)

  0002c	e5943040	 ldr         r3, [r4, #0x40]
  00030	e5933004	 ldr         r3, [r3, #4]
  00034	e5d3301d	 ldrb        r3, [r3, #0x1D]
  00038	e3530000	 cmp         r3, #0

; 656  : 		{
; 657  : 			bRes = true;

  0003c	13a00001	 movne       r0, #1
  00040	1a00000c	 bne         |$LN5@ApiRenderC|

; 658  : 		}
; 659  : 		else
; 660  : 		{
; 661  : 			bRes = OsPixmapCopy();

  00044	e1a00004	 mov         r0, r4
  00048	eb000000	 bl          |?OsPixmapCopy@PVRShellInit@@QAA_NXZ|

; 662  : 		}
; 663  : 	}
; 664  : 	else

  0004c	ea000009	 b           |$LN5@ApiRenderC|
  00050		 |$LN8@ApiRenderC|

; 665  : 	{
; 666  : 		bRes = (eglSwapBuffers (gEglDisplay, gEglWindow) == EGL_TRUE);

  00050	e59f30a8	 ldr         r3, [pc, #0xA8]
  00054	e5941004	 ldr         r1, [r4, #4]
  00058	e5940000	 ldr         r0, [r4]
  0005c	e5933000	 ldr         r3, [r3]
  00060	e1a0e00f	 mov         lr, pc
  00064	e12fff13	 bx          r3
  00068	e3500001	 cmp         r0, #1
  0006c	03a03001	 moveq       r3, #1
  00070	13a03000	 movne       r3, #0
  00074	e20300ff	 and         r0, r3, #0xFF
  00078		 |$LN5@ApiRenderC|

; 667  : 	}
; 668  : 
; 669  : 	if(!bRes)

  00078	e3500000	 cmp         r0, #0
  0007c	1a00001b	 bne         |$LN1@ApiRenderC|

; 670  : 	{
; 671  : 		// check for context loss
; 672  : #ifdef EGL_VERSION_1_3
; 673  : 		if(eglGetError() == EGL_CONTEXT_LOST)

  00080	e59f3074	 ldr         r3, [pc, #0x74]
  00084	e5933000	 ldr         r3, [r3]
  00088	e1a0e00f	 mov         lr, pc
  0008c	e12fff13	 bx          r3
  00090	e3a03a03	 mov         r3, #3, 20
  00094	e383300e	 orr         r3, r3, #0xE
  00098	e1500003	 cmp         r0, r3

; 674  : #else
; 675  : 		if((eglGetError() == EGL_CONTEXT_LOST_IMG) && powerManagementSupported)
; 676  : #endif
; 677  : 		{
; 678  : 			m_pShell->ReleaseView();

  0009c	e5940040	 ldr         r0, [r4, #0x40]
  000a0	1a000010	 bne         |$LN3@ApiRenderC|
  000a4	e5903000	 ldr         r3, [r0]
  000a8	e5933010	 ldr         r3, [r3, #0x10]
  000ac	e1a0e00f	 mov         lr, pc
  000b0	e12fff13	 bx          r3

; 679  : 
; 680  : 			OsDoReleaseAPI();

  000b4	e1a00004	 mov         r0, r4
  000b8	eb000000	 bl          |?OsDoReleaseAPI@PVRShellInit@@QAAXXZ|

; 681  : 			if(ApiInitAPI())

  000bc	e1a00004	 mov         r0, r4
  000c0	eb000000	 bl          |?ApiInitAPI@PVRShellInit@@QAA_NXZ|
  000c4	e3500000	 cmp         r0, #0
  000c8	0a000008	 beq         |$LN1@ApiRenderC|

; 682  : 			{
; 683  : 				m_pShell->InitView();

  000cc	e5940040	 ldr         r0, [r4, #0x40]
  000d0	e5903000	 ldr         r3, [r0]
  000d4	e593300c	 ldr         r3, [r3, #0xC]
  000d8	e1a0e00f	 mov         lr, pc
  000dc	e12fff13	 bx          r3

; 689  : 		}
; 690  : 	}
; 691  : }

  000e0	e8bd4010	 ldmia       sp!, {r4, lr}
  000e4	e12fff1e	 bx          lr
  000e8		 |$LN3@ApiRenderC|

; 684  : 			}
; 685  : 		}
; 686  : 		else
; 687  : 		{
; 688  : 			m_pShell->PVRShellOutputDebug("eglSwapBuffers failed\n");

  000e8	e59f1008	 ldr         r1, [pc, #8]
  000ec	eb000000	 bl          |?PVRShellOutputDebug@PVRShell@@QBAXQBDZZ|
  000f0		 |$LN1@ApiRenderC|

; 689  : 		}
; 690  : 	}
; 691  : }

  000f0	e8bd4010	 ldmia       sp!, {r4, lr}
  000f4	e12fff1e	 bx          lr
  000f8		 |$LN16@ApiRenderC|
  000f8		 |$LN17@ApiRenderC|
  000f8	00000000	 DCD         |??_C@_0BH@HILGCPPG@eglSwapBuffers?5failed?6?$AA@|
  000fc		 |$LN18@ApiRenderC|
  000fc	00000000	 DCD         |__imp_eglGetError|
  00100		 |$LN19@ApiRenderC|
  00100	00000000	 DCD         |__imp_eglSwapBuffers|
  00104		 |$LN20@ApiRenderC|
  00104	00000000	 DCD         |__imp_eglWaitGL|
  00108		 |$M33665|

			 ENDP  ; |?ApiRenderComplete@PVRShellInit@@QAAXXZ|, PVRShellInit::ApiRenderComplete

	END
