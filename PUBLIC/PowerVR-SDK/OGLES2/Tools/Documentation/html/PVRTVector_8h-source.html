<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTVector.h</h1><a href="PVRTVector_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*!***************************************************************************</span>
00002 <span class="comment">  @File         PVRTVector.h</span>
00003 <span class="comment"></span>
00004 <span class="comment">  @Brief            Vector and matrix math template library</span>
00005 <span class="comment"></span>
00006 <span class="comment">  @Author        PowerVR</span>
00007 <span class="comment"></span>
00008 <span class="comment">  @Date         11/10/2007</span>
00009 <span class="comment"></span>
00010 <span class="comment">  @Copyright        Copyright 2007 by Imagination Technologies Limited.</span>
00011 <span class="comment">                All rights reserved. No part of this software, either</span>
00012 <span class="comment">                material or conceptual may be copied or distributed,</span>
00013 <span class="comment">                transmitted, transcribed, stored in a retrieval system</span>
00014 <span class="comment">                or translated into any human or computer language in any</span>
00015 <span class="comment">                form by any means, electronic, mechanical, manual or</span>
00016 <span class="comment">                other-wise, or disclosed to third parties without the</span>
00017 <span class="comment">                express written permission of Imagination Technologies</span>
00018 <span class="comment">                Limited, Unit 8, HomePark Industrial Estate,</span>
00019 <span class="comment">                King's Langley, Hertfordshire, WD4 8LZ, U.K.</span>
00020 <span class="comment"></span>
00021 <span class="comment">  @Platform     ANSI compatible</span>
00022 <span class="comment"></span>
00023 <span class="comment">  @Description  Vector and matrix mathematics library</span>
00024 <span class="comment"></span>
00025 <span class="comment"> $Revision: 1.67 $</span>
00026 <span class="comment">*****************************************************************************/</span>
00027 <span class="preprocessor">#ifndef __PVRTVECTOR_H__</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#define __PVRTVECTOR_H__</span>
00029 <span class="preprocessor"></span>
00030 <span class="preprocessor">#include "assert.h"</span>
00031 <span class="preprocessor">#include "<a class="code" href="PVRTGlobal_8h.html">PVRTGlobal.h</a>"</span>
00032 <span class="preprocessor">#include "<a class="code" href="PVRTFixedPoint_8h.html">PVRTFixedPoint.h</a>"</span>
00033 <span class="preprocessor">#include "<a class="code" href="PVRTMatrix_8h.html">PVRTMatrix.h</a>"</span>
00034 <span class="preprocessor">#include &lt;string.h&gt;</span>
00035 <span class="preprocessor">#include &lt;math.h&gt;</span>
00036 
00037 <span class="comment">/*!***************************************************************************</span>
00038 <span class="comment">** Forward Declarations for vector and matrix structs</span>
00039 <span class="comment">****************************************************************************/</span>
00040 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a>;
00041 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a>;
00042 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a>;
00043 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a>;
00044 
00045 <span class="comment">/*!***************************************************************************</span>
00046 <span class="comment"> @Function          PVRTLinearEqSolve</span>
00047 <span class="comment"> @Input             pSrc    2D array of floats. 4 Eq linear problem is 5x4</span>
00048 <span class="comment">                            matrix, constants in first column</span>
00049 <span class="comment"> @Input             nCnt    Number of equations to solve</span>
00050 <span class="comment"> @Output            pRes    Result</span>
00051 <span class="comment"> @Description       Solves 'nCnt' simultaneous equations of 'nCnt' variables.</span>
00052 <span class="comment">                    pRes should be an array large enough to contain the</span>
00053 <span class="comment">                    results: the values of the 'nCnt' variables.</span>
00054 <span class="comment">                    This fn recursively uses Gaussian Elimination.</span>
00055 <span class="comment">*****************************************************************************/</span>
00056 <span class="keywordtype">void</span> <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(VERTTYPE * <span class="keyword">const</span> pRes, VERTTYPE ** <span class="keyword">const</span> pSrc, <span class="keyword">const</span> <span class="keywordtype">int</span> nCnt);
00057 
00058 <span class="comment">/*!***************************************************************************</span>
00059 <span class="comment">    ** PVRTVec2 2 component vector</span>
00060 <span class="comment">    ****************************************************************************/</span>
00061 <span class="keyword">struct </span><a class="code" href="structPVRTVec2.html">PVRTVec2</a> 
<a name="l00062"></a><a class="code" href="structPVRTVec2.html">00062</a> {
00063     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> x, y;
<a name="l00064"></a><a class="code" href="structPVRTVec2.html#o1">00064</a>     <span class="comment">/*!***************************************************************************</span>
00065 <span class="comment">        ** Constructors</span>
00066 <span class="comment">        ****************************************************************************/</span>
00067     <span class="comment">/*!***************************************************************************</span>
00068 <span class="comment">        @Function           PVRTVec2</span>
00069 <span class="comment">        @Description        Blank constructor.</span>
00070 <span class="comment">        *****************************************************************************/</span>
00071     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>() {}
00072     <span class="comment">/*!***************************************************************************</span>
<a name="l00073"></a><a class="code" href="structPVRTVec2.html#a0">00073</a> <span class="comment">        @Function           PVRTVec2</span>
00074 <span class="comment">        @Input              fX  X component of vector</span>
00075 <span class="comment">        @Input              fY  Y component of vector</span>
00076 <span class="comment">        @Description        Simple constructor from 2 values.</span>
00077 <span class="comment">        *****************************************************************************/</span>
00078     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fX, VERTTYPE fY) : x(fX), y(fY) {}
00079     <span class="comment">/*!***************************************************************************</span>
00080 <span class="comment">        @Function           PVRTVec2</span>
<a name="l00081"></a><a class="code" href="structPVRTVec2.html#a1">00081</a> <span class="comment">        @Input              fValue  a component value</span>
00082 <span class="comment">        @Description        Constructor from a single value.</span>
00083 <span class="comment">        *****************************************************************************/</span>
00084     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fValue) : x(fValue), y(fValue) {}
00085     <span class="comment">/*!***************************************************************************</span>
00086 <span class="comment">        @Function           PVRTVec2</span>
00087 <span class="comment">        @Input              pVec    an array</span>
<a name="l00088"></a><a class="code" href="structPVRTVec2.html#a2">00088</a> <span class="comment">        @Description        Constructor from an array</span>
00089 <span class="comment">        *****************************************************************************/</span>
00090     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> VERTTYPE* pVec) : x(pVec[0]), y(pVec[1]) {}
00091     <span class="comment">/*!***************************************************************************</span>
00092 <span class="comment">        @Function           PVRTVec2</span>
00093 <span class="comment">        @Input              v3Vec a Vec3</span>
00094 <span class="comment">        @Description        Constructor from a Vec3</span>
<a name="l00095"></a><a class="code" href="structPVRTVec2.html#a3">00095</a> <span class="comment">        *****************************************************************************/</span>
00096     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; v3Vec);
00097     <span class="comment">/*!***************************************************************************</span>
00098 <span class="comment">        ** Operators</span>
00099 <span class="comment">        ****************************************************************************/</span>
00100     <span class="comment">/*!***************************************************************************</span>
00101 <span class="comment">        @Function           +</span>
00102 <span class="comment">        @Input              rhs another Vec2</span>
00103 <span class="comment">        @Returns            result of addition</span>
00104 <span class="comment">        @Description        componentwise addition operator for two Vec2s</span>
00105 <span class="comment">        *****************************************************************************/</span>
00106     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00107 <span class="keyword">    </span>{
00108         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00109         <span class="keywordflow">return</span> out += rhs;
00110     }
00111     <span class="comment">/*!***************************************************************************</span>
00112 <span class="comment">        @Function           -</span>
<a name="l00113"></a><a class="code" href="structPVRTVec2.html#a5">00113</a> <span class="comment">        @Input              rhs another Vec2</span>
00114 <span class="comment">        @Returns            result of subtraction</span>
00115 <span class="comment">        @Description        componentwise subtraction operator for two Vec2s</span>
00116 <span class="comment">        ****************************************************************************/</span>
00117     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00118 <span class="keyword">    </span>{
00119         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00120         <span class="keywordflow">return</span> out -= rhs;
00121     }
00122     
00123     <span class="comment">/*!***************************************************************************</span>
00124 <span class="comment">        @Function           +=</span>
<a name="l00125"></a><a class="code" href="structPVRTVec2.html#a6">00125</a> <span class="comment">        @Input              rhs another Vec2</span>
00126 <span class="comment">        @Returns            result of addition</span>
00127 <span class="comment">        @Description        componentwise addition and assignment operator for two Vec2s</span>
00128 <span class="comment">        ****************************************************************************/</span>
00129     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00130     {
00131         x += rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00132         y += rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00133         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00134     }
00135     
00136     <span class="comment">/*!***************************************************************************</span>
00137 <span class="comment">        @Function           -=</span>
<a name="l00138"></a><a class="code" href="structPVRTVec2.html#a7">00138</a> <span class="comment">        @Input              rhs another Vec2</span>
00139 <span class="comment">        @Returns            result of subtraction</span>
00140 <span class="comment">        @Description        componentwise subtraction and assignment operator for two Vec2s</span>
00141 <span class="comment">        ****************************************************************************/</span>
00142     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00143     {
00144         x -= rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00145         y -= rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00146         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00147     }
00148     
00149     <span class="comment">/*!***************************************************************************</span>
00150 <span class="comment">        @Function           -</span>
00151 <span class="comment">        @Input              rhs another Vec2</span>
<a name="l00152"></a><a class="code" href="structPVRTVec2.html#a8">00152</a> <span class="comment">        @Returns            result of negation</span>
00153 <span class="comment">        @Description        negation operator for a Vec2</span>
00154 <span class="comment">        ****************************************************************************/</span>
00155     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator- </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>, -rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>); }
00156     
00157     <span class="comment">/*!***************************************************************************</span>
00158 <span class="comment">        @Function           *</span>
00159 <span class="comment">        @Input              lhs scalar</span>
00160 <span class="comment">        @Input              rhs a Vec2</span>
00161 <span class="comment">        @Returns            result of negation</span>
00162 <span class="comment">        @Description        negation operator for a Vec2</span>
00163 <span class="comment">        ****************************************************************************/</span>
00164     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00165     {
<a name="l00166"></a><a class="code" href="structPVRTVec2.html#n0">00166</a>         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00167         <span class="keywordflow">return</span> out *= rhs;
00168     }
00169     
00170     <span class="comment">/*!***************************************************************************</span>
00171 <span class="comment">        @Function           /</span>
00172 <span class="comment">        @Input              lhs scalar</span>
00173 <span class="comment">        @Input              rhs a Vec2</span>
00174 <span class="comment">        @Returns            result of division</span>
00175 <span class="comment">        @Description        division operator for scalar and Vec2</span>
<a name="l00176"></a><a class="code" href="structPVRTVec2.html#n1">00176</a> <span class="comment">        ****************************************************************************/</span>
00177     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00178     {
00179         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00180         <span class="keywordflow">return</span> out /= rhs;
00181     }
00182     
00183     <span class="comment">/*!***************************************************************************</span>
00184 <span class="comment">        @Function           *</span>
00185 <span class="comment">        @Input              rhs a scalar</span>
00186 <span class="comment">        @Returns            result of multiplication</span>
00187 <span class="comment">        @Description        componentwise multiplication by scalar for Vec2</span>
00188 <span class="comment">        ****************************************************************************/</span>
00189     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
<a name="l00190"></a><a class="code" href="structPVRTVec2.html#n2">00190</a> <span class="keyword">    </span>{
00191         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00192         <span class="keywordflow">return</span> out *= rhs;
00193     }
00194     
00195     <span class="comment">/*!***************************************************************************</span>
00196 <span class="comment">        @Function           *=</span>
00197 <span class="comment">        @Input              rhs a scalar</span>
00198 <span class="comment">        @Returns            result of multiplication and assignment</span>
00199 <span class="comment">        @Description        componentwise multiplication and assignment by scalar for Vec2</span>
00200 <span class="comment">        ****************************************************************************/</span>
00201     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00202     {
<a name="l00203"></a><a class="code" href="structPVRTVec2.html#a9">00203</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs);
00204         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs);
00205         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00206     }
00207 
00208     <span class="comment">/*!***************************************************************************</span>
00209 <span class="comment">        @Function           *=</span>
00210 <span class="comment">        @Input              rhs a Vec2</span>
00211 <span class="comment">        @Returns            result of multiplication and assignment</span>
00212 <span class="comment">        @Description        componentwise multiplication and assignment by Vec2 for Vec2</span>
00213 <span class="comment">        ****************************************************************************/</span>
00214     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00215     {
<a name="l00216"></a><a class="code" href="structPVRTVec2.html#a10">00216</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00217         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00218         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00219     }
00220 
00221     <span class="comment">/*!***************************************************************************</span>
00222 <span class="comment">        @Function           /</span>
00223 <span class="comment">        @Input              rhs a scalar</span>
00224 <span class="comment">        @Returns            result of division</span>
00225 <span class="comment">        @Description        componentwise division by scalar for Vec2</span>
00226 <span class="comment">        ****************************************************************************/</span>
00227     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00228 <span class="keyword">    </span>{
00229         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
<a name="l00230"></a><a class="code" href="structPVRTVec2.html#a11">00230</a>         <span class="keywordflow">return</span> out /= rhs;
00231     }
00232     
00233     <span class="comment">/*!***************************************************************************</span>
00234 <span class="comment">        @Function           /=</span>
00235 <span class="comment">        @Input              rhs a scalar</span>
00236 <span class="comment">        @Returns            result of division and assignment</span>
00237 <span class="comment">        @Description        componentwise division and assignment by scalar for Vec2</span>
00238 <span class="comment">        ****************************************************************************/</span>
00239     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00240     {
00241         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, rhs);
00242         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, rhs);
00243         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00244"></a><a class="code" href="structPVRTVec2.html#a12">00244</a>     }
00245     
00246     <span class="comment">/*!***************************************************************************</span>
00247 <span class="comment">        @Function           /=</span>
00248 <span class="comment">        @Input              rhs a Vec2</span>
00249 <span class="comment">        @Returns            result of division and assignment</span>
00250 <span class="comment">        @Description        componentwise division and assignment by Vec2 for Vec2</span>
00251 <span class="comment">        ****************************************************************************/</span>
00252     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00253     {
00254         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00255         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00256         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00257"></a><a class="code" href="structPVRTVec2.html#a13">00257</a>     }   
00258     <span class="comment">// FUNCTIONS</span>
00259     <span class="comment">/*!***************************************************************************</span>
00260 <span class="comment">        @Function           lenSqr</span>
00261 <span class="comment">        @Returns            the square of the magnitude of the vector</span>
00262 <span class="comment">        @Description        calculates the square of the magnitude of the vector</span>
00263 <span class="comment">        ****************************************************************************/</span>
00264     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a15">lenSqr</a>()<span class="keyword"> const</span>
00265 <span class="keyword">    </span>{
00266         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y);
00267     }
00268     
00269     <span class="comment">/*!***************************************************************************</span>
00270 <span class="comment">        @Function           length</span>
<a name="l00271"></a><a class="code" href="structPVRTVec2.html#a14">00271</a> <span class="comment">        @Returns            the of the magnitude of the vector</span>
00272 <span class="comment">        @Description        calculates the magnitude of the vector</span>
00273 <span class="comment">        ****************************************************************************/</span>
00274     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a16">length</a>()<span class="keyword"> const</span>
00275 <span class="keyword">    </span>{
00276         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)));
00277     }
00278     
00279     <span class="comment">/*!***************************************************************************</span>
00280 <span class="comment">        @Function           normalize</span>
00281 <span class="comment">        @Returns            the normalized value of the vector</span>
00282 <span class="comment">        @Description        normalizes the vector</span>
00283 <span class="comment">        ****************************************************************************/</span>
<a name="l00284"></a><a class="code" href="structPVRTVec2.html#a15">00284</a>     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a17">normalize</a>()
00285     {
00286         <span class="keywordflow">return</span> *<span class="keyword">this</span> /= <a class="code" href="structPVRTVec2.html#a16">length</a>();
00287     }
00288     
00289     <span class="comment">/*!***************************************************************************</span>
00290 <span class="comment">        @Function           normalized</span>
00291 <span class="comment">        @Returns            returns the normalized value of the vector</span>
00292 <span class="comment">        @Description        returns a normalized vector of the same direction as this</span>
00293 <span class="comment">        vector</span>
00294 <span class="comment">        ****************************************************************************/</span>
<a name="l00295"></a><a class="code" href="structPVRTVec2.html#a16">00295</a>     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a18">normalized</a>()<span class="keyword"> const</span>
00296 <span class="keyword">    </span>{
00297         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00298         <span class="keywordflow">return</span> out.<a class="code" href="structPVRTVec2.html#a17">normalize</a>();
00299     }
00300 
00301     <span class="comment">/*!***************************************************************************</span>
00302 <span class="comment">        @Function           rotated90</span>
00303 <span class="comment">        @Returns            returns the vector rotated 90°</span>
00304 <span class="comment">        @Description        returns the vector rotated 90°</span>
00305 <span class="comment">        ****************************************************************************/</span>
<a name="l00306"></a><a class="code" href="structPVRTVec2.html#a17">00306</a>     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a19">rotated90</a>()<span class="keyword"> const</span>
00307 <span class="keyword">    </span>{
00308         <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-y, x);
00309     }
00310 
00311     <span class="comment">/*!***************************************************************************</span>
00312 <span class="comment">        @Function           dot</span>
00313 <span class="comment">        @Input              rhs a single value</span>
00314 <span class="comment">        @Returns            scalar product</span>
00315 <span class="comment">        @Description        calculate the scalar product of two Vec3s</span>
00316 <span class="comment">        ****************************************************************************/</span>
00317     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a20">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
<a name="l00318"></a><a class="code" href="structPVRTVec2.html#a18">00318</a>     {
00319         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) + <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00320     }
00321             
00322     <span class="comment">/*!***************************************************************************</span>
00323 <span class="comment">        @Function           ptr</span>
00324 <span class="comment">        @Returns            pointer</span>
00325 <span class="comment">        @Description        returns a pointer to memory containing the values of the</span>
00326 <span class="comment">        Vec3</span>
00327 <span class="comment">        ****************************************************************************/</span>
00328     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec2.html#a21">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00329 };
<a name="l00330"></a><a class="code" href="structPVRTVec2.html#a19">00330</a> 
00331 <span class="comment">/*!***************************************************************************</span>
00332 <span class="comment">** PVRTVec3 3 component vector</span>
00333 <span class="comment">****************************************************************************/</span>
00334 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>
00335 {
00336 <span class="comment">/*!***************************************************************************</span>
00337 <span class="comment">** Constructors</span>
00338 <span class="comment">****************************************************************************/</span>
00339 <span class="comment">/*!***************************************************************************</span>
00340 <span class="comment"> @Function          PVRTVec3</span>
00341 <span class="comment"> @Description       Blank constructor.</span>
<a name="l00342"></a><a class="code" href="structPVRTVec2.html#a20">00342</a> <span class="comment">*****************************************************************************/</span>
00343     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(){}
00344 <span class="comment">/*!***************************************************************************</span>
00345 <span class="comment"> @Function          PVRTVec3</span>
00346 <span class="comment"> @Input             fX  X component of vector</span>
00347 <span class="comment"> @Input             fY  Y component of vector</span>
00348 <span class="comment"> @Input             fZ  Z component of vector</span>
00349 <span class="comment"> @Description       Simple constructor from 3 values.</span>
00350 <span class="comment">*****************************************************************************/</span>
00351     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ)
00352     {
00353         x = fX; y = fY; z = fZ;
<a name="l00354"></a><a class="code" href="structPVRTVec2.html#a21">00354</a>     }
00355 <span class="comment">/*!***************************************************************************</span>
00356 <span class="comment"> @Function          PVRTVec3</span>
00357 <span class="comment"> @Input             fValue  a component value</span>
00358 <span class="comment"> @Description       Constructor from a single value.</span>
00359 <span class="comment">*****************************************************************************/</span>
<a name="l00360"></a><a class="code" href="structPVRTVec3.html">00360</a>     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE fValue)
00361     {
00362         x = fValue; y = fValue; z = fValue;
00363     }
00364 <span class="comment">/*!***************************************************************************</span>
00365 <span class="comment"> @Function          PVRTVec3</span>
00366 <span class="comment"> @Input             pVec    an array</span>
00367 <span class="comment"> @Description       Constructor from an array</span>
00368 <span class="comment">*****************************************************************************/</span>
00369     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE* pVec)
<a name="l00370"></a><a class="code" href="structPVRTVec3.html#a0">00370</a>     {
00371         x = (*pVec++); y = (*pVec++); z = *pVec;
00372     }
00373 <span class="comment">/*!***************************************************************************</span>
00374 <span class="comment"> @Function          PVRTVec3</span>
00375 <span class="comment"> @Input             v4Vec a PVRTVec4</span>
00376 <span class="comment"> @Description       Constructor from a PVRTVec4</span>
00377 <span class="comment">*****************************************************************************/</span>
00378     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; v4Vec);
<a name="l00379"></a><a class="code" href="structPVRTVec3.html#a1">00379</a> <span class="comment">/*!***************************************************************************</span>
00380 <span class="comment">** Operators</span>
00381 <span class="comment">****************************************************************************/</span>
00382 <span class="comment">/*!***************************************************************************</span>
00383 <span class="comment"> @Function          +</span>
00384 <span class="comment"> @Input             rhs another PVRTVec3</span>
00385 <span class="comment"> @Returns           result of addition</span>
00386 <span class="comment"> @Description       componentwise addition operator for two PVRTVec3s</span>
00387 <span class="comment">*****************************************************************************/</span>
00388     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
<a name="l00389"></a><a class="code" href="structPVRTVec3.html#a2">00389</a> <span class="keyword">    </span>{
00390         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00391         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00392         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00393         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00394         <span class="keywordflow">return</span> out;
00395     }
00396 <span class="comment">/*!***************************************************************************</span>
00397 <span class="comment"> @Function          -</span>
00398 <span class="comment"> @Input             rhs another PVRTVec3</span>
<a name="l00399"></a><a class="code" href="structPVRTVec3.html#a3">00399</a> <span class="comment"> @Returns           result of subtraction</span>
00400 <span class="comment"> @Description       componentwise subtraction operator for two PVRTVec3s</span>
00401 <span class="comment">****************************************************************************/</span>
00402     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00403 <span class="keyword">    </span>{
00404         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00405         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00406         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00407         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00408         <span class="keywordflow">return</span> out;
00409     }
00410 
00411 <span class="comment">/*!***************************************************************************</span>
00412 <span class="comment"> @Function          +=</span>
00413 <span class="comment"> @Input             rhs another PVRTVec3</span>
00414 <span class="comment"> @Returns           result of addition</span>
00415 <span class="comment"> @Description       componentwise addition and assignement operator for two PVRTVec3s</span>
00416 <span class="comment">****************************************************************************/</span>
00417     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00418     {
00419         x +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
<a name="l00420"></a><a class="code" href="structPVRTVec3.html#a5">00420</a>         y +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00421         z +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00422         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00423     }
00424 
00425 <span class="comment">/*!***************************************************************************</span>
00426 <span class="comment"> @Function          -=</span>
00427 <span class="comment"> @Input             rhs another PVRTVec3</span>
00428 <span class="comment"> @Returns           result of subtraction</span>
00429 <span class="comment"> @Description       componentwise subtraction and assignement operator for two PVRTVec3s</span>
00430 <span class="comment">****************************************************************************/</span>
00431     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00432     {
00433         x -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00434         y -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
<a name="l00435"></a><a class="code" href="structPVRTVec3.html#a6">00435</a>         z -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00436         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00437     }
00438 
00439 <span class="comment">/*!***************************************************************************</span>
00440 <span class="comment"> @Function          -</span>
00441 <span class="comment"> @Input             rhs another PVRTVec3</span>
00442 <span class="comment"> @Returns           result of negation</span>
00443 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00444 <span class="comment">****************************************************************************/</span>
00445     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator - </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(rhs) *= <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1); }
00446 
00447 <span class="comment">/*!***************************************************************************</span>
00448 <span class="comment"> @Function          *</span>
00449 <span class="comment"> @Input             lhs single value</span>
00450 <span class="comment"> @Input             rhs a PVRTVec3</span>
<a name="l00451"></a><a class="code" href="structPVRTVec3.html#a7">00451</a> <span class="comment"> @Returns           result of negation</span>
00452 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00453 <span class="comment">****************************************************************************/</span>
00454     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00455     {
00456         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00457         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00458         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00459         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00460         <span class="keywordflow">return</span> out;
00461     }
00462 
00463 <span class="comment">/*!***************************************************************************</span>
00464 <span class="comment"> @Function          *</span>
00465 <span class="comment"> @Input             lhs single value</span>
<a name="l00466"></a><a class="code" href="structPVRTVec3.html#a8">00466</a> <span class="comment"> @Input             rhs a PVRTVec3</span>
00467 <span class="comment"> @Returns           result of negation</span>
00468 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00469 <span class="comment">****************************************************************************/</span>
00470     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00471     {
00472         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00473         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00474         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00475         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00476         <span class="keywordflow">return</span> out;
00477     }
00478 
00479 <span class="comment">/*!***************************************************************************</span>
00480 <span class="comment"> @Function          *</span>
<a name="l00481"></a><a class="code" href="structPVRTVec3.html#n0">00481</a> <span class="comment"> @Input             rhs a PVRTMat3</span>
00482 <span class="comment"> @Returns           result of multiplication</span>
00483 <span class="comment"> @Description       matrix multiplication operator PVRTVec3 and PVRTMat3</span>
00484 <span class="comment">****************************************************************************/</span>
00485     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs) <span class="keyword">const</span>;
00486 
00487 <span class="comment">/*!***************************************************************************</span>
00488 <span class="comment"> @Function          *=</span>
00489 <span class="comment"> @Input             rhs a PVRTMat3</span>
00490 <span class="comment"> @Returns           result of multiplication and assignment</span>
<a name="l00491"></a><a class="code" href="structPVRTVec3.html#n1">00491</a> <span class="comment"> @Description       matrix multiplication and assignment operator for PVRTVec3 and PVRTMat3</span>
00492 <span class="comment">****************************************************************************/</span>
00493     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs);
00494 
00495 <span class="comment">/*!***************************************************************************</span>
00496 <span class="comment"> @Function          *</span>
00497 <span class="comment"> @Input             rhs a single value</span>
00498 <span class="comment"> @Returns           result of multiplication</span>
00499 <span class="comment"> @Description       componentwise multiplication by single dimension value for PVRTVec3</span>
00500 <span class="comment">****************************************************************************/</span>
00501     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00502 <span class="keyword">    </span>{
00503         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00504         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00505         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00506         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00507         <span class="keywordflow">return</span> out;
<a name="l00508"></a><a class="code" href="structPVRTVec3.html#n2">00508</a>     }
00509 
00510 <span class="comment">/*!***************************************************************************</span>
00511 <span class="comment"> @Function          *</span>
00512 <span class="comment"> @Input             rhs a single value</span>
00513 <span class="comment"> @Returns           result of multiplication and assignment</span>
00514 <span class="comment"> @Description       componentwise multiplication and assignement by single</span>
00515 <span class="comment">                    dimension value for PVRTVec3</span>
00516 <span class="comment">****************************************************************************/</span>
00517     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00518     {
00519         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00520         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00521         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00522         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00523     }
00524 
00525 <span class="comment">/*!***************************************************************************</span>
00526 <span class="comment"> @Function          /</span>
00527 <span class="comment"> @Input             rhs a single value</span>
00528 <span class="comment"> @Returns           result of division</span>
00529 <span class="comment"> @Description       componentwise division by single</span>
00530 <span class="comment">                    dimension value for PVRTVec3</span>
00531 <span class="comment">****************************************************************************/</span>
00532     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00533 <span class="keyword">    </span>{
00534         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00535         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00536         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00537         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00538         <span class="keywordflow">return</span> out;
00539     }
00540 
00541 <span class="comment">/*!***************************************************************************</span>
<a name="l00542"></a><a class="code" href="structPVRTVec3.html#a11">00542</a> <span class="comment"> @Function          /=</span>
00543 <span class="comment"> @Input             rhs a single value</span>
00544 <span class="comment"> @Returns           result of division and assignment</span>
00545 <span class="comment"> @Description       componentwise division and assignement by single</span>
00546 <span class="comment">                    dimension value for PVRTVec3</span>
00547 <span class="comment">****************************************************************************/</span>
00548     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a14">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00549     {
00550         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00551         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00552         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00553         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00554     }
00555 
00556     <span class="comment">// FUNCTIONS</span>
00557 <span class="comment">/*!***************************************************************************</span>
00558 <span class="comment"> @Function          lenSqr</span>
<a name="l00559"></a><a class="code" href="structPVRTVec3.html#a12">00559</a> <span class="comment"> @Returns           the square of the magnitude of the vector</span>
00560 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00561 <span class="comment">****************************************************************************/</span>
00562     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a15">lenSqr</a>()<span class="keyword"> const</span>
00563 <span class="keyword">    </span>{
00564         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,z);
00565     }
00566 
00567 <span class="comment">/*!***************************************************************************</span>
00568 <span class="comment"> @Function          length</span>
00569 <span class="comment"> @Returns           the of the magnitude of the vector</span>
00570 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00571 <span class="comment">****************************************************************************/</span>
00572     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a16">length</a>()<span class="keyword"> const</span>
00573 <span class="keyword">    </span>{
00574         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)));
<a name="l00575"></a><a class="code" href="structPVRTVec3.html#a13">00575</a>     }
00576 
00577 <span class="comment">/*!***************************************************************************</span>
00578 <span class="comment"> @Function          normalize</span>
00579 <span class="comment"> @Returns           the normalized value of the vector</span>
00580 <span class="comment"> @Description       normalizes the vector</span>
00581 <span class="comment">****************************************************************************/</span>
00582     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a17">normalize</a>()
00583     {
00584 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00585 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00586         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(z);
00587         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, n);
00588         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, n);
00589         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z, n);
00590 
00591         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
<a name="l00592"></a><a class="code" href="structPVRTVec3.html#a14">00592</a>         <span class="keywordtype">int</span> f = <a class="code" href="structPVRTVec3.html#a19">dot</a>(*<span class="keyword">this</span>);
00593         f = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTX2F</a>(f))));
00594 
00595         <span class="comment">// Multiply vector components by f</span>
00596         x = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(x, f);
00597         y = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(y, f);
00598         z = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(z, f);
00599 <span class="preprocessor">#else</span>
00600 <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a16">length</a>();
00601         x =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00602         y =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00603         z =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00604 <span class="preprocessor">#endif</span>
00605 <span class="preprocessor"></span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00606     }
<a name="l00607"></a><a class="code" href="structPVRTVec3.html#a15">00607</a> 
00608 <span class="comment">/*!***************************************************************************</span>
00609 <span class="comment"> @Function          normalized</span>
00610 <span class="comment"> @Returns           returns the normalized value of the vector</span>
00611 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00612 <span class="comment">                    vector</span>
00613 <span class="comment">****************************************************************************/</span>
00614     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a18">normalized</a>()<span class="keyword"> const</span>
00615 <span class="keyword">    </span>{
00616         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00617 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
<a name="l00618"></a><a class="code" href="structPVRTVec3.html#a16">00618</a> <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00619         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(z);
00620         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, n);
00621         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, n);
00622         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z, n);
00623 
00624         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00625         <span class="keywordtype">int</span> f = out.<a class="code" href="structPVRTVec3.html#a19">dot</a>(out);
00626         f = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTX2F</a>(f))));
00627 
00628         <span class="comment">// Multiply vector components by f</span>
<a name="l00629"></a><a class="code" href="structPVRTVec3.html#a17">00629</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, f);
00630         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, f);
00631         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>, f);
00632 <span class="preprocessor">#else</span>
00633 <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a16">length</a>();
00634         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00635         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00636         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00637 <span class="preprocessor">#endif</span>
00638 <span class="preprocessor"></span>        <span class="keywordflow">return</span> out;
00639     }
00640 
00641 <span class="comment">/*!***************************************************************************</span>
00642 <span class="comment"> @Function          dot</span>
00643 <span class="comment"> @Input             rhs a single value</span>
00644 <span class="comment"> @Returns           scalar product</span>
00645 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00646 <span class="comment">****************************************************************************/</span>
00647     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a19">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00648     {
00649         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00650     }
00651 
00652 <span class="comment">/*!***************************************************************************</span>
00653 <span class="comment"> @Function          dot</span>
00654 <span class="comment"> @Returns           scalar product</span>
00655 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00656 <span class="comment">****************************************************************************/</span>
00657     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a20">cross</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00658     {
00659         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00660         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00661         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
<a name="l00662"></a><a class="code" href="structPVRTVec3.html#a18">00662</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00663         <span class="keywordflow">return</span> out;
00664     }
00665 
00666 <span class="comment">/*!***************************************************************************</span>
00667 <span class="comment"> @Function          ptr</span>
00668 <span class="comment"> @Returns           pointer</span>
00669 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
00670 <span class="comment">                    PVRTVec3</span>
00671 <span class="comment">****************************************************************************/</span>
00672     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec3.html#a21">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00673 };
00674 
00675 <span class="comment">/*!***************************************************************************</span>
00676 <span class="comment">** PVRTVec4 4 component vector</span>
00677 <span class="comment">****************************************************************************/</span>
00678 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR4f.html">PVRTVECTOR4</a>
00679 {
00680 <span class="comment">/*!***************************************************************************</span>
00681 <span class="comment">** Constructors</span>
00682 <span class="comment">****************************************************************************/</span>
00683 <span class="comment">/*!***************************************************************************</span>
00684 <span class="comment"> @Function          PVRTVec4</span>
00685 <span class="comment"> @Description       Blank constructor.</span>
00686 <span class="comment">*****************************************************************************/</span>
00687     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(){}
00688 
00689 <span class="comment">/*!***************************************************************************</span>
00690 <span class="comment"> @Function          PVRTVec3</span>
00691 <span class="comment"> @Description       Blank constructor.</span>
00692 <span class="comment">*****************************************************************************/</span>
00693     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE vec)
00694     {
00695         x = vec; y = vec; <a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = vec;
<a name="l00696"></a><a class="code" href="structPVRTVec3.html#a19">00696</a>     }
00697 
00698 <span class="comment">/*!***************************************************************************</span>
00699 <span class="comment"> @Function          multiple value constructor</span>
00700 <span class="comment"> @Input             fX value of x component</span>
00701 <span class="comment"> @Input             fY value of y component</span>
00702 <span class="comment"> @Input             fZ value of z component</span>
00703 <span class="comment"> @Input             fW value of w component</span>
00704 <span class="comment"> @Description       Constructs a PVRTVec4 from 4 separate values</span>
00705 <span class="comment">****************************************************************************/</span>
00706     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ, VERTTYPE fW)
<a name="l00707"></a><a class="code" href="structPVRTVec3.html#a20">00707</a>     {
00708         x = fX; y = fY; z = fZ; w = fW;
00709     }
00710 
00711 <span class="comment">/*!***************************************************************************</span>
00712 <span class="comment"> @Function          constructor from PVRTVec3</span>
00713 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00714 <span class="comment"> @Input             fW value of w component</span>
00715 <span class="comment"> @Description       Constructs a PVRTVec4 from a vec3 and a w component</span>
00716 <span class="comment">****************************************************************************/</span>
00717     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3, VERTTYPE fW)
00718     {
00719         x = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>; w = fW;
00720     }
00721 
00722 <span class="comment">/*!***************************************************************************</span>
<a name="l00723"></a><a class="code" href="structPVRTVec3.html#a21">00723</a> <span class="comment"> @Function          constructor from PVRTVec3</span>
00724 <span class="comment"> @Input             fX value of x component</span>
00725 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00726 <span class="comment"> @Description       Constructs a vec4 from a vec3 and a w component</span>
00727 <span class="comment">****************************************************************************/</span>
00728     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3)
<a name="l00729"></a><a class="code" href="structPVRTVec4.html">00729</a>     {
00730         x = fX; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; w = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00731     }
00732 
00733 <span class="comment">/*!***************************************************************************</span>
00734 <span class="comment"> @Function          constructor from array</span>
00735 <span class="comment"> @Input             pVec a pointer to an array of four values</span>
00736 <span class="comment"> @Description       Constructs a PVRTVec4 from a pointer to an array of four values</span>
00737 <span class="comment">****************************************************************************/</span>
00738     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE* pVec)
<a name="l00739"></a><a class="code" href="structPVRTVec4.html#a0">00739</a>     {
00740         x = (*pVec++); y = (*pVec++); z= (*pVec++); w = *pVec;
00741     }
00742 
00743 <span class="comment">/*!***************************************************************************</span>
00744 <span class="comment">** PVRTVec4 Operators</span>
00745 <span class="comment">****************************************************************************/</span>
<a name="l00746"></a><a class="code" href="structPVRTVec4.html#a1">00746</a> <span class="comment">/*!***************************************************************************</span>
00747 <span class="comment"> @Function          +</span>
00748 <span class="comment"> @Input             rhs another PVRTVec4</span>
00749 <span class="comment"> @Returns           result of addition</span>
00750 <span class="comment"> @Description       Addition operator for PVRTVec4</span>
00751 <span class="comment">****************************************************************************/</span>
00752     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00753 <span class="keyword">    </span>{
00754         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00755         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00756         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00757         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00758         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w+rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00759         <span class="keywordflow">return</span> out;
<a name="l00760"></a><a class="code" href="structPVRTVec4.html#a2">00760</a>     }
00761 
00762 <span class="comment">/*!***************************************************************************</span>
00763 <span class="comment"> @Function          -</span>
00764 <span class="comment"> @Input             rhs another PVRTVec4</span>
00765 <span class="comment"> @Returns           result of subtraction</span>
00766 <span class="comment"> @Description       Subtraction operator for PVRTVec4</span>
00767 <span class="comment">****************************************************************************/</span>
00768     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00769 <span class="keyword">    </span>{
00770         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00771         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
<a name="l00772"></a><a class="code" href="structPVRTVec4.html#a3">00772</a>         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00773         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00774         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w-rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00775         <span class="keywordflow">return</span> out;
00776     }
00777 
00778 <span class="comment">/*!***************************************************************************</span>
00779 <span class="comment"> @Function          +=</span>
00780 <span class="comment"> @Input             rhs another PVRTVec4</span>
00781 <span class="comment"> @Returns           result of addition and assignment</span>
00782 <span class="comment"> @Description       Addition and assignment operator for PVRTVec4</span>
00783 <span class="comment">****************************************************************************/</span>
<a name="l00784"></a><a class="code" href="structPVRTVec4.html#a4">00784</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00785     {
00786         x +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00787         y +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00788         z +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00789         w +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00790         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00791     }
00792 
00793 <span class="comment">/*!***************************************************************************</span>
00794 <span class="comment"> @Function          -=</span>
<a name="l00795"></a><a class="code" href="structPVRTVec4.html#a5">00795</a> <span class="comment"> @Input             rhs another PVRTVec4</span>
00796 <span class="comment"> @Returns           result of subtraction and assignment</span>
00797 <span class="comment"> @Description       Subtraction and assignment operator for PVRTVec4</span>
00798 <span class="comment">****************************************************************************/</span>
00799     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00800     {
00801         x -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00802         y -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00803         z -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00804         w -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00805         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00806     }
00807 
00808 <span class="comment">/*!***************************************************************************</span>
00809 <span class="comment"> @Function          *</span>
<a name="l00810"></a><a class="code" href="structPVRTVec4.html#a6">00810</a> <span class="comment"> @Input             rhs a PVRTMat4</span>
00811 <span class="comment"> @Returns           result of multiplication</span>
00812 <span class="comment"> @Description       matrix multiplication for PVRTVec4 and PVRTMat4</span>
00813 <span class="comment">****************************************************************************/</span>
00814     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
00815 
00816 <span class="comment">/*!***************************************************************************</span>
00817 <span class="comment"> @Function          *=</span>
00818 <span class="comment"> @Input             rhs a PVRTMat4</span>
00819 <span class="comment"> @Returns           result of multiplication and assignement</span>
00820 <span class="comment"> @Description       matrix multiplication and assignment for PVRTVec4 and PVRTMat4</span>
00821 <span class="comment">****************************************************************************/</span>
00822     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs);
00823 
00824 <span class="comment">/*!***************************************************************************</span>
00825 <span class="comment"> @Function          *</span>
00826 <span class="comment"> @Input             rhs a single dimension value</span>
<a name="l00827"></a><a class="code" href="structPVRTVec4.html#a7">00827</a> <span class="comment"> @Returns           result of multiplication</span>
00828 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by a single value</span>
00829 <span class="comment">****************************************************************************/</span>
00830     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00831 <span class="keyword">    </span>{
00832         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00833         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00834         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00835         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00836         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs);
00837         <span class="keywordflow">return</span> out;
00838     }
00839 
00840 <span class="comment">/*!***************************************************************************</span>
00841 <span class="comment"> @Function          *=</span>
00842 <span class="comment"> @Input             rhs a single dimension value</span>
00843 <span class="comment"> @Returns           result of multiplication and assignment</span>
<a name="l00844"></a><a class="code" href="structPVRTVec4.html#a8">00844</a> <span class="comment"> @Description       componentwise multiplication and assignment of a PVRTVec4 by</span>
00845 <span class="comment">                a single value</span>
00846 <span class="comment">****************************************************************************/</span>
00847     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00848     {
00849         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00850         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00851         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00852         w = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs);
00853         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00854     }
00855 
00856 <span class="comment">/*!***************************************************************************</span>
00857 <span class="comment"> @Function          /</span>
00858 <span class="comment"> @Input             rhs a single dimension value</span>
00859 <span class="comment"> @Returns           result of division</span>
<a name="l00860"></a><a class="code" href="structPVRTVec4.html#a9">00860</a> <span class="comment"> @Description       componentwise division of a PVRTVec4 by a single value</span>
00861 <span class="comment">****************************************************************************/</span>
00862     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a14">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00863 <span class="keyword">    </span>{
00864         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00865         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00866         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00867         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00868         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,rhs);
00869         <span class="keywordflow">return</span> out;
00870     }
00871 
00872 <span class="comment">/*!***************************************************************************</span>
00873 <span class="comment"> @Function          /=</span>
00874 <span class="comment"> @Input             rhs a single dimension value</span>
00875 <span class="comment"> @Returns           result of division and assignment</span>
00876 <span class="comment"> @Description       componentwise division and assignment of a PVRTVec4 by</span>
00877 <span class="comment">                    a single value</span>
00878 <span class="comment">****************************************************************************/</span>
00879     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a15">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00880     {
00881         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00882         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00883         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00884         w = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,rhs);
00885         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00886     }
00887 
00888 <span class="comment">/*!***************************************************************************</span>
00889 <span class="comment"> @Function          *</span>
00890 <span class="comment"> @Input             lhs a single dimension value</span>
00891 <span class="comment"> @Input             rhs a PVRTVec4</span>
00892 <span class="comment"> @Returns           result of muliplication</span>
00893 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by</span>
<a name="l00894"></a><a class="code" href="structPVRTVec4.html#a12">00894</a> <span class="comment">                    a single value</span>
00895 <span class="comment">****************************************************************************/</span>
00896 <span class="keyword">friend</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp;  rhs)
00897 {
00898     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00899     out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>);
00900     out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>);
00901     out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>);
00902     out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
00903     <span class="keywordflow">return</span> out;
00904 }
00905 
00906 <span class="comment">/*!***************************************************************************</span>
00907 <span class="comment">** Functions</span>
00908 <span class="comment">****************************************************************************/</span>
00909 <span class="comment">/*!***************************************************************************</span>
00910 <span class="comment"> @Function          lenSqr</span>
00911 <span class="comment"> @Returns           square of the magnitude of the vector</span>
<a name="l00912"></a><a class="code" href="structPVRTVec4.html#a13">00912</a> <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00913 <span class="comment">****************************************************************************/</span>
00914     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a16">lenSqr</a>()<span class="keyword"> const</span>
00915 <span class="keyword">    </span>{
00916         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,z)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,w);
00917     }
00918 
00919 <span class="comment">/*!***************************************************************************</span>
00920 <span class="comment"> @Function          length</span>
00921 <span class="comment"> @Returns           the magnitude of the vector</span>
00922 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00923 <span class="comment">****************************************************************************/</span>
00924     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a17">length</a>()<span class="keyword"> const</span>
00925 <span class="keyword">    </span>{
00926         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(w)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(w)));
00927     }
<a name="l00928"></a><a class="code" href="structPVRTVec4.html#a14">00928</a> 
00929 <span class="comment">/*!***************************************************************************</span>
00930 <span class="comment"> @Function          normalize</span>
00931 <span class="comment"> @Returns           normalized vector</span>
00932 <span class="comment"> @Description       calculates the normalized value of a PVRTVec4</span>
00933 <span class="comment">****************************************************************************/</span>
00934     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a18">normalize</a>()
00935     {
00936         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a17">length</a>();
00937         x =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00938         y =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00939         z =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00940         w =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,len);
00941         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00942     }
00943 <span class="comment">/*!***************************************************************************</span>
00944 <span class="comment"> @Function          normalized</span>
00945 <span class="comment"> @Returns           normalized vector</span>
<a name="l00946"></a><a class="code" href="structPVRTVec4.html#a15">00946</a> <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00947 <span class="comment">                    vector</span>
00948 <span class="comment">****************************************************************************/</span>
00949     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a19">normalized</a>()<span class="keyword"> const</span>
00950 <span class="keyword">    </span>{
00951         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00952         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a17">length</a>();
00953         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00954         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00955         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00956         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,len);
00957         <span class="keywordflow">return</span> out;
00958     }
00959 
00960 <span class="comment">/*!***************************************************************************</span>
00961 <span class="comment"> @Function          dot</span>
00962 <span class="comment"> @Returns           scalar product</span>
00963 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
<a name="l00964"></a><a class="code" href="structPVRTVec4.html#n0">00964</a> <span class="comment">                    vector</span>
00965 <span class="comment">****************************************************************************/</span>
00966     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a20">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00967     {
00968         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
00969     }
00970 
00971 <span class="comment">/*!***************************************************************************</span>
00972 <span class="comment"> @Function          ptr</span>
00973 <span class="comment"> @Returns           pointer to vector values</span>
00974 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
00975 <span class="comment">                    PVRTVec3</span>
00976 <span class="comment">****************************************************************************/</span>
00977     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec4.html#a21">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00978 };
00979 
00980 <span class="comment">/*!***************************************************************************</span>
00981 <span class="comment">** PVRTMat3 3x3 Matrix</span>
00982 <span class="comment">****************************************************************************/</span>
<a name="l00983"></a><a class="code" href="structPVRTVec4.html#a16">00983</a> <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIX3f.html">PVRTMATRIX3</a>
00984 {
00985 <span class="comment">/*!***************************************************************************</span>
00986 <span class="comment">** Constructors</span>
00987 <span class="comment">****************************************************************************/</span>
00988 <span class="comment">/*!***************************************************************************</span>
00989 <span class="comment"> @Function          PVRTMat3</span>
00990 <span class="comment"> @Description       Blank constructor.</span>
00991 <span class="comment">*****************************************************************************/</span>
00992     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(){}
00993 <span class="comment">/*!***************************************************************************</span>
<a name="l00994"></a><a class="code" href="structPVRTVec4.html#a17">00994</a> <span class="comment"> @Function          PVRTMat3</span>
00995 <span class="comment"> @Input             pMat an array of values for the matrix</span>
00996 <span class="comment"> @Description       Constructor from array.</span>
00997 <span class="comment">*****************************************************************************/</span>
00998     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> VERTTYPE* pMat)
00999     {
01000         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>* ptr = f;
01001         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01002         {
01003             (*ptr++)=(*pMat++);
01004         }
<a name="l01005"></a><a class="code" href="structPVRTVec4.html#a18">01005</a>     }
01006 
01007 <span class="comment">/*!***************************************************************************</span>
01008 <span class="comment"> @Function          PVRTMat3</span>
01009 <span class="comment"> @Input             m0 matrix value</span>
01010 <span class="comment"> @Input             m1 matrix value</span>
01011 <span class="comment"> @Input             m2 matrix value</span>
01012 <span class="comment"> @Input             m3 matrix value</span>
01013 <span class="comment"> @Input             m4 matrix value</span>
01014 <span class="comment"> @Input             m5 matrix value</span>
01015 <span class="comment"> @Input             m6 matrix value</span>
01016 <span class="comment"> @Input             m7 matrix value</span>
01017 <span class="comment"> @Input             m8 matrix value</span>
01018 <span class="comment"> @Description       Constructor from distinct values.</span>
01019 <span class="comment">*****************************************************************************/</span>
01020     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,
<a name="l01021"></a><a class="code" href="structPVRTVec4.html#a19">01021</a>         VERTTYPE m3,VERTTYPE m4,VERTTYPE m5,
01022         VERTTYPE m6,VERTTYPE m7,VERTTYPE m8)
01023     {
01024         f[0]=m0;f[1]=m1;f[2]=m2;
01025         f[3]=m3;f[4]=m4;f[5]=m5;
01026         f[6]=m6;f[7]=m7;f[8]=m8;
01027     }
01028 
01029 <span class="comment">/*!***************************************************************************</span>
01030 <span class="comment"> @Function          PVRTMat3</span>
01031 <span class="comment"> @Input             mat - a PVRTMat4</span>
01032 <span class="comment"> @Description       Constructor from 4x4 matrix - uses top left values</span>
01033 <span class="comment">*****************************************************************************/</span>
01034     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; mat);
01035 
01036 <span class="comment">/****************************************************************************</span>
01037 <span class="comment">** PVRTMat3 OPERATORS</span>
01038 <span class="comment">****************************************************************************/</span>
<a name="l01039"></a><a class="code" href="structPVRTVec4.html#a20">01039</a> <span class="comment">/*!***************************************************************************</span>
01040 <span class="comment"> @Function          ()</span>
01041 <span class="comment"> @Input             r - row of matrix</span>
01042 <span class="comment"> @Input             c - column of matrix</span>
01043 <span class="comment"> @Returns           value of element</span>
01044 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01045 <span class="comment">                    PVRTMat3</span>
01046 <span class="comment">*****************************************************************************/</span>
01047     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01048     {
01049         <span class="keywordflow">return</span> f[c*3+r];
01050     }
<a name="l01051"></a><a class="code" href="structPVRTVec4.html#a21">01051</a> <span class="comment">/*!***************************************************************************</span>
01052 <span class="comment"> @Function          ()</span>
01053 <span class="comment"> @Input             r - row of matrix</span>
01054 <span class="comment"> @Input             c - column of matrix</span>
01055 <span class="comment"> @Returns           value of element</span>
01056 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
<a name="l01057"></a><a class="code" href="structPVRTMat3.html">01057</a> <span class="comment">                    PVRTMat3</span>
01058 <span class="comment">*****************************************************************************/</span>
01059     <span class="keyword">const</span> <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
01060 <span class="keyword">    </span>{
01061         <span class="keywordflow">return</span> f[c*3+r];
01062     }
01063 
01064 <span class="comment">/*!***************************************************************************</span>
01065 <span class="comment"> @Function          *</span>
01066 <span class="comment"> @Input             rhs another PVRTMat3</span>
<a name="l01067"></a><a class="code" href="structPVRTMat3.html#a0">01067</a> <span class="comment"> @Returns           result of multiplication</span>
01068 <span class="comment"> @Description       Matrix multiplication of two 3x3 matrices.</span>
01069 <span class="comment">*****************************************************************************/</span>
01070     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01071 <span class="keyword">    </span>{
01072         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01073         <span class="comment">// col 1</span>
<a name="l01074"></a><a class="code" href="structPVRTMat3.html#a1">01074</a>         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01075         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01076         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01077 
01078         <span class="comment">// col 2</span>
01079         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01080         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01081         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01082 
01083         <span class="comment">// col3</span>
01084         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01085         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01086         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01087         <span class="keywordflow">return</span> out;
01088     }
01089 
01090 <span class="comment">/*!***************************************************************************</span>
01091 <span class="comment"> @Function          +</span>
01092 <span class="comment"> @Input             rhs another PVRTMat3</span>
01093 <span class="comment"> @Returns           result of addition</span>
01094 <span class="comment"> @Description       element by element addition operator.</span>
01095 <span class="comment">*****************************************************************************/</span>
01096     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a7">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
<a name="l01097"></a><a class="code" href="structPVRTMat3.html#a2">01097</a> <span class="keyword">    </span>{
01098         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01099         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01100         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01101         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01102         {
01103             (*outptr++) = (*lptr++) + (*rptr++);
01104         }
01105         <span class="keywordflow">return</span> out;
01106     }
01107 
01108 <span class="comment">/*!***************************************************************************</span>
01109 <span class="comment"> @Function          -</span>
01110 <span class="comment"> @Input             rhs another PVRTMat3</span>
01111 <span class="comment"> @Returns           result of subtraction</span>
01112 <span class="comment"> @Description       element by element subtraction operator.</span>
01113 <span class="comment">*****************************************************************************/</span>
01114     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a8">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01115 <span class="keyword">    </span>{
01116         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01117         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01118         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01119         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01120         {
01121             (*outptr++) = (*lptr++) - (*rptr++);
01122         }
01123         <span class="keywordflow">return</span> out;
01124     }
01125 
<a name="l01126"></a><a class="code" href="structPVRTMat3.html#a4">01126</a> <span class="comment">/*!***************************************************************************</span>
01127 <span class="comment"> @Function          +=</span>
01128 <span class="comment"> @Input             rhs another PVRTMat3</span>
01129 <span class="comment"> @Returns           result of addition and assignment</span>
01130 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01131 <span class="comment">*****************************************************************************/</span>
01132     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a9">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01133     {
01134         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01135         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01136         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01137         {
01138             (*lptr++) += (*rptr++);
<a name="l01139"></a><a class="code" href="structPVRTMat3.html#a5">01139</a>         }
01140         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01141     }
01142 
01143 <span class="comment">/*!***************************************************************************</span>
01144 <span class="comment"> @Function          -=</span>
01145 <span class="comment"> @Input             rhs another PVRTMat3</span>
01146 <span class="comment"> @Returns           result of subtraction and assignment</span>
01147 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01148 <span class="comment">*****************************************************************************/</span>
01149     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a10">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01150     {
<a name="l01151"></a><a class="code" href="structPVRTMat3.html#a6">01151</a>         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01152         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01153         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01154         {
01155             (*lptr++) -= (*rptr++);
01156         }
01157         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01158     }
01159 
01160 <span class="comment">/*!***************************************************************************</span>
01161 <span class="comment"> @Function          *=</span>
01162 <span class="comment"> @Input             rhs another PVRTMat3</span>
01163 <span class="comment"> @Returns           result of multiplication and assignment</span>
01164 <span class="comment"> @Description       Matrix multiplication and assignment of two 3x3 matrices.</span>
01165 <span class="comment">*****************************************************************************/</span>
01166     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01167     {
01168         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01169         <span class="comment">// col 1</span>
01170         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01171         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01172         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01173 
01174         <span class="comment">// col 2</span>
01175         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01176         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01177         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
<a name="l01178"></a><a class="code" href="structPVRTMat3.html#a7">01178</a> 
01179         <span class="comment">// col3</span>
01180         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01181         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01182         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01183         *<span class="keyword">this</span> = out;
01184         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01185     }
01186 
01187 <span class="comment">/*!***************************************************************************</span>
01188 <span class="comment"> @Function          *</span>
01189 <span class="comment"> @Input             rhs a single value</span>
01190 <span class="comment"> @Returns           result of multiplication and assignment</span>
01191 <span class="comment"> @Description       element multiplication by a single value.</span>
01192 <span class="comment">*****************************************************************************/</span>
01193     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01194     {
01195         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01196         {
<a name="l01197"></a><a class="code" href="structPVRTMat3.html#a8">01197</a>             f[i]*=rhs;
01198         }
01199         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01200     }
01201 <span class="comment">/*!***************************************************************************</span>
01202 <span class="comment"> @Function          *=</span>
01203 <span class="comment"> @Input             rhs a single value</span>
01204 <span class="comment"> @Returns           result of multiplication and assignment</span>
01205 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01206 <span class="comment">*****************************************************************************/</span>
01207     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01208     {
01209         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01210         {
01211             f[i]*=rhs;
01212         }
01213         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01214     }
01215 
<a name="l01216"></a><a class="code" href="structPVRTMat3.html#a9">01216</a> <span class="comment">/*!***************************************************************************</span>
01217 <span class="comment"> @Function          *</span>
01218 <span class="comment"> @Input             rhs another PVRTVec3</span>
01219 <span class="comment"> @Returns           result of multiplication</span>
01220 <span class="comment"> @Description       Matrix multiplication of 3x3 matrix and vec3</span>
01221 <span class="comment">*****************************************************************************/</span>
01222     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
01223 <span class="keyword">    </span>{
01224         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
01225         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[6]);
01226         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[7]);
01227         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[8]);
01228 
01229         <span class="keywordflow">return</span> out;
01230     }
01231 
01232 
01233     <span class="comment">// FUNCTIONS</span>
<a name="l01234"></a><a class="code" href="structPVRTMat3.html#a10">01234</a> <span class="comment">/*!***************************************************************************</span>
01235 <span class="comment">** Functions</span>
01236 <span class="comment">*****************************************************************************/</span>
01237 <span class="comment">/*!***************************************************************************</span>
01238 <span class="comment"> @Function          determinant</span>
01239 <span class="comment"> @Returns           result of multiplication</span>
01240 <span class="comment"> @Description       Matrix multiplication and assignment of 3x3 matrix and vec3</span>
01241 <span class="comment">*****************************************************************************/</span>
01242     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTMat3.html#a15">determinant</a>()<span class="keyword"> const</span>
01243 <span class="keyword">    </span>{
01244         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],f[5])))
01245             - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],f[2])))
01246             + <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[5])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[2])));
01247     }
01248 
01249 <span class="comment">/*!***************************************************************************</span>
01250 <span class="comment"> @Function          inverse</span>
01251 <span class="comment"> @Returns           inverse mat3</span>
<a name="l01252"></a><a class="code" href="structPVRTMat3.html#a11">01252</a> <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01253 <span class="comment">*****************************************************************************/</span>
01254     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a16">inverse</a>()<span class="keyword"> const</span>
01255 <span class="keyword">    </span>{
01256         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01257 
01258 
01259         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> recDet = <a class="code" href="structPVRTMat3.html#a15">determinant</a>();
01260         <a class="code" href="PVRTGlobal_8h.html#a9">_ASSERT</a>(recDet!=0);
01261         recDet = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1.0f),recDet);
01262 
01263         <span class="comment">//TODO: deal with singular matrices with more than just an assert</span>
01264 
01265         <span class="comment">// inverse is 1/det * adjoint of M</span>
01266 
01267         <span class="comment">// adjoint is transpose of cofactor matrix</span>
01268 
01269         <span class="comment">// do transpose and cofactors in one step</span>
01270 
01271         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],f[7]);
01272         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[8]);
01273         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[5]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[4]);
01274 
01275         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],f[8]);
01276         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[6]);
01277         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[3]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[5]);
01278 
01279         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[6]);
<a name="l01280"></a><a class="code" href="structPVRTMat3.html#a12">01280</a>         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[7]);
01281         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[4]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[3]);
01282 
01283         out *= recDet;
01284         <span class="keywordflow">return</span> out;
01285     }
01286 
01287 <span class="comment">/*!***************************************************************************</span>
01288 <span class="comment"> @Function          transpose</span>
01289 <span class="comment"> @Returns           transpose 3x3 matrix</span>
01290 <span class="comment"> @Description       Calculates the transpose of this matrix</span>
01291 <span class="comment">*****************************************************************************/</span>
01292     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a17">transpose</a>()<span class="keyword"> const</span>
01293 <span class="keyword">    </span>{
01294         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
<a name="l01295"></a><a class="code" href="structPVRTMat3.html#a13">01295</a>         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = f[0];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = f[1];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = f[2];
01296         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = f[3];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = f[4];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = f[5];
01297         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = f[6];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = f[7];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = f[8];
01298         <span class="keywordflow">return</span> out;
01299     }
01300 
01301 <span class="comment">/*!***************************************************************************</span>
01302 <span class="comment"> @Function          ptr</span>
01303 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat3</span>
01304 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01305 <span class="comment">*****************************************************************************/</span>
01306     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat3.html#a18">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01307 
01308 <span class="comment">/*!***************************************************************************</span>
01309 <span class="comment">** Static factory functions</span>
01310 <span class="comment">*****************************************************************************/</span>
<a name="l01311"></a><a class="code" href="structPVRTMat3.html#a14">01311</a> <span class="comment">/*!***************************************************************************</span>
01312 <span class="comment"> @Function          Identity</span>
01313 <span class="comment"> @Returns           a PVRTMat3 representation of the 3x3 identity matrix</span>
01314 <span class="comment"> @Description       Generates an identity matrix</span>
01315 <span class="comment">*****************************************************************************/</span>
01316     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e0">Identity</a>()
01317     {
01318         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01319         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = 0;
01320         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = 0;
01321         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = 1;
01322         <span class="keywordflow">return</span> out;
01323     }
01324 
01325 <span class="comment">/*!***************************************************************************</span>
01326 <span class="comment"> @Function          RotationX</span>
01327 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01328 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01329 <span class="comment">                    degrees about the X axis</span>
01330 <span class="comment">*****************************************************************************/</span>
01331     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e1">RotationX</a>(VERTTYPE angle);
<a name="l01332"></a><a class="code" href="structPVRTMat3.html#a15">01332</a> 
01333 <span class="comment">/*!***************************************************************************</span>
01334 <span class="comment"> @Function          RotationY</span>
01335 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01336 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01337 <span class="comment">                    degrees about the Y axis</span>
01338 <span class="comment">*****************************************************************************/</span>
01339     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e2">RotationY</a>(VERTTYPE angle);
01340 
01341 <span class="comment">/*!***************************************************************************</span>
01342 <span class="comment"> @Function          RotationZ</span>
01343 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01344 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
<a name="l01345"></a><a class="code" href="structPVRTMat3.html#a16">01345</a> <span class="comment">                    degrees about the Z axis</span>
01346 <span class="comment">*****************************************************************************/</span>
01347     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e3">RotationZ</a>(VERTTYPE angle);
01348 
01349 <span class="comment">/*!***************************************************************************</span>
01350 <span class="comment"> @Function          Scale</span>
01351 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01352 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01353 <span class="comment">                    times in each axis.</span>
01354 <span class="comment">*****************************************************************************/</span>
01355     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01356     {
01357         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(fx,0,0,
01358             0,fy,0,
01359             0,0,fz);
01360     }
01361 
01362 
01363 <span class="comment">/*!***************************************************************************</span>
01364 <span class="comment"> @Function          Translation</span>
01365 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested translation</span>
01366 <span class="comment"> @Description       Calculates a matrix corresponding to a transformation</span>
01367 <span class="comment">                    of tx and ty times in each axis.</span>
01368 <span class="comment">*****************************************************************************/</span>
01369     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e5">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty)
01370     {
01371         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>( <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),    0,  0,
01372             0,    <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),  0,
01373             tx,  ty,  <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01374     }
01375 
01376 };
01377 
01378 <span class="comment">/*!***************************************************************************</span>
01379 <span class="comment">** PVRTMat4 4x4 Matrix</span>
01380 <span class="comment">****************************************************************************/</span>
01381 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>
01382 {
01383 <span class="comment">/*!***************************************************************************</span>
<a name="l01384"></a><a class="code" href="structPVRTMat3.html#a17">01384</a> <span class="comment">** Constructors</span>
01385 <span class="comment">****************************************************************************/</span>
01386 <span class="comment">/*!***************************************************************************</span>
01387 <span class="comment"> @Function          PVRTMat4</span>
01388 <span class="comment"> @Description       Blank constructor.</span>
01389 <span class="comment">*****************************************************************************/</span>
01390     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(){}
01391 <span class="comment">/*!***************************************************************************</span>
01392 <span class="comment"> @Function          PVRTMat4</span>
01393 <span class="comment"> @Input             m0 matrix value</span>
01394 <span class="comment"> @Input             m1 matrix value</span>
01395 <span class="comment"> @Input             m2 matrix value</span>
01396 <span class="comment"> @Input             m3 matrix value</span>
01397 <span class="comment"> @Input             m4 matrix value</span>
01398 <span class="comment"> @Input             m5 matrix value</span>
<a name="l01399"></a><a class="code" href="structPVRTMat3.html#a18">01399</a> <span class="comment"> @Input             m6 matrix value</span>
01400 <span class="comment"> @Input             m7 matrix value</span>
01401 <span class="comment"> @Input             m8 matrix value</span>
01402 <span class="comment"> @Input             m9 matrix value</span>
01403 <span class="comment"> @Input             m10 matrix value</span>
01404 <span class="comment"> @Input             m11 matrix value</span>
01405 <span class="comment"> @Input             m12 matrix value</span>
01406 <span class="comment"> @Input             m13 matrix value</span>
01407 <span class="comment"> @Input             m14 matrix value</span>
01408 <span class="comment"> @Input             m15 matrix value</span>
01409 <span class="comment"> @Description       Constructor from array.</span>
<a name="l01410"></a><a class="code" href="structPVRTMat3.html#e0">01410</a> <span class="comment">*****************************************************************************/</span>
01411     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,VERTTYPE m3,
01412         VERTTYPE m4,VERTTYPE m5,VERTTYPE m6,VERTTYPE m7,
01413         VERTTYPE m8,VERTTYPE m9,VERTTYPE m10,VERTTYPE m11,
01414         VERTTYPE m12,VERTTYPE m13,VERTTYPE m14,VERTTYPE m15)
01415     {
01416         f[0]=m0;f[1]=m1;f[2]=m2;f[3]=m3;
01417         f[4]=m4;f[5]=m5;f[6]=m6;f[7]=m7;
01418         f[8]=m8;f[9]=m9;f[10]=m10;f[11]=m11;
01419         f[12]=m12;f[13]=m13;f[14]=m14;f[15]=m15;
01420     }
01421 <span class="comment">/*!***************************************************************************</span>
01422 <span class="comment"> @Function          PVRTMat4</span>
01423 <span class="comment"> @Input             mat A pointer to an array of 16 VERTTYPEs</span>
01424 <span class="comment"> @Description       Constructor from distinct values.</span>
01425 <span class="comment">*****************************************************************************/</span>
01426     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<span class="keyword">const</span> VERTTYPE* mat)
01427     {
01428         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>* ptr = f;
01429         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01430         {
01431             (*ptr++)=(*mat++);
01432         }
01433     }
01434 
01435 <span class="comment">/****************************************************************************</span>
01436 <span class="comment">** PVRTMat4 OPERATORS</span>
01437 <span class="comment">****************************************************************************/</span>
01438 <span class="comment">/*!***************************************************************************</span>
01439 <span class="comment"> @Function          ()</span>
01440 <span class="comment"> @Input             r - row of matrix</span>
01441 <span class="comment"> @Input             c - column of matrix</span>
01442 <span class="comment"> @Returns           value of element</span>
01443 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01444 <span class="comment">                    PVRTMat4</span>
01445 <span class="comment">*****************************************************************************/</span>
01446     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01447     {
01448         <span class="keywordflow">return</span> f[c*4+r];
01449     }
01450 
01451 <span class="comment">/*!***************************************************************************</span>
01452 <span class="comment"> @Function          ()</span>
<a name="l01453"></a><a class="code" href="structPVRTMat3.html#e4">01453</a> <span class="comment"> @Input             r - row of matrix</span>
01454 <span class="comment"> @Input             c - column of matrix</span>
01455 <span class="comment"> @Returns           value of element</span>
01456 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01457 <span class="comment">                    PVRTMat4</span>
01458 <span class="comment">*****************************************************************************/</span>
01459     <span class="keyword">const</span> <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
01460 <span class="keyword">    </span>{
01461         <span class="keywordflow">return</span> f[c*4+r];
01462     }
01463 
01464 <span class="comment">/*!***************************************************************************</span>
01465 <span class="comment"> @Function          *</span>
01466 <span class="comment"> @Input             rhs another PVRTMat4</span>
01467 <span class="comment"> @Returns           result of multiplication</span>
<a name="l01468"></a><a class="code" href="structPVRTMat3.html#e5">01468</a> <span class="comment"> @Description       Matrix multiplication of two 4x4 matrices.</span>
01469 <span class="comment">*****************************************************************************/</span>
01470     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
01471 
01472 <span class="comment">/*!***************************************************************************</span>
01473 <span class="comment"> @Function          +</span>
01474 <span class="comment"> @Input             rhs another PVRTMat4</span>
01475 <span class="comment"> @Returns           result of addition</span>
01476 <span class="comment"> @Description       element by element addition operator.</span>
01477 <span class="comment">*****************************************************************************/</span>
01478     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01479 <span class="keyword">    </span>{
<a name="l01480"></a><a class="code" href="structPVRTMat4.html">01480</a>         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01481         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01482         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01483         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01484         {
01485             (*outptr++) = (*lptr++) + (*rptr++);
01486         }
01487         <span class="keywordflow">return</span> out;
01488     }
01489 
<a name="l01490"></a><a class="code" href="structPVRTMat4.html#a0">01490</a> <span class="comment">/*!***************************************************************************</span>
01491 <span class="comment"> @Function          -</span>
01492 <span class="comment"> @Input             rhs another PVRTMat4</span>
01493 <span class="comment"> @Returns           result of subtraction</span>
01494 <span class="comment"> @Description       element by element subtraction operator.</span>
01495 <span class="comment">*****************************************************************************/</span>
01496     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01497 <span class="keyword">    </span>{
01498         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01499         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01500         {
01501             out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i] = f[i]-rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01502         }
01503         <span class="keywordflow">return</span> out;
01504     }
01505 
01506 <span class="comment">/*!***************************************************************************</span>
01507 <span class="comment"> @Function          +=</span>
01508 <span class="comment"> @Input             rhs another PVRTMat4</span>
01509 <span class="comment"> @Returns           result of addition and assignment</span>
01510 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01511 <span class="comment">*****************************************************************************/</span>
<a name="l01512"></a><a class="code" href="structPVRTMat4.html#a1">01512</a>     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01513     {
01514         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01515         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01516         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01517         {
01518             (*lptr++) += (*rptr++);
01519         }
01520         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01521     }
01522 
01523 <span class="comment">/*!***************************************************************************</span>
01524 <span class="comment"> @Function          -=</span>
01525 <span class="comment"> @Input             rhs another PVRTMat4</span>
01526 <span class="comment"> @Returns           result of subtraction and assignment</span>
01527 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
<a name="l01528"></a><a class="code" href="structPVRTMat4.html#a2">01528</a> <span class="comment">*****************************************************************************/</span>
01529     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01530     {
01531         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01532         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01533         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01534         {
01535             (*lptr++) -= (*rptr++);
01536         }
01537         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01538     }
01539 
01540 
01541 <span class="comment">/*!***************************************************************************</span>
01542 <span class="comment"> @Function          *=</span>
01543 <span class="comment"> @Input             rhs another PVRTMat4</span>
01544 <span class="comment"> @Returns           result of multiplication and assignment</span>
01545 <span class="comment"> @Description       Matrix multiplication and assignment of two 4x4 matrices.</span>
01546 <span class="comment">*****************************************************************************/</span>
01547     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01548     {
<a name="l01549"></a><a class="code" href="structPVRTMat4.html#a3">01549</a>         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01550         <span class="comment">// col 0</span>
01551         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01552         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01553         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01554         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01555 
01556         <span class="comment">// col 1</span>
01557         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01558         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01559         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01560         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01561 
01562         <span class="comment">// col 2</span>
<a name="l01563"></a><a class="code" href="structPVRTMat4.html#a4">01563</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01564         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01565         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01566         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01567 
01568         <span class="comment">// col 3</span>
01569         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01570         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01571         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01572         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01573 
01574         *<span class="keyword">this</span> = result;
01575         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01576     }
01577 
01578 <span class="comment">/*!***************************************************************************</span>
01579 <span class="comment"> @Function          *</span>
01580 <span class="comment"> @Input             rhs a single value</span>
01581 <span class="comment"> @Returns           result of multiplication and assignment</span>
01582 <span class="comment"> @Description       element multiplication by a single value.</span>
01583 <span class="comment">*****************************************************************************/</span>
<a name="l01584"></a><a class="code" href="structPVRTMat4.html#a6">01584</a>     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01585     {
01586         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01587         {
01588             f[i]*=rhs;
01589         }
01590         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01591     }
01592 <span class="comment">/*!***************************************************************************</span>
01593 <span class="comment"> @Function          *=</span>
01594 <span class="comment"> @Input             rhs a single value</span>
01595 <span class="comment"> @Returns           result of multiplication and assignment</span>
01596 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01597 <span class="comment">*****************************************************************************/</span>
01598     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01599     {
01600         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01601         {
01602             f[i]*=rhs;
<a name="l01603"></a><a class="code" href="structPVRTMat4.html#a7">01603</a>         }
01604         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01605     }
01606 
01607 <span class="comment">/*!***************************************************************************</span>
01608 <span class="comment"> @Function          =</span>
01609 <span class="comment"> @Input             rhs another PVRTMat4</span>
01610 <span class="comment"> @Returns           result of assignment</span>
01611 <span class="comment"> @Description       element assignment operator.</span>
01612 <span class="comment">*****************************************************************************/</span>
01613     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a13">operator=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01614     {
01615         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01616         {
01617             f[i] =rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01618         }
01619         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01620"></a><a class="code" href="structPVRTMat4.html#a8">01620</a>     }
01621 <span class="comment">/*!***************************************************************************</span>
01622 <span class="comment"> @Function          *</span>
01623 <span class="comment"> @Input             rhs a PVRTVec4</span>
01624 <span class="comment"> @Returns           result of multiplication</span>
01625 <span class="comment"> @Description       Matrix multiplication of 4x4 matrix and vec3</span>
01626 <span class="comment">*****************************************************************************/</span>
01627     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01628 <span class="keyword">    </span>{
01629         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01630         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01631         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01632         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01633         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01634 
01635         <span class="keywordflow">return</span> out;
01636     }
01637 
<a name="l01638"></a><a class="code" href="structPVRTMat4.html#a9">01638</a> <span class="comment">/*!***************************************************************************</span>
01639 <span class="comment"> @Function          *=</span>
01640 <span class="comment"> @Input             rhs a PVRTVec4</span>
01641 <span class="comment"> @Returns           result of multiplication and assignment</span>
01642 <span class="comment"> @Description       Matrix multiplication and assignment of 4x4 matrix and vec3</span>
01643 <span class="comment">*****************************************************************************/</span>
01644     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01645 <span class="keyword">    </span>{
01646         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01647         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01648         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01649         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01650         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01651 
01652         <span class="keywordflow">return</span> out;
01653     }
01654 
01655 <span class="comment">/*!***************************************************************************</span>
01656 <span class="comment"> @Function          inverse</span>
<a name="l01657"></a><a class="code" href="structPVRTMat4.html#a10">01657</a> <span class="comment"> @Returns           inverse mat4</span>
01658 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01659 <span class="comment">                    The matrix must be of the form :</span>
01660 <span class="comment">                    A 0</span>
01661 <span class="comment">                    C 1</span>
01662 <span class="comment">                    Where A is a 3x3 matrix and C is a 1x3 matrix.</span>
01663 <span class="comment">*****************************************************************************/</span>
01664     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a16">inverse</a>() <span class="keyword">const</span>;
01665 
01666 <span class="comment">/*!***************************************************************************</span>
01667 <span class="comment"> @Function          inverseEx</span>
01668 <span class="comment"> @Returns           inverse mat4</span>
01669 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01670 <span class="comment">                    Uses a linear equation solver and the knowledge that M.M^-1=I.</span>
01671 <span class="comment">                    Use this fn to calculate the inverse of matrices that</span>
01672 <span class="comment">                    inverse() cannot.</span>
01673 <span class="comment">*****************************************************************************/</span>
01674     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a17">inverseEx</a>()<span class="keyword"> const</span>
01675 <span class="keyword">    </span>{
01676         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01677         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        *ppRows[4];
01678         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        pRes[4];
01679         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        pIn[20];
01680         <span class="keywordtype">int</span>             i, j;
01681 
01682         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01683             ppRows[i] = &amp;pIn[i * 5];
01684 
01685         <span class="comment">/* Solve 4 sets of 4 linear equations */</span>
01686         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01687         {
01688             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01689             {
01690                 ppRows[j][0] = <a class="code" href="structPVRTMat4.html#e0">PVRTMat4::Identity</a>().<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j];
01691                 memcpy(&amp;ppRows[j][1], &amp;f[j * 4], 4 * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
01692             }
01693 
01694             <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(pRes, (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>**)ppRows, 4);
<a name="l01695"></a><a class="code" href="structPVRTMat4.html#a11">01695</a> 
01696             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01697             {
01698                 out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j] = pRes[j];
01699             }
01700         }
01701 
01702         <span class="keywordflow">return</span> out;
01703     }
01704 
01705 <span class="comment">/*!***************************************************************************</span>
01706 <span class="comment"> @Function          transpose</span>
01707 <span class="comment"> @Returns           transpose mat4</span>
01708 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01709 <span class="comment">*****************************************************************************/</span>
<a name="l01710"></a><a class="code" href="structPVRTMat4.html#a12">01710</a>     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a18">transpose</a>()<span class="keyword"> const</span>
01711 <span class="keyword">    </span>{
01712         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01713         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = f[0];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = f[4];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = f[8];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = f[12];
01714         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = f[1];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = f[5];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = f[9];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = f[13];
01715         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = f[2];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = f[6];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = f[10];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = f[14];
01716         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = f[3];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = f[7];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = f[11];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = f[15];
01717         <span class="keywordflow">return</span> out;
01718     }
01719 
01720 <span class="comment">/*!***************************************************************************</span>
01721 <span class="comment"> @Function          postTranslate</span>
01722 <span class="comment"> @Input             tx distance of translation in x axis</span>
01723 <span class="comment"> @Input             ty distance of translation in y axis</span>
01724 <span class="comment"> @Input             tz distance of translation in z axis</span>
01725 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
<a name="l01726"></a><a class="code" href="structPVRTMat4.html#a13">01726</a> <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01727 <span class="comment">*****************************************************************************/</span>
01728     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
01729     {
01730         f[12] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[8]);
01731         f[13] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[9]);
01732         f[14] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[10]);
01733         f[15] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[11]);
01734 
01735 <span class="comment">//          col(3) += tx * col(0) + ty * col(1) + tz * col(2);</span>
01736         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01737     }
01738 
01739 <span class="comment">/*!***************************************************************************</span>
01740 <span class="comment"> @Function          postTranslate</span>
<a name="l01741"></a><a class="code" href="structPVRTMat4.html#a14">01741</a> <span class="comment"> @Input             tvec translation vector</span>
01742 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01743 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01744 <span class="comment">*****************************************************************************/</span>
01745     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01746     {
01747         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01748     }
01749 
01750 <span class="comment">/*!***************************************************************************</span>
01751 <span class="comment"> @Function          postTranslate</span>
01752 <span class="comment"> @Input             tx distance of translation in x axis</span>
01753 <span class="comment"> @Input             ty distance of translation in y axis</span>
01754 <span class="comment"> @Input             tz distance of translation in z axis</span>
01755 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01756 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01757 <span class="comment">*****************************************************************************/</span>
01758     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
<a name="l01759"></a><a class="code" href="structPVRTMat4.html#a15">01759</a>     {
01760         f[0]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],tx); f[4]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],tx); f[8]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],tx);    f[12]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],tx);
01761         f[1]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],ty); f[5]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],ty); f[9]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],ty);    f[13]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],ty);
01762         f[2]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],tz); f[6]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],tz); f[10]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],tz);   f[14]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],tz);
01763 
01764 <span class="comment">//          row(0) += tx * row(3);</span>
01765 <span class="comment">//          row(1) += ty * row(3);</span>
01766 <span class="comment">//          row(2) += tz * row(3);</span>
01767         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01768     }
01769 
01770 <span class="comment">/*!***************************************************************************</span>
01771 <span class="comment"> @Function          postTranslate</span>
01772 <span class="comment"> @Input             tvec translation vector</span>
01773 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01774 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01775 <span class="comment">*****************************************************************************/</span>
01776     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01777     {
01778         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01779     }
01780 <span class="comment">/*!***************************************************************************</span>
01781 <span class="comment"> @Function          ptr</span>
01782 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat4</span>
01783 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01784 <span class="comment">*****************************************************************************/</span>
01785     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat4.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01786 
01787 <span class="comment">/*!***************************************************************************</span>
01788 <span class="comment">** Static factory functions</span>
01789 <span class="comment">*****************************************************************************/</span>
01790 <span class="comment">/*!***************************************************************************</span>
<a name="l01791"></a><a class="code" href="structPVRTMat4.html#a17">01791</a> <span class="comment"> @Function          Identity</span>
01792 <span class="comment"> @Returns           a PVRTMat4 representation of the 4x4 identity matrix</span>
01793 <span class="comment"> @Description       Generates an identity matrix</span>
01794 <span class="comment">*****************************************************************************/</span>
01795     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e0">Identity</a>()
01796     {
01797         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01798         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;
01799         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = 0;
01800         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = 0;
01801         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
01802         <span class="keywordflow">return</span> out;
01803     }
01804 
01805 <span class="comment">/*!***************************************************************************</span>
01806 <span class="comment"> @Function          RotationX</span>
01807 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01808 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01809 <span class="comment">                    degrees about the X axis</span>
01810 <span class="comment">*****************************************************************************/</span>
01811     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e1">RotationX</a>(VERTTYPE angle);
01812 <span class="comment">/*!***************************************************************************</span>
01813 <span class="comment"> @Function          RotationY</span>
01814 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01815 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01816 <span class="comment">                    degrees about the Y axis</span>
01817 <span class="comment">*****************************************************************************/</span>
01818     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e2">RotationY</a>(VERTTYPE angle);
01819 <span class="comment">/*!***************************************************************************</span>
01820 <span class="comment"> @Function          RotationZ</span>
01821 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01822 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01823 <span class="comment">                    degrees about the Z axis</span>
01824 <span class="comment">*****************************************************************************/</span>
01825     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e3">RotationZ</a>(VERTTYPE angle);
01826 
01827 <span class="comment">/*!***************************************************************************</span>
<a name="l01828"></a><a class="code" href="structPVRTMat4.html#a18">01828</a> <span class="comment"> @Function          Scale</span>
01829 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01830 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01831 <span class="comment">                    times in each axis.</span>
01832 <span class="comment">*****************************************************************************/</span>
01833     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01834     {
01835         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(fx,0,0,0,
01836             0,fy,0,0,
01837             0,0,fz,0,
01838             0,0,0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01839     }
01840 
01841 <span class="comment">/*!***************************************************************************</span>
01842 <span class="comment"> @Function          Translation</span>
01843 <span class="comment"> @Returns           a PVRTMat4 corresponding to the requested translation</span>
01844 <span class="comment"> @Description       Calculates a 4x4 matrix corresponding to a transformation</span>
01845 <span class="comment">                    of tx, ty and tz distance in each axis.</span>
01846 <span class="comment">*****************************************************************************/</span>
<a name="l01847"></a><a class="code" href="structPVRTMat4.html#a19">01847</a>     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e5">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty, <span class="keyword">const</span> VERTTYPE tz)
01848     {
01849         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,0,0,
01850             0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,0,
01851             0,0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,
01852             tx,ty,tz,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01853     }
01854 
01855 <span class="comment">/*!***************************************************************************</span>
01856 <span class="comment">** Clipspace enum</span>
01857 <span class="comment">** Determines whether clip space Z ranges from -1 to 1 (OGL) or from 0 to 1 (D3D)</span>
01858 <span class="comment">*****************************************************************************/</span>
01859     <span class="keyword">enum</span> eClipspace { OGL, D3D };
01860 
01861 <span class="comment">/*!***************************************************************************</span>
01862 <span class="comment"> @Function          Ortho</span>
01863 <span class="comment"> @Input             left view plane</span>
01864 <span class="comment"> @Input             top view plane</span>
<a name="l01865"></a><a class="code" href="structPVRTMat4.html#a20">01865</a> <span class="comment"> @Input             right view plane</span>
01866 <span class="comment"> @Input             bottom view plane</span>
01867 <span class="comment"> @Input             nearPlane the near rendering plane</span>
01868 <span class="comment"> @Input             farPlane the far rendering plane</span>
01869 <span class="comment"> @Input             cs which clipspace convention is being used</span>
01870 <span class="comment"> @Input             bRotate is the viewport in portrait or landscape mode</span>
01871 <span class="comment"> @Returns           Returns the orthogonal projection matrix defined by the passed parameters</span>
01872 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01873 <span class="comment">*****************************************************************************/</span>
01874     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e6">Ortho</a>(VERTTYPE left, VERTTYPE top, VERTTYPE right,
01875         VERTTYPE bottom, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01876     {
01877         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcplmr = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(left - right));
01878         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpbmt = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(bottom - top));
<a name="l01879"></a><a class="code" href="structPVRTMat4.html#a21">01879</a>         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(nearPlane - farPlane));
01880 
01881         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01882 
01883         <span class="keywordflow">if</span> (bRotate)
01884         {
01885             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-(right+left),rcplmr);
01886             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01887         }
01888         <span class="keywordflow">else</span>
01889         {
01890             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(right+left,rcplmr);
01891             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01892         }
01893         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
01894         {
01895             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=-rcpnmf;   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(nearPlane,rcpnmf);
01896         }
01897         <span class="keywordflow">else</span>
<a name="l01898"></a><a class="code" href="structPVRTMat4.html#a22">01898</a>         {
01899             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(nearPlane + farPlane,rcpnmf);
01900         }
01901         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=1;
01902 
01903         <span class="keywordflow">return</span> result;
01904     }
01905 
01906 
01907 <span class="comment">/*!***************************************************************************</span>
<a name="l01908"></a><a class="code" href="structPVRTMat4.html#a23">01908</a> <span class="comment"> @Function          LookAtRH</span>
01909 <span class="comment"> @Input             vEye position of 'camera'</span>
01910 <span class="comment"> @Input             vAt target that camera points at</span>
01911 <span class="comment"> @Input             vUp up vector for camera</span>
01912 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
01913 <span class="comment"> @Description       Create a look-at view matrix for a right hand coordinate</span>
01914 <span class="comment">                    system</span>
01915 <span class="comment">*****************************************************************************/</span>
01916     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e7">LookAtRH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
01917         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(vEye, vAt, vUp, <span class="keyword">true</span>); }
01918 <span class="comment">/*!***************************************************************************</span>
<a name="l01919"></a><a class="code" href="structPVRTMat4.html#e0">01919</a> <span class="comment"> @Function          LookAtLH</span>
01920 <span class="comment"> @Input             vEye position of 'camera'</span>
01921 <span class="comment"> @Input             vAt target that camera points at</span>
01922 <span class="comment"> @Input             vUp up vector for camera</span>
01923 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
01924 <span class="comment"> @Description       Create a look-at view matrix for a left hand coordinate</span>
01925 <span class="comment">                    system</span>
01926 <span class="comment">*****************************************************************************/</span>
01927     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e8">LookAtLH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
01928         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(vEye, vAt, vUp, <span class="keyword">false</span>); }
01929 
01930 <span class="comment">/*!***************************************************************************</span>
01931 <span class="comment"> @Function      PerspectiveRH</span>
01932 <span class="comment"> @Input         width       width of viewplane</span>
01933 <span class="comment"> @Input         height      height of viewplane</span>
01934 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01935 <span class="comment"> @Input         farPlane    far clipping distance</span>
01936 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01937 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01938 <span class="comment"> @Returns       Perspective matrix</span>
01939 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
01940 <span class="comment">                system</span>
01941 <span class="comment">*****************************************************************************/</span>
01942     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e9">PerspectiveRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane,
01943         VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01944         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
01945 
01946 <span class="comment">/*!***************************************************************************</span>
01947 <span class="comment"> @Function      PerspectiveLH</span>
01948 <span class="comment"> @Input         width       width of viewplane</span>
01949 <span class="comment"> @Input         height      height of viewplane</span>
01950 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01951 <span class="comment"> @Input         farPlane    far clipping distance</span>
01952 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01953 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01954 <span class="comment"> @Returns       Perspective matrix</span>
01955 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
01956 <span class="comment">                system</span>
01957 <span class="comment">*****************************************************************************/</span>
01958     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e10">PerspectiveLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01959         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
01960 
<a name="l01961"></a><a class="code" href="structPVRTMat4.html#e4">01961</a> <span class="comment">/*!***************************************************************************</span>
01962 <span class="comment"> @Function      PerspectiveFloatDepthRH</span>
01963 <span class="comment"> @Input         width       width of viewplane</span>
01964 <span class="comment"> @Input         height      height of viewplane</span>
01965 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01966 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01967 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01968 <span class="comment"> @Returns       Perspective matrix</span>
01969 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
01970 <span class="comment">                system</span>
01971 <span class="comment">*****************************************************************************/</span>
01972     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e11">PerspectiveFloatDepthRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01973         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
01974 
01975 <span class="comment">/*!***************************************************************************</span>
<a name="l01976"></a><a class="code" href="structPVRTMat4.html#e5">01976</a> <span class="comment"> @Function      PerspectiveFloatDepthLH</span>
01977 <span class="comment"> @Input         width       width of viewplane</span>
01978 <span class="comment"> @Input         height      height of viewplane</span>
01979 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01980 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01981 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01982 <span class="comment"> @Returns       Perspective matrix</span>
01983 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
01984 <span class="comment">                system</span>
01985 <span class="comment">*****************************************************************************/</span>
01986     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e12">PerspectiveFloatDepthLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01987         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
<a name="l01988"></a><a class="code" href="structPVRTMat4.html#w2">01988</a> 
01989 <span class="comment">/*!***************************************************************************</span>
01990 <span class="comment"> @Function      PerspectiveFovRH</span>
01991 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
01992 <span class="comment"> @Input         aspect      aspect ratio of view</span>
01993 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01994 <span class="comment"> @Input         farPlane    far clipping distance</span>
01995 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01996 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01997 <span class="comment"> @Returns       Perspective matrix</span>
01998 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
01999 <span class="comment">                system</span>
02000 <span class="comment">*****************************************************************************/</span>
02001     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e13">PerspectiveFovRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02002         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
02003 <span class="comment">/*!***************************************************************************</span>
<a name="l02004"></a><a class="code" href="structPVRTMat4.html#e6">02004</a> <span class="comment"> @Function      PerspectiveFovLH</span>
02005 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02006 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02007 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02008 <span class="comment"> @Input         farPlane    far clipping distance</span>
02009 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02010 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02011 <span class="comment"> @Returns       Perspective matrix</span>
02012 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02013 <span class="comment">                system</span>
02014 <span class="comment">*****************************************************************************/</span>
02015     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e14">PerspectiveFovLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02016         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
02017 
02018 <span class="comment">/*!***************************************************************************</span>
02019 <span class="comment"> @Function      PerspectiveFovRH</span>
02020 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02021 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02022 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02023 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02024 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02025 <span class="comment"> @Returns       Perspective matrix</span>
02026 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02027 <span class="comment">                system</span>
02028 <span class="comment">*****************************************************************************/</span>
02029     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e15">PerspectiveFovFloatDepthRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02030         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02031 <span class="comment">/*!***************************************************************************</span>
02032 <span class="comment"> @Function      PerspectiveFovLH</span>
02033 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02034 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02035 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02036 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02037 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02038 <span class="comment"> @Returns       Perspective matrix</span>
02039 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02040 <span class="comment">                system</span>
02041 <span class="comment">*****************************************************************************/</span>
02042     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e16">PerspectiveFovFloatDepthLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02043         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02044 
02045 <span class="comment">/*!***************************************************************************</span>
02046 <span class="comment"> @Function          LookAt</span>
<a name="l02047"></a><a class="code" href="structPVRTMat4.html#e7">02047</a> <span class="comment"> @Input             vEye position of 'camera'</span>
02048 <span class="comment"> @Input             vAt target that camera points at</span>
02049 <span class="comment"> @Input             vUp up vector for camera</span>
02050 <span class="comment"> @Input             bRightHanded handedness of coordinate system</span>
02051 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
02052 <span class="comment"> @Description       Create a look-at view matrix</span>
02053 <span class="comment">*****************************************************************************/</span>
02054     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp, <span class="keywordtype">bool</span> bRightHanded)
02055     {
02056         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> vForward, vUpNorm, vSide;
02057         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02058 
<a name="l02059"></a><a class="code" href="structPVRTMat4.html#e8">02059</a>         vForward = (bRightHanded) ? vEye - vAt : vAt - vEye;
02060 
02061         vForward.<a class="code" href="structPVRTVec3.html#a17">normalize</a>();
02062         vUpNorm = vUp.<a class="code" href="structPVRTVec3.html#a18">normalized</a>();
02063         vSide   = vUpNorm.<a class="code" href="structPVRTVec3.html#a20">cross</a>( vForward);
02064         vUpNorm = vForward.<a class="code" href="structPVRTVec3.html#a20">cross</a>(vSide);
02065 
02066         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;        result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02067         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02068         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=0;
02069         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0;             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
02070 
02071         <span class="comment">// TODO</span>
02072         result.<a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(-vEye);
02073         <span class="keywordflow">return</span> result;
02074     }
<a name="l02075"></a><a class="code" href="structPVRTMat4.html#e9">02075</a> 
02076 <span class="comment">/*!***************************************************************************</span>
02077 <span class="comment"> @Function      Perspective</span>
02078 <span class="comment"> @Input         width       width of viewplane</span>
02079 <span class="comment"> @Input         height      height of viewplane</span>
02080 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02081 <span class="comment"> @Input         farPlane    far clipping distance</span>
02082 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02083 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02084 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02085 <span class="comment"> @Returns       Perspective matrix</span>
02086 <span class="comment"> @Description   Create a perspective matrix</span>
02087 <span class="comment">*****************************************************************************/</span>
02088     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(
02089         VERTTYPE width, VERTTYPE height,
02090         VERTTYPE nearPlane, VERTTYPE farPlane,
02091         <span class="keyword">const</span> eClipspace cs,
<a name="l02092"></a><a class="code" href="structPVRTMat4.html#e10">02092</a>         <span class="keywordtype">bool</span> bRightHanded,
02093         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02094     {
02095         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(2),nearPlane);
02096         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),(nearPlane - farPlane));
02097 
02098         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02099         <span class="keywordflow">if</span> (bRotate)
02100         {
02101             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02102             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02103         }
02104         <span class="keywordflow">else</span>
02105         {
02106             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
<a name="l02107"></a><a class="code" href="structPVRTMat4.html#e11">02107</a>             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02108         }
02109         <span class="keywordflow">if</span> (cs == D3D)
02110         {
02111             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf),nearPlane);
02112         }
02113         <span class="keywordflow">else</span>
02114         {
02115             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane+nearPlane,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf),n2);
02116         }
02117         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=0;
02118 
02119         <span class="keywordflow">if</span> (!bRightHanded)
02120         {
02121             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10], <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1));
<a name="l02122"></a><a class="code" href="structPVRTMat4.html#e12">02122</a>             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
02123         }
02124 
02125         <span class="keywordflow">return</span> result;
02126     }
02127 
02128 <span class="comment">/*!***************************************************************************</span>
02129 <span class="comment"> @Function      Perspective</span>
02130 <span class="comment"> @Input         width       width of viewplane</span>
02131 <span class="comment"> @Input         height      height of viewplane</span>
02132 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02133 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02134 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02135 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02136 <span class="comment"> @Returns       Perspective matrix</span>
02137 <span class="comment"> @Description   perspective calculation where far plane is assumed to be at an infinite distance and the screen</span>
<a name="l02138"></a><a class="code" href="structPVRTMat4.html#e13">02138</a> <span class="comment">                space Z is inverted</span>
02139 <span class="comment">*****************************************************************************/</span>
02140     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(
02141         VERTTYPE width, VERTTYPE height,
02142         VERTTYPE nearPlane,
02143         <span class="keyword">const</span> eClipspace cs,
02144         <span class="keywordtype">bool</span> bRightHanded,
02145         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02146     {
02147         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,nearPlane);
02148 
02149         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02150         <span class="keywordflow">if</span> (bRotate)
02151         {
02152             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
<a name="l02153"></a><a class="code" href="structPVRTMat4.html#e14">02153</a>             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02154         }
02155         <span class="keywordflow">else</span>
02156         {
02157             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02158             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02159         }
02160         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
02161         {
02162             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=nearPlane;
02163         }
02164         <span class="keywordflow">else</span>
02165         {
02166             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=(bRightHanded?(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)1:(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)-1);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=n2;
02167         }
<a name="l02168"></a><a class="code" href="structPVRTMat4.html#e15">02168</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]= (bRightHanded?(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)-1:(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;
02169 
02170         <span class="keywordflow">return</span> result;
02171     }
02172 
02173 <span class="comment">/*!***************************************************************************</span>
02174 <span class="comment"> @Function      Perspective</span>
02175 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02176 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02177 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02178 <span class="comment"> @Input         farPlane    far clipping distance</span>
02179 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02180 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02181 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
<a name="l02182"></a><a class="code" href="structPVRTMat4.html#e16">02182</a> <span class="comment"> @Returns       Perspective matrix</span>
02183 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02184 <span class="comment">*****************************************************************************/</span>
02185     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(
02186         VERTTYPE fovy, VERTTYPE aspect,
02187         VERTTYPE nearPlane, VERTTYPE farPlane,
02188         <span class="keyword">const</span> eClipspace cs,
02189         <span class="keywordtype">bool</span> bRightHanded,
02190         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02191     {
02192         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(2.0f),nearPlane),<a class="code" href="PVRTFixedPoint_8h.html#a34">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(fovy,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(0.5f))));
02193         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(height,aspect), nearPlane, farPlane, cs, bRightHanded, bRotate);
02194         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(height,aspect), height, nearPlane, farPlane, cs, bRightHanded, bRotate);
<a name="l02195"></a><a class="code" href="structPVRTMat4.html#e17">02195</a>     }
02196 
02197 <span class="comment">/*!***************************************************************************</span>
02198 <span class="comment"> @Function      Perspective</span>
02199 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02200 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02201 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02202 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02203 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02204 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02205 <span class="comment"> @Returns       Perspective matrix</span>
02206 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02207 <span class="comment">                and far plane is assumed to be at an infinite distance with inverted Z range</span>
02208 <span class="comment">*****************************************************************************/</span>
02209     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(
02210         VERTTYPE fovy, VERTTYPE aspect,
02211         VERTTYPE nearPlane,
02212         <span class="keyword">const</span> eClipspace cs,
02213         <span class="keywordtype">bool</span> bRightHanded,
02214         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02215     {
02216         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,nearPlane), <a class="code" href="PVRTFixedPoint_8h.html#a34">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(fovy,0.5)));
02217         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(height,aspect), nearPlane, cs, bRightHanded, bRotate);
02218         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(height,aspect), height, nearPlane, cs, bRightHanded, bRotate);
02219     }
02220 };
02221 
02222 <span class="preprocessor">#endif </span><span class="comment">/*__PVRTVECTOR_H__*/</span>
02223 
02224 <span class="comment">/*****************************************************************************</span>
02225 <span class="comment">End of file (PVRTVector.h)</span>
02226 <span class="comment">*****************************************************************************/</span>
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A> © 
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
