<html>
<head>
<title>
FlashFX API: Flash Interface Module - FIM
</title>

<style type="text/css">

<!--
/*  TwinText Style (c) PTLogica 2002 - 2004  */

 
/* Body */
body{font-family:"Verdana", sans-serif;font-size: 8pt; }

/* Body (Chapter) */
body.Main{background: #FFFFFF;color: #000000;  margin: 0;       }

/*IE 5.5 */
li, table {  font-family: "Verdana", sans-serif; font-size: 8pt;  }

/* Project Title */
div.ProjectTitle {
	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
	color: White;
	text-align: left;
	padding-bottom: 3px;
}

/* Chapter's Title */
h1{font-family:"Verdana", sans-serif;font-size: 14px;
font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 9px;    padding-top: 15px;  padding-bottom: 15px;  padding-left: 10px;  background-color: #006699;  color: White;
 border-bottom: 4px solid Black;}
 
/* Feedback */
div.Feedback {
 	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
    text-align: right;
    margin: 0px;
    padding: 2px;
    background: #EFEFEF;
    position: relative; top: -10px; left: 0px;
} 

/* Common to all section text, including first section */
div.SectionText{margin-left: 10px;margin-right: 10px;margin-top: 10px;margin-bottom: 10px;   }

/* Contents or Summary */
h2{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 5px;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}

/* Table of Contents */
div.Toc{margin-top: 30px;margin-bottom: 30px;  border: 1px solid #CCCCCC;  padding: 5px;  margin-left: 30px;  margin-right: 30px;    }
div.TocLinks{font-weight: normal;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0pt;margin-bottom: 0pt;}
ul.TocLinks{}
li.TocLink{}
a.TocLink{}

/* Summary */
div.Summary{margin-top: 20px;margin-bottom: 40px;    padding: 5px;  margin-left: 30px;  margin-right: 20px; }
table.SummaryTable{  margin-top: 15px;  margin-bottom: 15px;  background-color: transparent;                   }
tr.SummaryRow { }
td.SummaryLink{font-weight: normal;text-align: left;width: 15%;        padding: 5px;             }
td.SummaryText{text-align: left;      padding: 5px;  background-color: transparent;  color: Black;                    }
a.SummaryLink{ }

/* Sections */
div.AllSections{margin-top: 0;margin-bottom: 70px;  margin-left: 0;  margin-right: 0;  }

div.Section{margin-top: 30px;margin-bottom: 10px;}
h3{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 10px;  padding-left: 10px;  padding-bottom: 3px;  background: #6699CC;  color: White;  border-bottom: 1px solid Black;     }

/* API Box */
div.Api{font-family:"Courier New", monospace;font-size: 9pt;margin-left: 15px;margin-right: 15px;margin-top: 15px;margin-bottom: 15px;padding: 7px;color: Black;  border: 1px solid #CCCCCC;  background: transparent;  }
font.ApiName{font-weight: bold;  background-color: transparent;  color: Black;  }

/* Section Text Elements */
h4{font-family:"Verdana", sans-serif;font-size: 9pt;font-weight: bold;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}
pre{font-family:"Courier New", monospace;font-size: 11px;white-space: pre;margin-top: 7pt;margin-bottom: 7pt;  border: 1px dashed #CCCCCC;  padding: 5px;  margin-left: 5px;  margin-right: 5px;  color: Black;     }
font.HighText{ background-color: #FFFF00; color: Black;  font-weight: normal;}
ul{}
li{list-style: disc;}
a:link{text-decoration:none;color: #005499;background: transparent;}
a:visited{text-decoration:none;color: #005499;background: transparent;}
a:active{text-decoration:none;color: #005499;background: transparent;}
a:hover{text-decoration:underline;color: #005499;background: transparent;}
	
	/* Definitions Table */
table.DefTable{ margin-left: 20px;  margin-right: 20px;   }
tr.Def{  }
td.Def{font-family:"Courier New", monospace;font-size: 9pt;  font-weight: normal;   padding-left: 5px;  padding-right: 5px;      color: Black;  vertical-align: top;  white-space: nowrap;  text-align: left;            }
td.DefSep{font-family:"Courier New", monospace;font-size: 9pt;padding-right: 5pt;padding-left: 5pt;  vertical-align: top;  text-align: center;  }
td.DefText{ vertical-align: top;  text-align: left;  }

/* Copyright */
div.Copy { padding: 10px;  }

/* Footer */
div.Footer{ border-top: 1px solid #CCCCCC;  margin-top: 10px;  padding: 5px;  border-bottom: 1px solid #CCCCCC;    }

div.SourceLocation{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-bottom: 10px;  margin-left: 10px;   }
div.LastGenerated{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-left: 40px;  }


/* Navigation */
body.Side{background: #6699CC;color: White;  margin: 0px;  padding: 0px;  }
div.Side{}
/* not well supported in some versions of IE; remove background color and bottom border */
/*div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: White;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  background-color: #006699;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 5px;  border-bottom: 4px solid Black;} */
div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: #000000;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 7px; }
div.SideText{text-align: left;margin-top: 0px;margin-bottom: 5px;  margin-left: 0px;  margin-right: 0px;  padding-bottom: 9px;    padding-left: 7px;  color: #FFCC00;  background: #6699CC;  padding-top: 10px;  font-weight: bold;               }
div.SideDetail { font-family: Arial, serif;  font-size: 10pt;  font-weight: normal;  background: transparent;    margin: 0px;  background-color: transparent;  padding-top: 1px;  color: White;                              }
ul.SideDetail{     }
li.SideDetail{ white-space: nowrap;  list-style: square;        }
a.SideDetail:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
table.LinksTable{margin-top: 10px;margin-bottom: 10px; padding-left: 7px;      }
tr.SideLink{}
td.SideLink{}
a.SideLink:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }







-->

</style>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="TwinText">

</head>
<body class=Main>
<h1>
FlashFX API: Flash Interface Module - FIM
</h1>
<div class=Feedback><a href="mailto:support@datalight.com?subject=Documentation Feedback: FlashFX Tera SDK for Microsoft Windows CE -- v2.1.1 Build 2128DF (Win32 Host): FlashFX API: Flash Interface Module - FIM">Send comments on this topic.</a></div>
<div class=SectionText>

        A Flash Interface Module (FIM) is used to abstract access to
        the physical flash chip from the rest of FlashFX.  A FIM
        contains the low level algorithms to read, write, and erase
        the flash, along with other low level operations.

<p>        A FIM may support a single flash chip, a family of chips, or
        multiple types of flash, just depending on how similar their
        characteristics are.

<p>        FlashFX ships with a wide variety of FIMs for NOR flash and a
        single NAND FIM for NAND flash (NAND has an NTM abstraction,
        which is similar in nature, but specifically suited for NAND and
        NAND controllers).

<p>        FlashFX is designed such that multiple FIMs may be built into
        the driver, and FlashFX will probe the flash using each FIM,
        until it finds one that can talk to the flash.

<p>
                                                                                                    
</div>
<div class=Summary>
<h2>
Summary
</h2>
<table class=SummaryTable>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxFimCreate">FfxFimCreate</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Create an instance of the FIM.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxFimDestroy">FfxFimDestroy</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Destroy a FIM instance and release any allocated resources.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxFimIORequest">FfxFimIORequest</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Dispatch an I/O operation request.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxFimParameterGet">FfxFimParameterGet</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Get a FlashFX system parameter.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxFimParameterSet">FfxFimParameterSet</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Set a FlashFX system parameter.
</td>
</tr>
</table>
</div>
<div class=AllSections>
<div class=Section>
<h3>
<a NAME="FfxFimCreate"></a>
<a NAME="FfxFimCreate"></a>
FfxFimCreate
</h3>
<div class=Api>
static FIMHANDLE <font class=ApiName>FfxFimCreate</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=QF660_Structures.c.htm#FFXDEVHANDLE>FFXDEVHANDLE</a>            hDev,<br>&nbsp;&nbsp;&nbsp;
    const FIMINFO         **ppFimInfo)
</div>
<div class=SectionText>

    Create an instance of the FIM.  It iterates though the list of
    NTMs specified for this Device until one loads succesfully.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDev
</td>
<td class=DefSep>-</td>
<td class=DefText>
The <a HREF=QF660_Structures.c.htm#FFXDEVHANDLE>FFXDEVHANDLE</a> for the device.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ppFimInfo
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to a pointer to the FIMINFO structure.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a FIMHANDLE value if successful, or NULL otherwise.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxFimDestroy"></a>
<a NAME="FfxFimDestroy"></a>
FfxFimDestroy
</h3>
<div class=Api>
static void <font class=ApiName>FfxFimDestroy</font>(
    FIMHANDLE   hFim)
</div>
<div class=SectionText>

    Destroy a FIM instance and release any allocated resources.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hFim
</td>
<td class=DefSep>-</td>
<td class=DefText>
The FIM instance handle.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        None.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxFimIORequest"></a>
<a NAME="FfxFimIORequest"></a>
FfxFimIORequest
</h3>
<div class=Api>
static <a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> <font class=ApiName>FfxFimIORequest</font>(<br>&nbsp;&nbsp;&nbsp; 
    FIMHANDLE           hFim,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=QF660_Structures.c.htm#FFXIOREQUEST>FFXIOREQUEST</a>       *pIOR)
</div>
<div class=SectionText>

    Dispatch an I/O operation request.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hFim
</td>
<td class=DefSep>-</td>
<td class=DefText>
The FIM handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pIOR
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the <a HREF=QF660_Structures.c.htm#FFXIOREQUEST>FFXIOREQUEST</a> structure.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> structure indicating the state of
        the operation.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxFimParameterGet"></a>
<a NAME="FfxFimParameterGet"></a>
FfxFimParameterGet
</h3>
<div class=Api>
static <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> <font class=ApiName>FfxFimParameterGet</font>(<br>&nbsp;&nbsp;&nbsp; 
    FIMHANDLE       hFim,<br>&nbsp;&nbsp;&nbsp;
    FFXPARAM        id,<br>&nbsp;&nbsp;&nbsp;
    void           *pBuffer,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>        ulBuffLen)
</div>
<div class=SectionText>

    Get a FlashFX system parameter.  If the parameter ID is not
    recognized for this layer, the request will be passed to the
    next lower software layer.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hFim
</td>
<td class=DefSep>-</td>
<td class=DefText>
The FIM handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
id
</td>
<td class=DefSep>-</td>
<td class=DefText>
The parameter identifier (FFXPARAM_*).
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pBuffer
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the buffer in which to store the
                    value.  May be NULL which causes this function
                    to return the size of buffer required to store
                    the parameter.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulBuffLen
</td>
<td class=DefSep>-</td>
<td class=DefText>
The size of buffer.  May be zero if pBuffer is
                    NULL.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> code indicating the operation result.
        If pBuffer is NULL, but the id is valid, the returned
        <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> value will be decodeable using the macro
        DCLSTAT_GETUINT20, which will return the buffer length
        required to store the parameter.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxFimParameterSet"></a>
<a NAME="FfxFimParameterSet"></a>
FfxFimParameterSet
</h3>
<div class=Api>
static <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> <font class=ApiName>FfxFimParameterSet</font>(<br>&nbsp;&nbsp;&nbsp; 
    FIMHANDLE       hFim,<br>&nbsp;&nbsp;&nbsp;
    FFXPARAM        id,<br>&nbsp;&nbsp;&nbsp;
    const void     *pBuffer,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>        ulBuffLen)
</div>
<div class=SectionText>

    Set a FlashFX system parameter.  If the parameter ID is not
    recognized for this layer, the request will be passed to the
    next lower software layer.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hFim
</td>
<td class=DefSep>-</td>
<td class=DefText>
The FIM handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
id
</td>
<td class=DefSep>-</td>
<td class=DefText>
The parameter identifier (FFXPARAM_*).
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pBuffer
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the parameter data.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulBuffLen
</td>
<td class=DefSep>-</td>
<td class=DefText>
The parameter data length.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> code indicating the operation result.

<p>

</div>
</div>
</div>
<div class=Copy>Datalight FlashFX Tera SDK for Microsoft Windows CE<br>Copyright &#169; 1993-2012 Datalight, Inc.  All Rights Reserved Worldwide.</div>
</body>
</html>

