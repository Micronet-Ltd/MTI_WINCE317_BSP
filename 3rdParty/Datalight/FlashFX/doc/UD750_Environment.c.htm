<html>
<head>
<title>
DCL Public API: Environment
</title>

<style type="text/css">

<!--
/*  TwinText Style (c) PTLogica 2002 - 2004  */

 
/* Body */
body{font-family:"Verdana", sans-serif;font-size: 8pt; }

/* Body (Chapter) */
body.Main{background: #FFFFFF;color: #000000;  margin: 0;       }

/*IE 5.5 */
li, table {  font-family: "Verdana", sans-serif; font-size: 8pt;  }

/* Project Title */
div.ProjectTitle {
	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
	color: White;
	text-align: left;
	padding-bottom: 3px;
}

/* Chapter's Title */
h1{font-family:"Verdana", sans-serif;font-size: 14px;
font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 9px;    padding-top: 15px;  padding-bottom: 15px;  padding-left: 10px;  background-color: #006699;  color: White;
 border-bottom: 4px solid Black;}
 
/* Feedback */
div.Feedback {
 	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
    text-align: right;
    margin: 0px;
    padding: 2px;
    background: #EFEFEF;
    position: relative; top: -10px; left: 0px;
} 

/* Common to all section text, including first section */
div.SectionText{margin-left: 10px;margin-right: 10px;margin-top: 10px;margin-bottom: 10px;   }

/* Contents or Summary */
h2{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 5px;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}

/* Table of Contents */
div.Toc{margin-top: 30px;margin-bottom: 30px;  border: 1px solid #CCCCCC;  padding: 5px;  margin-left: 30px;  margin-right: 30px;    }
div.TocLinks{font-weight: normal;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0pt;margin-bottom: 0pt;}
ul.TocLinks{}
li.TocLink{}
a.TocLink{}

/* Summary */
div.Summary{margin-top: 20px;margin-bottom: 40px;    padding: 5px;  margin-left: 30px;  margin-right: 20px; }
table.SummaryTable{  margin-top: 15px;  margin-bottom: 15px;  background-color: transparent;                   }
tr.SummaryRow { }
td.SummaryLink{font-weight: normal;text-align: left;width: 15%;        padding: 5px;             }
td.SummaryText{text-align: left;      padding: 5px;  background-color: transparent;  color: Black;                    }
a.SummaryLink{ }

/* Sections */
div.AllSections{margin-top: 0;margin-bottom: 70px;  margin-left: 0;  margin-right: 0;  }

div.Section{margin-top: 30px;margin-bottom: 10px;}
h3{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 10px;  padding-left: 10px;  padding-bottom: 3px;  background: #6699CC;  color: White;  border-bottom: 1px solid Black;     }

/* API Box */
div.Api{font-family:"Courier New", monospace;font-size: 9pt;margin-left: 15px;margin-right: 15px;margin-top: 15px;margin-bottom: 15px;padding: 7px;color: Black;  border: 1px solid #CCCCCC;  background: transparent;  }
font.ApiName{font-weight: bold;  background-color: transparent;  color: Black;  }

/* Section Text Elements */
h4{font-family:"Verdana", sans-serif;font-size: 9pt;font-weight: bold;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}
pre{font-family:"Courier New", monospace;font-size: 11px;white-space: pre;margin-top: 7pt;margin-bottom: 7pt;  border: 1px dashed #CCCCCC;  padding: 5px;  margin-left: 5px;  margin-right: 5px;  color: Black;     }
font.HighText{ background-color: #FFFF00; color: Black;  font-weight: normal;}
ul{}
li{list-style: disc;}
a:link{text-decoration:none;color: #005499;background: transparent;}
a:visited{text-decoration:none;color: #005499;background: transparent;}
a:active{text-decoration:none;color: #005499;background: transparent;}
a:hover{text-decoration:underline;color: #005499;background: transparent;}
	
	/* Definitions Table */
table.DefTable{ margin-left: 20px;  margin-right: 20px;   }
tr.Def{  }
td.Def{font-family:"Courier New", monospace;font-size: 9pt;  font-weight: normal;   padding-left: 5px;  padding-right: 5px;      color: Black;  vertical-align: top;  white-space: nowrap;  text-align: left;            }
td.DefSep{font-family:"Courier New", monospace;font-size: 9pt;padding-right: 5pt;padding-left: 5pt;  vertical-align: top;  text-align: center;  }
td.DefText{ vertical-align: top;  text-align: left;  }

/* Copyright */
div.Copy { padding: 10px;  }

/* Footer */
div.Footer{ border-top: 1px solid #CCCCCC;  margin-top: 10px;  padding: 5px;  border-bottom: 1px solid #CCCCCC;    }

div.SourceLocation{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-bottom: 10px;  margin-left: 10px;   }
div.LastGenerated{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-left: 40px;  }


/* Navigation */
body.Side{background: #6699CC;color: White;  margin: 0px;  padding: 0px;  }
div.Side{}
/* not well supported in some versions of IE; remove background color and bottom border */
/*div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: White;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  background-color: #006699;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 5px;  border-bottom: 4px solid Black;} */
div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: #000000;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 7px; }
div.SideText{text-align: left;margin-top: 0px;margin-bottom: 5px;  margin-left: 0px;  margin-right: 0px;  padding-bottom: 9px;    padding-left: 7px;  color: #FFCC00;  background: #6699CC;  padding-top: 10px;  font-weight: bold;               }
div.SideDetail { font-family: Arial, serif;  font-size: 10pt;  font-weight: normal;  background: transparent;    margin: 0px;  background-color: transparent;  padding-top: 1px;  color: White;                              }
ul.SideDetail{     }
li.SideDetail{ white-space: nowrap;  list-style: square;        }
a.SideDetail:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
table.LinksTable{margin-top: 10px;margin-bottom: 10px; padding-left: 7px;      }
tr.SideLink{}
td.SideLink{}
a.SideLink:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }







-->

</style>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="TwinText">

</head>
<body class=Main>
<h1>
DCL Public API: Environment
</h1>
<div class=Feedback><a href="mailto:support@datalight.com?subject=Documentation Feedback: FlashFX Tera SDK for Microsoft Windows CE -- v2.1.1 Build 2128DF (Win32 Host): DCL Public API: Environment">Send comments on this topic.</a></div>
<div class=SectionText>

    This module contains functions for manipulating an array of environment
    strings.  The environment size is dynamic and will grow as needed.  It
    will not shrink.  This code is not currently designed to be thread-safe
    in the sense that multiple threads may not access the same environment.

<p>
                                                                                                    
</div>
<div class=Summary>
<h2>
Summary
</h2>
<table class=SummaryTable>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvCreate">DclEnvCreate</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Create a DCL environment construct.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvDestroy">DclEnvDestroy</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Create a DCL environment construct.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvDisplay">DclEnvDisplay</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Display the contents of the environment.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvSubstitute">DclEnvSubstitute</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Perform environment variable substitution on the specified
    string.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvVarAdd">DclEnvVarAdd</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Add an environment variable.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvVarDelete">DclEnvVarDelete</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Delete an environment variable by name.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#DclEnvVarLookup">DclEnvVarLookup</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Look up an environment variable by name.
</td>
</tr>
</table>
</div>
<div class=AllSections>
<div class=Section>
<h3>
<a NAME="DclEnvCreate"></a>
<a NAME="DclEnvCreate"></a>
DclEnvCreate
</h3>
<div class=Api>
<a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a> <font class=ApiName>DclEnvCreate</font>(<br>&nbsp;&nbsp;&nbsp; 
    size_t          nEnvLen,<br>&nbsp;&nbsp;&nbsp;
    const char     *pszImport)
</div>
<div class=SectionText>

    Create a DCL environment construct.  Note that the environment
    is intended for use by single-threaded access.  Multithreaded
    accesses to the environment will likely result in corruption.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
nEnvLen
</td>
<td class=DefSep>-</td>
<td class=DefText>
The initial environment length to use.  If this
                    value is zero, then it will be automatically
                    determined by the length of the pszImport array,
                    if specified, or an arbitrary default value of
                    128 will be used.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszImport
</td>
<td class=DefSep>-</td>
<td class=DefText>
An optional pointer to an array of environment
                    strings to import into the new environment.  If
                    the length of this array is greater than nEnvLen,
                    and nEnvLen is not zero, the function will fail.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        The environment handle if successful, or NULL otherwise.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="DclEnvDestroy"></a>
<a NAME="DclEnvDestroy"></a>
DclEnvDestroy
</h3>
<div class=Api>
<a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> <font class=ApiName>DclEnvDestroy</font>(
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a>    hEnv)
</div>
<div class=SectionText>

    Create a DCL environment construct.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hEnv
</td>
<td class=DefSep>-</td>
<td class=DefText>
The environment handle.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a <a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> value indicating success or failure.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="DclEnvDisplay"></a>
<a NAME="DclEnvDisplay"></a>
DclEnvDisplay
</h3>
<div class=Api>
<a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> <font class=ApiName>DclEnvDisplay</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a>    hEnv,<br>&nbsp;&nbsp;&nbsp;
    const char     *pszMatch)
</div>
<div class=SectionText>

    Display the contents of the environment.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hEnv
</td>
<td class=DefSep>-</td>
<td class=DefText>
The environment handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszMatch
</td>
<td class=DefSep>-</td>
<td class=DefText>
An optional pointer to a string to match
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns DCLSTAT_SUCCESS if at least one matching string was
        displayed, or DCLSTAT_FAILURE if there were no matches.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="DclEnvSubstitute"></a>
<a NAME="DclEnvSubstitute"></a>
DclEnvSubstitute
</h3>
<div class=Api>
<a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> <font class=ApiName>DclEnvSubstitute</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a>    hEnv,<br>&nbsp;&nbsp;&nbsp;
    char           *pszBuffer,<br>&nbsp;&nbsp;&nbsp;
    size_t          nMaxLen)
</div>
<div class=SectionText>

    Perform environment variable substitution on the specified
    string.  The substitution is done in place.  If there is not
    enough buffer space, the results are undefined.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hEnv
</td>
<td class=DefSep>-</td>
<td class=DefText>
The shell instance being operated on.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszBuffer
</td>
<td class=DefSep>-</td>
<td class=DefText>
A buffer in which the input is stored.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
uMaxLen
</td>
<td class=DefSep>-</td>
<td class=DefText>
The buffer length
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a <a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> value indicating success or failure.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="DclEnvVarAdd"></a>
<a NAME="DclEnvVarAdd"></a>
DclEnvVarAdd
</h3>
<div class=Api>
<a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> <font class=ApiName>DclEnvVarAdd</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a>    hEnv,<br>&nbsp;&nbsp;&nbsp;
    const char     *pszVar,<br>&nbsp;&nbsp;&nbsp;
    const char     *pszValue)
</div>
<div class=SectionText>

    Add an environment variable.  Note that the pszVar and
    pszValue strings should not contain any leading or trailing
    white space.  pszVar may not contain an equal '=' sign.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hEnv
</td>
<td class=DefSep>-</td>
<td class=DefText>
The enviroment handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszVar
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the null-terminated variable name
                   to add.  Environment variable names are not
                   case-sensitive, though case is preserved.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszValue
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the null-terminated value.  If this
                   is an empty string, pszVar will be removed from
                   the environment, if it exists.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a <a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> value indicating success or failure.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="DclEnvVarDelete"></a>
<a NAME="DclEnvVarDelete"></a>
DclEnvVarDelete
</h3>
<div class=Api>
size_t <font class=ApiName>DclEnvVarDelete</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a>    hEnv,<br>&nbsp;&nbsp;&nbsp;
    const char     *pszVar)
</div>
<div class=SectionText>

    Delete an environment variable by name.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hEnv
</td>
<td class=DefSep>-</td>
<td class=DefText>
The enviroment handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszVar
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the null-terminated variable name
                  to delete.  Environment variable names are not
                  case-sensitive, though case is preserved.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns the length of the VAR=value data (including the NULL)
        which was removed from the environment.  Returns zero if the
        variable did not exist in the environment.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="DclEnvVarLookup"></a>
<a NAME="DclEnvVarLookup"></a>
DclEnvVarLookup
</h3>
<div class=Api>
const char * <font class=ApiName>DclEnvVarLookup</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLENVHANDLE>DCLENVHANDLE</a>    hEnv,<br>&nbsp;&nbsp;&nbsp;
    const char     *pszVar)
</div>
<div class=SectionText>

    Look up an environment variable by name.  The keywords RANDOM8,
    RANDOM16, and RANDOM32 are supported and will return a random
    number in the range which will fit into an 8, 16, or 32-bit
    variable, respectively.  These values are returned in shared
    static buffer which is private to the environment instance, so
    they must be used before another request for a random number
    re-uses the buffer.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hEnv
</td>
<td class=DefSep>-</td>
<td class=DefText>
The enviroment handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pszVar
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the null-terminated variable name
                  to look up.  Environment variable names are not
                  case-sensitive, though case is preserved.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        A pointer to the environment string value, or NULL if the
        variable was not found.

<p>

</div>
</div>
</div>
<div class=Copy>Datalight FlashFX Tera SDK for Microsoft Windows CE<br>Copyright &#169; 1993-2012 Datalight, Inc.  All Rights Reserved Worldwide.</div>
</body>
</html>

