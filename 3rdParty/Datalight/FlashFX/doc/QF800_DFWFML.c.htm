<html>
<head>
<title>
FlashFX API: Driver Framework: FML
</title>

<style type="text/css">

<!--
/*  TwinText Style (c) PTLogica 2002 - 2004  */

 
/* Body */
body{font-family:"Verdana", sans-serif;font-size: 8pt; }

/* Body (Chapter) */
body.Main{background: #FFFFFF;color: #000000;  margin: 0;       }

/*IE 5.5 */
li, table {  font-family: "Verdana", sans-serif; font-size: 8pt;  }

/* Project Title */
div.ProjectTitle {
	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
	color: White;
	text-align: left;
	padding-bottom: 3px;
}

/* Chapter's Title */
h1{font-family:"Verdana", sans-serif;font-size: 14px;
font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 9px;    padding-top: 15px;  padding-bottom: 15px;  padding-left: 10px;  background-color: #006699;  color: White;
 border-bottom: 4px solid Black;}
 
/* Feedback */
div.Feedback {
 	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
    text-align: right;
    margin: 0px;
    padding: 2px;
    background: #EFEFEF;
    position: relative; top: -10px; left: 0px;
} 

/* Common to all section text, including first section */
div.SectionText{margin-left: 10px;margin-right: 10px;margin-top: 10px;margin-bottom: 10px;   }

/* Contents or Summary */
h2{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 5px;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}

/* Table of Contents */
div.Toc{margin-top: 30px;margin-bottom: 30px;  border: 1px solid #CCCCCC;  padding: 5px;  margin-left: 30px;  margin-right: 30px;    }
div.TocLinks{font-weight: normal;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0pt;margin-bottom: 0pt;}
ul.TocLinks{}
li.TocLink{}
a.TocLink{}

/* Summary */
div.Summary{margin-top: 20px;margin-bottom: 40px;    padding: 5px;  margin-left: 30px;  margin-right: 20px; }
table.SummaryTable{  margin-top: 15px;  margin-bottom: 15px;  background-color: transparent;                   }
tr.SummaryRow { }
td.SummaryLink{font-weight: normal;text-align: left;width: 15%;        padding: 5px;             }
td.SummaryText{text-align: left;      padding: 5px;  background-color: transparent;  color: Black;                    }
a.SummaryLink{ }

/* Sections */
div.AllSections{margin-top: 0;margin-bottom: 70px;  margin-left: 0;  margin-right: 0;  }

div.Section{margin-top: 30px;margin-bottom: 10px;}
h3{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 10px;  padding-left: 10px;  padding-bottom: 3px;  background: #6699CC;  color: White;  border-bottom: 1px solid Black;     }

/* API Box */
div.Api{font-family:"Courier New", monospace;font-size: 9pt;margin-left: 15px;margin-right: 15px;margin-top: 15px;margin-bottom: 15px;padding: 7px;color: Black;  border: 1px solid #CCCCCC;  background: transparent;  }
font.ApiName{font-weight: bold;  background-color: transparent;  color: Black;  }

/* Section Text Elements */
h4{font-family:"Verdana", sans-serif;font-size: 9pt;font-weight: bold;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}
pre{font-family:"Courier New", monospace;font-size: 11px;white-space: pre;margin-top: 7pt;margin-bottom: 7pt;  border: 1px dashed #CCCCCC;  padding: 5px;  margin-left: 5px;  margin-right: 5px;  color: Black;     }
font.HighText{ background-color: #FFFF00; color: Black;  font-weight: normal;}
ul{}
li{list-style: disc;}
a:link{text-decoration:none;color: #005499;background: transparent;}
a:visited{text-decoration:none;color: #005499;background: transparent;}
a:active{text-decoration:none;color: #005499;background: transparent;}
a:hover{text-decoration:underline;color: #005499;background: transparent;}
	
	/* Definitions Table */
table.DefTable{ margin-left: 20px;  margin-right: 20px;   }
tr.Def{  }
td.Def{font-family:"Courier New", monospace;font-size: 9pt;  font-weight: normal;   padding-left: 5px;  padding-right: 5px;      color: Black;  vertical-align: top;  white-space: nowrap;  text-align: left;            }
td.DefSep{font-family:"Courier New", monospace;font-size: 9pt;padding-right: 5pt;padding-left: 5pt;  vertical-align: top;  text-align: center;  }
td.DefText{ vertical-align: top;  text-align: left;  }

/* Copyright */
div.Copy { padding: 10px;  }

/* Footer */
div.Footer{ border-top: 1px solid #CCCCCC;  margin-top: 10px;  padding: 5px;  border-bottom: 1px solid #CCCCCC;    }

div.SourceLocation{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-bottom: 10px;  margin-left: 10px;   }
div.LastGenerated{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-left: 40px;  }


/* Navigation */
body.Side{background: #6699CC;color: White;  margin: 0px;  padding: 0px;  }
div.Side{}
/* not well supported in some versions of IE; remove background color and bottom border */
/*div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: White;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  background-color: #006699;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 5px;  border-bottom: 4px solid Black;} */
div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: #000000;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 7px; }
div.SideText{text-align: left;margin-top: 0px;margin-bottom: 5px;  margin-left: 0px;  margin-right: 0px;  padding-bottom: 9px;    padding-left: 7px;  color: #FFCC00;  background: #6699CC;  padding-top: 10px;  font-weight: bold;               }
div.SideDetail { font-family: Arial, serif;  font-size: 10pt;  font-weight: normal;  background: transparent;    margin: 0px;  background-color: transparent;  padding-top: 1px;  color: White;                              }
ul.SideDetail{     }
li.SideDetail{ white-space: nowrap;  list-style: square;        }
a.SideDetail:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
table.LinksTable{margin-top: 10px;margin-bottom: 10px; padding-left: 7px;      }
tr.SideLink{}
td.SideLink{}
a.SideLink:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }







-->

</style>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="TwinText">

</head>
<body class=Main>
<h1>
FlashFX API: Driver Framework: FML
</h1>
<div class=Feedback><a href="mailto:support@datalight.com?subject=Documentation Feedback: FlashFX Tera SDK for Microsoft Windows CE -- v2.1.1 Build 2128DF (Win32 Host): FlashFX API: Driver Framework: FML">Send comments on this topic.</a></div>
<div class=SectionText>

    This module contains the Device Driver Framework functions to provide
    low level, FML access to a FlashFX Disk.

<p>    This interface is <NOT> the standard interface for reading and writing
    data to a FlashFX Disk, but rather is used to provided direct access
    to flash data, without using the Allocator abstraction.

<p>    Software using this interface <MUST> be aware of the restrictions which
    are in place for the type of flash memory being used.

<p>
                                                                                                    
</div>
<div class=Summary>
<h2>
Summary
</h2>
<table class=SummaryTable>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverFmlBlockErase">FfxDriverFmlBlockErase</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Erase blocks on a FlashFX Disk, using the FML API.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverFmlSectorRead">FfxDriverFmlSectorRead</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Read sectors from a FlashFX Disk, using the FML API.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverFmlSectorWrite">FfxDriverFmlSectorWrite</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Write sectors to a FlashFX Disk using the FML API.
</td>
</tr>
</table>
</div>
<div class=AllSections>
<div class=Section>
<h3>
<a NAME="FfxDriverFmlBlockErase"></a>
<a NAME="FfxDriverFmlBlockErase"></a>
FfxDriverFmlBlockErase
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> <font class=ApiName>FfxDriverFmlBlockErase</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=QF660_Structures.c.htm#FFXDISKHANDLE>FFXDISKHANDLE</a>   hDisk,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>        ulStartBlock,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>        ulCount)
</div>
<div class=SectionText>

    Erase blocks on a FlashFX Disk, using the FML API.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDisk
</td>
<td class=DefSep>-</td>
<td class=DefText>
The disk handle
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulStartBlock
</td>
<td class=DefSep>-</td>
<td class=DefText>
The starting block number
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulCount
</td>
<td class=DefSep>-</td>
<td class=DefText>
The number of blocks to erase
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> structure indicating the results of
        the operation.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverFmlSectorRead"></a>
<a NAME="FfxDriverFmlSectorRead"></a>
FfxDriverFmlSectorRead
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> <font class=ApiName>FfxDriverFmlSectorRead</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=QF660_Structures.c.htm#FFXDISKHANDLE>FFXDISKHANDLE</a>   hDisk,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>        ulStartSector,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>        ulCount,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_BUFFER>D_BUFFER</a>       *pBuffer)
</div>
<div class=SectionText>

    Read sectors from a FlashFX Disk, using the FML API.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDisk
</td>
<td class=DefSep>-</td>
<td class=DefText>
The disk handle
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulStartSector
</td>
<td class=DefSep>-</td>
<td class=DefText>
The starting sector number
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulCount
</td>
<td class=DefSep>-</td>
<td class=DefText>
The number of sectors to read
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pBuffer
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the buffer to fill
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> structure indicating the results of
        the operation.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverFmlSectorWrite"></a>
<a NAME="FfxDriverFmlSectorWrite"></a>
FfxDriverFmlSectorWrite
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> <font class=ApiName>FfxDriverFmlSectorWrite</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=QF660_Structures.c.htm#FFXDISKHANDLE>FFXDISKHANDLE</a>       hDisk,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>            ulStartSector,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_UINT32>D_UINT32</a>            ulCount,<br>&nbsp;&nbsp;&nbsp;
    const <a HREF=UD660_DataTypes.c.htm#D_BUFFER>D_BUFFER</a>     *pBuffer,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD660_DataTypes.c.htm#D_BUFFER>D_BUFFER</a>           *pBlockBuff)
</div>
<div class=SectionText>

    Write sectors to a FlashFX Disk using the FML API.

<p>    This function provides an extremely inefficient method for
    updating the data in a flash page -- read all the old data
    into a temporary memory block, erase the flash block, write
    the old and new data back out to the flash.  This is slow,
    and may cause premature failure of the flash device, due to
    excessive erases.

<p>    If pBlockBuff is NULL, then sectors will be written exactly
    as specified -- meaning that it is up to the caller to ensure
    the block is erased first, as well as ensure that sectors are
    always written in order to the block.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDisk
</td>
<td class=DefSep>-</td>
<td class=DefText>
The disk handle
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulStartSector
</td>
<td class=DefSep>-</td>
<td class=DefText>
The starting sector number
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
ulCount
</td>
<td class=DefSep>-</td>
<td class=DefText>
The number of sectors to write
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pBuffer
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the data to write
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
pBlockBuff
</td>
<td class=DefSep>-</td>
<td class=DefText>
An erase block sized buffer to use for
                        temporarily holding data.  If this value is
                        NULL, then sectors will be written exactly
                        as specified.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXIOSTATUS>FFXIOSTATUS</a> structure indicating the results of
        the operation.

<p>

</div>
</div>
</div>
<div class=Copy>Datalight FlashFX Tera SDK for Microsoft Windows CE<br>Copyright &#169; 1993-2012 Datalight, Inc.  All Rights Reserved Worldwide.</div>
</body>
</html>

