<html>
<head>
<title>
Datalight Loader
</title>

<style type="text/css">

<!--
/*  TwinText Style (c) PTLogica 2002 - 2004  */

 
/* Body */
body{font-family:"Verdana", sans-serif;font-size: 8pt; }

/* Body (Chapter) */
body.Main{background: #FFFFFF;color: #000000;  margin: 0;       }

/*IE 5.5 */
li, table {  font-family: "Verdana", sans-serif; font-size: 8pt;  }

/* Project Title */
div.ProjectTitle {
	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
	color: White;
	text-align: left;
	padding-bottom: 3px;
}

/* Chapter's Title */
h1{font-family:"Verdana", sans-serif;font-size: 14px;
font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 9px;    padding-top: 15px;  padding-bottom: 15px;  padding-left: 10px;  background-color: #006699;  color: White;
 border-bottom: 4px solid Black;}
 
/* Feedback */
div.Feedback {
 	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
    text-align: right;
    margin: 0px;
    padding: 2px;
    background: #EFEFEF;
    position: relative; top: -10px; left: 0px;
} 

/* Common to all section text, including first section */
div.SectionText{margin-left: 10px;margin-right: 10px;margin-top: 10px;margin-bottom: 10px;   }

/* Contents or Summary */
h2{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 5px;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}

/* Table of Contents */
div.Toc{margin-top: 30px;margin-bottom: 30px;  border: 1px solid #CCCCCC;  padding: 5px;  margin-left: 30px;  margin-right: 30px;    }
div.TocLinks{font-weight: normal;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0pt;margin-bottom: 0pt;}
ul.TocLinks{}
li.TocLink{}
a.TocLink{}

/* Summary */
div.Summary{margin-top: 20px;margin-bottom: 40px;    padding: 5px;  margin-left: 30px;  margin-right: 20px; }
table.SummaryTable{  margin-top: 15px;  margin-bottom: 15px;  background-color: transparent;                   }
tr.SummaryRow { }
td.SummaryLink{font-weight: normal;text-align: left;width: 15%;        padding: 5px;             }
td.SummaryText{text-align: left;      padding: 5px;  background-color: transparent;  color: Black;                    }
a.SummaryLink{ }

/* Sections */
div.AllSections{margin-top: 0;margin-bottom: 70px;  margin-left: 0;  margin-right: 0;  }

div.Section{margin-top: 30px;margin-bottom: 10px;}
h3{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 10px;  padding-left: 10px;  padding-bottom: 3px;  background: #6699CC;  color: White;  border-bottom: 1px solid Black;     }

/* API Box */
div.Api{font-family:"Courier New", monospace;font-size: 9pt;margin-left: 15px;margin-right: 15px;margin-top: 15px;margin-bottom: 15px;padding: 7px;color: Black;  border: 1px solid #CCCCCC;  background: transparent;  }
font.ApiName{font-weight: bold;  background-color: transparent;  color: Black;  }

/* Section Text Elements */
h4{font-family:"Verdana", sans-serif;font-size: 9pt;font-weight: bold;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}
pre{font-family:"Courier New", monospace;font-size: 11px;white-space: pre;margin-top: 7pt;margin-bottom: 7pt;  border: 1px dashed #CCCCCC;  padding: 5px;  margin-left: 5px;  margin-right: 5px;  color: Black;     }
font.HighText{ background-color: #FFFF00; color: Black;  font-weight: normal;}
ul{}
li{list-style: disc;}
a:link{text-decoration:none;color: #005499;background: transparent;}
a:visited{text-decoration:none;color: #005499;background: transparent;}
a:active{text-decoration:none;color: #005499;background: transparent;}
a:hover{text-decoration:underline;color: #005499;background: transparent;}
	
	/* Definitions Table */
table.DefTable{ margin-left: 20px;  margin-right: 20px;   }
tr.Def{  }
td.Def{font-family:"Courier New", monospace;font-size: 9pt;  font-weight: normal;   padding-left: 5px;  padding-right: 5px;      color: Black;  vertical-align: top;  white-space: nowrap;  text-align: left;            }
td.DefSep{font-family:"Courier New", monospace;font-size: 9pt;padding-right: 5pt;padding-left: 5pt;  vertical-align: top;  text-align: center;  }
td.DefText{ vertical-align: top;  text-align: left;  }

/* Copyright */
div.Copy { padding: 10px;  }

/* Footer */
div.Footer{ border-top: 1px solid #CCCCCC;  margin-top: 10px;  padding: 5px;  border-bottom: 1px solid #CCCCCC;    }

div.SourceLocation{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-bottom: 10px;  margin-left: 10px;   }
div.LastGenerated{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-left: 40px;  }


/* Navigation */
body.Side{background: #6699CC;color: White;  margin: 0px;  padding: 0px;  }
div.Side{}
/* not well supported in some versions of IE; remove background color and bottom border */
/*div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: White;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  background-color: #006699;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 5px;  border-bottom: 4px solid Black;} */
div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: #000000;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 7px; }
div.SideText{text-align: left;margin-top: 0px;margin-bottom: 5px;  margin-left: 0px;  margin-right: 0px;  padding-bottom: 9px;    padding-left: 7px;  color: #FFCC00;  background: #6699CC;  padding-top: 10px;  font-weight: bold;               }
div.SideDetail { font-family: Arial, serif;  font-size: 10pt;  font-weight: normal;  background: transparent;    margin: 0px;  background-color: transparent;  padding-top: 1px;  color: White;                              }
ul.SideDetail{     }
li.SideDetail{ white-space: nowrap;  list-style: square;        }
a.SideDetail:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
table.LinksTable{margin-top: 10px;margin-bottom: 10px; padding-left: 7px;      }
tr.SideLink{}
td.SideLink{}
a.SideLink:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }







-->

</style>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="TwinText">

</head>
<body class=Main>
<h1>
Datalight Loader
</h1>
<div class=Feedback><a href="mailto:support@datalight.com?subject=Documentation Feedback: FlashFX Tera SDK for Microsoft Windows CE -- v2.1.1 Build 2128DF (Win32 Host): Datalight Loader">Send comments on this topic.</a></div>
<div class=SectionText>

        Many embedded devices store the operating system image as a file on a
        local drive and must read the image at boot time without the help of
        the operating system. The Datalight Loader is a lightweight interface
        for reading files from the Reliance™ and FAT file systems in a boot
        environment. This document will describe how to build the Datalight
        Loader, integrate it with a boot loader, and interface with FlashFX
        Pro® and other storage devices.

<p>        <h4>Overview of the Loader</h4>

<p>        The Datalight Loader is intended to assist system developers with
        engineering a boot loader that can read files from FAT or Reliance
        formatted persistent storage. This section will describe the individual
        components and how they interact.  The following diagram shows the
        layout of the Loader:

<p>        <P>
<div class=Figure>
<IMG SRC="DclLoaderDiagram.jpg">
</div>
</P>


<p>        <b>Modules Included with the Loader</b>

<p>        The Loader API is a read-only file system interface. Because both FAT
        and Reliance can be included, the Loader API redirects commands to the
        appropriate file system. On init, the Loader will mount the media with
        whichever file system was included at build time. If both were
        included, then it will determine which type of format is on the media
        and mount the correct file system. After initialization, function calls
        to the Loader will keep track of which file system to use and forward
        them accordingly.

<p>        The file systems included with the Loader communicate with the storage
        media through a common I/O interface. As with the Loader API, the I/O
        API consists of read-only commands. initialization and
        de-initialization of an I/O module is the responsibility of the boot
        application.

<p>        The Loader is a framework that encompasses the FAT and Reliance file
        system implementations and provides a common interface to both. It was
        implemented with simplicity in mind and as such does not provide a wide
        array of services, nor does it require many services. The source code
        for the Loader framework can be found in the Reliance or FlashFX
        installation under the DCL\Common\Loader\DLLoader folder.

<p>        <b>I/O Modules</b>

<p>        Datalight provides two I/O modules out of the box -- an example File I/O
        module and a FlashFX module.

<p>        The example File I/O module can be found in the Reliance installation
        in Projects\loader\loadertest\filereaderio.c. It translates between the
        I/O API used by the Loader and the Windows Win32 API, allowing the
        Loader to mount file system images stored as files on a Windows system.
        The purpose of the example is to show how to implement an I/O module.

<p>        The FlashFX module is distributed with Datalight FlashFX. It implements
        the Loader I/O API and communicates directly with FlashFX. Boot
        applications that need to access files stored on a FlashFX disk should
        use this module.

<p>        <b>Limitations</b>

<p>        Since the Loader was designed to be lightweight, it has some
        limitations:
        <ul>
<li>Only one file may be opened at a time.
        <li>On FAT disks, only files in the root directory may be opened.
        <li>On FAT disks, the FlashFX Loader works with FAT12 and FAT16 disks, not FAT32 disks.
        <li>On FAT disks, long file names are not supported.  All file names must be in standard "8.3" format, and are case insensitive.
        <li>The Loader has no support for MBR or other partitioning schemes.
</ul>
        If the boot application needs to mount a volume on a partitioned disk,
        then support for partitioning should be implemented in the I/O module
        so that it can correctly translate the logical block numbers used by
        the Loader into the correct physical block numbers.

<p>        <h4>The Loader API</h4>

<p>        The Loader API consists of two interfaces -- the application interface
        and the I/O module interface.

<p>        The application interface is used by OEM code to load a file from a
        disk into memory, and consists of the following functions, which are
        described in detail in the API Reference portion of this documentation:

<p>        <ul>
<li><a HREF=UD750_Loader.c.htm#DclLoaderCreate>DclLoaderCreate()</a>
        <li><a HREF=UD750_Loader.c.htm#DclLoaderDestroy>DclLoaderDestroy()</a>
        <li><a HREF=UD750_Loader.c.htm#DclLoaderFileOpen>DclLoaderFileOpen()</a>
        <li><a HREF=UD750_Loader.c.htm#DclLoaderFileClose>DclLoaderFileClose()</a>
        <li><a HREF=UD750_Loader.c.htm#DclLoaderFileRead>DclLoaderFileRead()</a>
        <li><a HREF=UD750_Loader.c.htm#DclLoaderFileState>DclLoaderFileState()</a>
</ul>
        The I/O module interface is a back-end abstraction which allows the
        Loader to talk to a variety of block devices, without the Loader having
        to know specific details about the block device.  It consists of the
        following functions:

<p>        <ul>
<li>DclReaderIoGetParameters
        <li>DclReaderIoRead
        <li>DclReaderIoDestroy
</ul>
        <h4>Custom Loader I/O Implementations</h4>

<p>        When using FlashFX as the block device, please see the FlashFX
        documentation for details on creating a FlashFX specific I/O module.

<p>        This section covers using a custom I/O module for some arbitrary block
        device.

<p>        If however the boot application will be mounting other media, one must
        implement a custom I/O module to interface between the device driver
        and the Loader. This section describes the Loader I/O interface, and
        demonstrates how to implement it.

<p>        The I/O interface defines only three functions -- GetParameters, Read,
        and Destroy. The Loader does not create instances of any I/O
        implementation, but rather uses I/O instances that have already been
        initialized and are ready to do I/O. The parameters and implementation
        details of the create function for an I/O module are entirely up to
        that module's developer.

<p>        An I/O instance is represented by an <a HREF=UD670_AdvancedDataTypes.c.htm#DCLREADERIO>DCLREADERIO</a> structure which
        contains pointers to the three functions needed by the Loader and a
        pointer to an opaque context that is defined by the I/O module. The I/O
        instance should be allocated and initialized by the boot application
        prior to initializing the Loader.

<p>        Now we'll go through the steps to implement the I/O interface. The
        example used here opens and reads disk image files stored on a Windows
        system, using the native Win32 API to access the local file system and
        open and read the image file.

<p>        <b>Initialization</b>

<p>        First, we need to implement our initialization function. There is no
        defined prototype for an init function because the Loader doesn't
        initialize it, the boot application does. That being the case, we're
        free to implement it in a way that is convenient.

<p>        <pre>
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#68&#67&#76&#83&#84&#65&#84&#85&#83&#32&#70&#105&#108&#101&#82&#101&#97&#100&#101&#114&#73&#111&#67&#114&#101&#97&#116&#101&#40&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#99&#104&#97&#114&#32&#32&#32&#32&#32&#32&#32&#32&#42&#112&#115&#122&#70&#105&#108&#101&#78&#97&#109&#101&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#67&#76&#82&#69&#65&#68&#69&#82&#73&#79&#32&#42&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#72&#65&#78&#68&#76&#69&#32&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#47&#42&#32&#32&#87&#101&#32&#119&#105&#108&#108&#32&#97&#115&#115&#117&#109&#101&#32&#116&#104&#97&#116&#32&#116&#104&#101&#32&#99&#97&#108&#108&#101&#114&#32&#111&#102&#32&#67&#114&#101&#97&#116&#101&#44&#32&#116&#104&#101&#32&#98&#111&#111&#116&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#97&#112&#112&#108&#105&#99&#97&#116&#105&#111&#110&#44&#32&#119&#105&#108&#108&#32&#97&#108&#108&#111&#99&#97&#116&#101&#32&#116&#104&#101&#32&#73&#47&#79&#32&#105&#110&#115&#116&#97&#110&#99&#101&#32&#115&#116&#114&#117&#99&#116&#117&#114&#101&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#97&#110&#100&#32&#112&#114&#111&#118&#105&#100&#101&#32&#116&#104&#101&#32&#112&#97&#116&#104&#32&#116&#111&#32&#116&#104&#101&#32&#105&#109&#97&#103&#101&#32&#102&#105&#108&#101&#46&#32&#87&#105&#116&#104&#32&#116&#104&#101&#115&#101&#32&#116&#119&#111&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#112&#97&#114&#97&#109&#101&#116&#101&#114&#115&#44&#32&#119&#101&#32&#99&#97&#110&#32&#103&#101&#116&#32&#115&#116&#97&#114&#116&#101&#100&#46&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#42&#47&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#32&#61&#32&#67&#114&#101&#97&#116&#101&#70&#105&#108&#101&#40&#115&#122&#70&#105&#108&#101&#78&#97&#109&#101&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#71&#69&#78&#69&#82&#73&#67&#95&#82&#69&#65&#68&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#70&#73&#76&#69&#95&#83&#72&#65&#82&#69&#95&#82&#69&#65&#68&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#78&#85&#76&#76&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#79&#80&#69&#78&#95&#69&#88&#73&#83&#84&#73&#78&#71&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#70&#73&#76&#69&#95&#65&#84&#84&#82&#73&#66&#85&#84&#69&#95&#78&#79&#82&#77&#65&#76&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#78&#85&#76&#76&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#105&#102&#40&#104&#70&#105&#108&#101&#32&#61&#61&#32&#73&#78&#86&#65&#76&#73&#68&#95&#72&#65&#78&#68&#76&#69&#95&#86&#65&#76&#85&#69&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#70&#65&#73&#76&#85&#82&#69&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#47&#42&#32&#32&#87&#105&#116&#104&#32&#116&#104&#101&#32&#102&#105&#108&#101&#32&#111&#112&#101&#110&#101&#100&#32&#102&#111&#114&#32&#114&#101&#97&#100&#32&#97&#99&#99&#101&#115&#115&#44&#32&#97&#108&#108&#32&#116&#104&#97&#116&#32&#114&#101&#109&#97&#105&#110&#115&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#116&#111&#32&#98&#101&#32&#100&#111&#110&#101&#32&#105&#115&#32&#112&#111&#112&#117&#108&#97&#116&#101&#32&#116&#104&#101&#32&#112&#111&#112&#117&#108&#97&#116&#101&#32&#116&#104&#101&#32&#102&#105&#101&#108&#100&#115&#32&#105&#110&#32&#116&#104&#101&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#73&#47&#79&#32&#105&#110&#115&#116&#97&#110&#99&#101&#32&#115&#116&#114&#117&#99&#116&#117&#114&#101&#32&#97&#110&#100&#32&#114&#101&#116&#117&#114&#110&#46&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#42&#47&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#112&#68&#101&#118&#105&#99&#101&#83&#112&#101&#99&#105&#102&#105&#99&#73&#110&#102&#111&#32&#61&#32&#104&#70&#105&#108&#101&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#102&#110&#73&#111&#68&#101&#115&#116&#114&#111&#121&#32&#32&#32&#32&#32&#32&#32&#32&#32&#61&#32&#70&#105&#108&#101&#82&#101&#97&#100&#101&#114&#73&#111&#68&#101&#115&#116&#114&#111&#121&#59&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#102&#110&#73&#111&#71&#101&#116&#80&#97&#114&#97&#109&#101&#116&#101&#114&#115&#32&#32&#32&#61&#32&#70&#105&#108&#101&#82&#101&#97&#100&#101&#114&#71&#101&#116&#80&#97&#114&#97&#109&#101&#116&#101&#114&#115&#59&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#102&#110&#73&#111&#82&#101&#97&#100&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#61&#32&#70&#105&#108&#101&#82&#101&#97&#100&#101&#114&#73&#111&#82&#101&#97&#100&#59&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#83&#85&#67&#67&#69&#83&#83&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        </pre>

<p>        <b>GetParameters</b>

<p>        The GetParameters function returns the number of blocks on the disk and
        the size of those blocks. These are sometimes referred to as sectors on
        rotating media, and block on flash media. Other terms may exist, but
        generally speaking this is the smallest unit of I/O the disk is capable
        of and 512 bytes is the most common value. Some flash devices however
        have two kilobyte blocks. For our example, we'll use 512 bytes as the
        size of the blocks.

<p>        To determine how many blocks there are in the disk image file, we will
        divide and round down. If there are any remaining bytes in the file,
        meaning that the size of the file is not a multiple of the block size,
        then the file is not a correct image file.

<p>        <pre>
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#35&#100&#101&#102&#105&#110&#101&#32&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#32&#53&#49&#50&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#115&#116&#97&#116&#105&#99&#32&#68&#67&#76&#83&#84&#65&#84&#85&#83&#32&#70&#105&#108&#101&#82&#101&#97&#100&#101&#114&#73&#111&#71&#101&#116&#80&#97&#114&#97&#109&#101&#116&#101&#114&#115&#40&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#67&#76&#82&#69&#65&#68&#69&#82&#73&#79&#32&#32&#32&#32&#32&#42&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#95&#85&#73&#78&#84&#51&#50&#32&#32&#32&#32&#32&#32&#32&#32&#42&#112&#117&#108&#66&#108&#111&#99&#107&#83&#105&#122&#101&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#95&#85&#73&#78&#84&#51&#50&#32&#32&#32&#32&#32&#32&#32&#32&#42&#112&#117&#108&#84&#111&#116&#97&#108&#66&#108&#111&#99&#107&#115&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#87&#79&#82&#68&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#100&#119&#83&#105&#122&#101&#72&#105&#103&#104&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#87&#79&#82&#68&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#100&#119&#83&#105&#122&#101&#76&#111&#119&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#110&#115&#105&#103&#110&#101&#100&#32&#95&#95&#105&#110&#116&#54&#52&#32&#117&#108&#108&#83&#105&#122&#101&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#85&#76&#79&#78&#71&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#117&#108&#78&#117&#109&#98&#108&#111&#99&#107&#115&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#72&#65&#78&#68&#76&#69&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#32&#61&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#32&#112&#68&#101&#118&#105&#99&#101&#83&#112&#101&#99&#105&#102&#105&#99&#73&#110&#102&#111&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#100&#119&#83&#105&#122&#101&#76&#111&#119&#32&#61&#32&#71&#101&#116&#70&#105&#108&#101&#83&#105&#122&#101&#40&#104&#70&#105&#108&#101&#44&#32&#38&#100&#119&#83&#105&#122&#101&#72&#105&#103&#104&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#105&#102&#40&#100&#119&#83&#105&#122&#101&#76&#111&#119&#32&#61&#61&#32&#73&#78&#86&#65&#76&#73&#68&#95&#70&#73&#76&#69&#95&#83&#73&#90&#69&#32&#38&#38&#32&#71&#101&#116&#76&#97&#115&#116&#69&#114&#114&#111&#114&#32&#33&#61&#32&#78&#79&#95&#69&#82&#82&#79&#82&#41&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#70&#65&#73&#76&#85&#82&#69&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#108&#108&#83&#105&#122&#101&#32&#61&#32&#40&#100&#119&#83&#105&#122&#101&#72&#105&#103&#104&#32&#60&#60&#32&#51&#50&#41&#32&#124&#32&#100&#119&#83&#105&#122&#101&#76&#111&#119&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#108&#78&#117&#109&#66&#108&#111&#99&#107&#115&#32&#61&#32&#40&#117&#110&#115&#105&#103&#110&#101&#100&#32&#108&#111&#110&#103&#41&#40&#117&#108&#108&#83&#105&#122&#101&#32&#47&#32&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#97&#115&#115&#101&#114&#116&#40&#117&#108&#78&#117&#109&#66&#108&#111&#99&#107&#115&#32&#42&#32&#117&#108&#108&#83&#105&#122&#101&#32&#61&#61&#32&#117&#108&#108&#83&#105&#122&#101&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#42&#112&#117&#108&#66&#108&#111&#99&#107&#83&#105&#122&#101&#32&#61&#32&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#42&#112&#117&#108&#84&#111&#116&#97&#108&#66&#108&#111&#99&#107&#115&#32&#61&#32&#117&#108&#78&#117&#109&#66&#108&#111&#99&#107&#115&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#83&#85&#67&#67&#69&#83&#83&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        </pre>

<p>        <b>Read</b>

<p>        Reading "blocks" from the image file will be a simple matter of
        multiplying block offset and count values by the size of the blocks to
        get byte offset and count, then passing the byte values on to the Win32
        API.

<p>        <pre>
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#115&#116&#97&#116&#105&#99&#32&#68&#67&#76&#83&#84&#65&#84&#85&#83&#32&#70&#105&#108&#101&#82&#101&#97&#100&#101&#114&#73&#111&#82&#101&#97&#100&#40&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#67&#76&#82&#69&#65&#68&#69&#82&#73&#79&#32&#32&#32&#32&#32&#42&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#95&#85&#73&#78&#84&#51&#50&#32&#32&#32&#32&#32&#32&#32&#32&#32&#117&#108&#66&#108&#111&#99&#107&#83&#116&#97&#114&#116&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#95&#85&#73&#78&#84&#51&#50&#32&#32&#32&#32&#32&#32&#32&#32&#32&#117&#108&#66&#108&#111&#99&#107&#76&#101&#110&#103&#116&#104&#44&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#118&#111&#105&#100&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#42&#112&#66&#117&#102&#102&#101&#114&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#87&#79&#82&#68&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#100&#119&#66&#121&#116&#101&#115&#82&#101&#97&#100&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#110&#115&#105&#103&#110&#101&#100&#32&#95&#95&#105&#110&#116&#54&#52&#32&#117&#108&#108&#79&#102&#102&#115&#101&#116&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#110&#115&#105&#103&#110&#101&#100&#32&#108&#111&#110&#103&#32&#32&#32&#32&#117&#108&#79&#102&#102&#115&#101&#116&#76&#111&#119&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#110&#115&#105&#103&#110&#101&#100&#32&#108&#111&#110&#103&#32&#32&#32&#32&#117&#108&#79&#102&#102&#115&#101&#116&#72&#105&#103&#104&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#72&#65&#78&#68&#76&#69&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#97&#115&#115&#101&#114&#116&#40&#117&#108&#66&#108&#111&#99&#107&#76&#101&#110&#103&#116&#104&#32&#60&#61&#32&#68&#95&#85&#73&#78&#84&#51&#50&#95&#77&#65&#88&#47&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#32&#61&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#112&#68&#101&#118&#105&#99&#101&#83&#112&#101&#99&#105&#102&#105&#99&#73&#110&#102&#111&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#108&#108&#79&#102&#102&#115&#101&#116&#32&#61&#32&#117&#108&#66&#108&#111&#99&#107&#83&#116&#97&#114&#116&#32&#42&#32&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#108&#79&#102&#102&#115&#101&#116&#76&#111&#119&#32&#61&#40&#117&#110&#115&#105&#103&#110&#101&#100&#32&#108&#111&#110&#103&#41&#40&#117&#108&#108&#79&#102&#102&#115&#101&#116&#32&#38&#32&#48&#120&#70&#70&#70&#70&#70&#70&#70&#70&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#117&#108&#108&#79&#102&#102&#115&#101&#116&#72&#105&#103&#104&#32&#61&#40&#117&#110&#115&#105&#103&#110&#101&#100&#32&#108&#111&#110&#103&#41&#40&#117&#108&#108&#79&#102&#102&#115&#101&#116&#32&#62&#62&#32&#51&#50&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#105&#102&#40&#83&#101&#116&#70&#105&#108&#101&#80&#111&#105&#110&#116&#101&#114&#40&#104&#70&#105&#108&#101&#44&#32&#117&#108&#79&#102&#102&#115&#101&#116&#76&#111&#119&#44&#32&#38&#117&#108&#79&#102&#102&#115&#101&#116&#72&#105&#103&#104&#44&#32&#70&#73&#76&#69&#95&#66&#69&#71&#73&#78&#41&#32&#61&#61&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#73&#78&#86&#65&#76&#73&#68&#95&#83&#69&#84&#95&#70&#73&#76&#69&#95&#80&#79&#73&#78&#84&#69&#82&#32&#38&#38&#32&#71&#101&#116&#76&#97&#115&#116&#69&#114&#114&#111&#114&#32&#33&#61&#32&#69&#82&#82&#79&#82&#95&#83&#85&#67&#67&#69&#83&#83&#41&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#70&#65&#73&#76&#85&#82&#69&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#105&#102&#40&#33&#82&#101&#97&#100&#70&#105&#108&#101&#40&#104&#70&#105&#108&#101&#44&#32&#112&#66&#117&#102&#102&#101&#114&#44&#32&#117&#108&#66&#108&#111&#99&#107&#76&#101&#110&#103&#116&#104&#32&#42&#32&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#44&#32&#38&#100&#119&#66&#121&#116&#101&#115&#82&#101&#97&#100&#44&#32&#78&#85&#76&#76&#41&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124&#124&#32&#100&#119&#66&#121&#116&#101&#115&#82&#101&#97&#100&#32&#33&#61&#32&#117&#108&#66&#108&#111&#99&#107&#76&#101&#110&#103&#116&#104&#32&#42&#32&#66&#76&#79&#67&#75&#95&#83&#73&#90&#69&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#70&#65&#73&#76&#85&#82&#69&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#114&#101&#116&#117&#114&#110&#32&#68&#67&#76&#83&#84&#65&#84&#95&#83&#85&#67&#67&#69&#83&#83&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        </pre>

<p>        <b>Destroy</b>

<p>        It may or may not be necessary to free memory, etc in a particular boot
        application, but for this example we'll clean up the resources we've
        allocated in the I/O module's Destroy function.

<p>        <pre>
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#115&#116&#97&#116&#105&#99&#32&#68&#67&#76&#83&#84&#65&#84&#85&#83&#32&#70&#105&#114&#101&#82&#101&#97&#100&#101&#114&#73&#111&#68&#101&#115&#116&#114&#111&#121&#40&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#68&#67&#76&#82&#69&#65&#68&#69&#82&#73&#79&#32&#42&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#72&#65&#78&#68&#76&#69&#32&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#104&#70&#105&#108&#101&#32&#61&#32&#112&#115&#82&#101&#97&#100&#101&#114&#68&#101&#118&#105&#99&#101&#45&#62&#112&#68&#101&#118&#105&#99&#101&#83&#112&#101&#99&#105&#102&#105&#99&#73&#110&#102&#111&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#105&#102&#40&#104&#70&#105&#108&#101&#32&#33&#61&#32&#73&#78&#86&#65&#76&#73&#68&#95&#72&#65&#78&#68&#76&#69&#95&#86&#65&#76&#85&#69&#41&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#123&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#67&#108&#111&#115&#101&#70&#105&#108&#101&#40&#104&#70&#105&#108&#101&#41&#59&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#125&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#124&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#32&#124
        &#43&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#45&#43
        </pre>

<p>        With all of the functions implemented for the I/O module, it is complete.

<p>        <h4>Integrating the Loader into a Boot Loader</h4>

<p>        This section will discuss how to integrate the Loader into a boot
        application or boot loader.

<p>        <b>File System Support Configuration</b>

<p>        The Loader is able to read FAT and Reliance file system formats. To
        include either or both of the file system readers, they must be
        enabled in the Loader project.

<p>        <b>Reliance</b>

<p>        The Reliance reader is enabled by setting the
        DCLCONF_RELIANCEREADERSUPPORT define in the <a HREF=UD720_ProjectFiles.c.htm#dclconf.h>dclconf.h</a> file to TRUE.

<p>        #define DCLCONF_RELIANCEREADERSUPPORT TRUE

<p>        <b>FAT</b>

<p>        The FAT reader is enabled by setting the DCLCONF_FATREADERSUPPORT
        define in the <a HREF=UD720_ProjectFiles.c.htm#dclconf.h>dclconf.h</a> file to TRUE.

<p>        #define DCLCONF_FATREADERSUPPORT TRUE

<p>        <b>Building the Loader</b>

<p>        The Loader is designed to be used in a boot application, which most
        often does not have complete operating system services. As such, the OS
        named 'Loader' is included for boot application developers. The Loader
        OS is a set of stubbed services that need to be implemented to allow
        the Loader to hook into the boot application services. Loader projects
        should usually be based on the Loader OS unless the boot application
        has the same services as the native OS, in which case one can simply
        use the native OS project to build the loader library. For projects
        based on the Loader OS, please refer to the Datalight Reliance
        Developer's Guide for RTOS Porting Kit if using Reliance or the
        Datalight FlashFX Developer's Guide for the RTOS Porting Kit if using
        FlashFX.

<p>        <h4>Using the Loader</h4>

<p>        Below is an example of how to use the Loader to mount a disk, open and
        read a file, and deinitialize the disk.

<p>        <b>Initializing the I/O Module</b>

<p>        Before initializing the Loader, the I/O layer instance must be created.
        If using the FlashFX I/O layer, refer to the section entitled "Using
        the FlashFX I/O Layer" for more information about initializing that
        module.

<p>        If using a custom I/O layer, call the appropriate initialization
        function to create an instance of it. Here's an example using the
        FlashFX I/O:

<p>        dclStat = FfxReaderIoCreate(0, 0, 0, &DCLREADERIO);

<p>        Each I/O layer defines the prototype for its Create function to include
        the necessary parameters for initializing the hardware it interfaces
        with, but all I/O layer Create implementations need to populate an
        <a HREF=UD670_AdvancedDataTypes.c.htm#DCLREADERIO>DCLREADERIO</a> structure. The <a HREF=UD670_AdvancedDataTypes.c.htm#DCLREADERIO>DCLREADERIO</a> structure then contains the
        necessary information to initialize the Loader.

<p>        <b>Initializing the Loader</b>

<p>        The DlLoaderInitialize function will initialize the Loader given a
        pointer to an I/O layer context, and return a handle to the new Loader
        context. Initialization involves allocating resources and mounting a
        file system on the disk. Here's an example using the FlashFX I/O:

<p>        hLoader = DclLoaderCreate(&DCLREADERIO);

<p>        The handle (hLoader in this example) should be considered opaque by the
        boot application. A value of NULL or 0 is considered invalid for the
        handle type. Upon successful completion, hLoader is a valid Loader
        handle. The Loader has now mounted a file system and is ready to begin
        reading data for the boot application.

<p>        <b>Open</b>

<p>        To open a file, all one needs is a valid Loader handle and the file's
        name. Note that the FAT reader is only able to open files in the root
        directory, so if the boot application is reading from a FAT disk make
        sure that all of the files needed at boot time are stored in the root.
        The handle type for files is defined in dlloader.h.

<p>        hFile = DclLoaderFileOpen(hLoader, "\\BOOT.FIL");

<p>        File handles are similar to Loader handles in that a NULL or 0 value
        are invalid and indicate failure. If a valid handle is returned then
        the file is open and ready to be read. Note that the file system
        readers are only capable of opening a single file at a time. Attempting
        to open a file while another file is still open will fail.

<p>        <b>Read</b>

<p>        If the size of the boot file is known in advance, and can be read all
        at once into a single buffer, then only a single read call is needed.
        For a file that is 5,000 bytes in size, the call would look like:

<p>        uBytesRead = DclLoaderFileRead(hLoader, hFile, 5000, pBootImageBuffer);

<p>        The return value can be compared against the byte count parameter
        (parameter #3) to determine if the correct number of bytes was read
        from the file. If the return value differs from the byte count
        requested, then either an I/O error occurred during the read or the end
        of the file was reached. To determine the outcome, use the stat function:

<p>        uResult = DclLoaderFileState(hLoader, hFile);

<p>        The result from the stat function is one of three
        possibilities:

<p>        DL_LOADER_FILESTATE_SUCCESS – indicates that the last operation on the file was successful.

<p>        DL_LOADER_FILESTATE_EOF – indicates that during the last read operation, the end of the file was reached before the requested number of bytes had been read.

<p>        DL_LOADER_FILESTATE_IO_ERROR – indicates that the file system reader encountered an error when attempting to read data from the disk.

<p>        <b>Close</b>

<p>        When a file is opened, the file handle is allocated and needs to be
        freed when it is no longer being used. The close function cannot fail
        and does not return anything.

<p>        DclLoaderFileClose(hLoader, hFile);

<p>        <b>Deinit Loader</b>

<p>        Once the boot application has finished loading the necessary data from
        the disk, de-initialize it to free its resources. The de-initialize
        function cannot fail and does not return anything.

<p>        DclLoaderDestroy(hLoader);

<p>        <b>Deinit I/O</b>

<p>        The Loader will not de-initialize the I/O instance itself, so the boot
        application should do so when it's finished.

<p>        <a HREF=UD670_AdvancedDataTypes.c.htm#DCLREADERIO>DCLREADERIO</a>.fnIoDestroy(&DCLREADERIO);

<p>        <b>Execute Boot Image</b>

<p>        Generally at this point some reconfiguration occurs to the processor
        and the OS image is executed.

<p>
                                                                                                    
</div>
<div class=AllSections>
</div>
<div class=Copy>Datalight FlashFX Tera SDK for Microsoft Windows CE<br>Copyright &#169; 1993-2012 Datalight, Inc.  All Rights Reserved Worldwide.</div>
</body>
</html>

