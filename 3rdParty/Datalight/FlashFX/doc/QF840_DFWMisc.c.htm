<html>
<head>
<title>
FlashFX API: Driver Framework: Miscellaneous
</title>

<style type="text/css">

<!--
/*  TwinText Style (c) PTLogica 2002 - 2004  */

 
/* Body */
body{font-family:"Verdana", sans-serif;font-size: 8pt; }

/* Body (Chapter) */
body.Main{background: #FFFFFF;color: #000000;  margin: 0;       }

/*IE 5.5 */
li, table {  font-family: "Verdana", sans-serif; font-size: 8pt;  }

/* Project Title */
div.ProjectTitle {
	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
	color: White;
	text-align: left;
	padding-bottom: 3px;
}

/* Chapter's Title */
h1{font-family:"Verdana", sans-serif;font-size: 14px;
font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 9px;    padding-top: 15px;  padding-bottom: 15px;  padding-left: 10px;  background-color: #006699;  color: White;
 border-bottom: 4px solid Black;}
 
/* Feedback */
div.Feedback {
 	font-style: italic;
	font-size: 8pt;
	font-weight: normal;
    text-align: right;
    margin: 0px;
    padding: 2px;
    background: #EFEFEF;
    position: relative; top: -10px; left: 0px;
} 

/* Common to all section text, including first section */
div.SectionText{margin-left: 10px;margin-right: 10px;margin-top: 10px;margin-bottom: 10px;   }

/* Contents or Summary */
h2{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 5px;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}

/* Table of Contents */
div.Toc{margin-top: 30px;margin-bottom: 30px;  border: 1px solid #CCCCCC;  padding: 5px;  margin-left: 30px;  margin-right: 30px;    }
div.TocLinks{font-weight: normal;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0pt;margin-bottom: 0pt;}
ul.TocLinks{}
li.TocLink{}
a.TocLink{}

/* Summary */
div.Summary{margin-top: 20px;margin-bottom: 40px;    padding: 5px;  margin-left: 30px;  margin-right: 20px; }
table.SummaryTable{  margin-top: 15px;  margin-bottom: 15px;  background-color: transparent;                   }
tr.SummaryRow { }
td.SummaryLink{font-weight: normal;text-align: left;width: 15%;        padding: 5px;             }
td.SummaryText{text-align: left;      padding: 5px;  background-color: transparent;  color: Black;                    }
a.SummaryLink{ }

/* Sections */
div.AllSections{margin-top: 0;margin-bottom: 70px;  margin-left: 0;  margin-right: 0;  }

div.Section{margin-top: 30px;margin-bottom: 10px;}
h3{font-family:"Verdana", sans-serif;font-size: 11pt;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 10px;  padding-left: 10px;  padding-bottom: 3px;  background: #6699CC;  color: White;  border-bottom: 1px solid Black;     }

/* API Box */
div.Api{font-family:"Courier New", monospace;font-size: 9pt;margin-left: 15px;margin-right: 15px;margin-top: 15px;margin-bottom: 15px;padding: 7px;color: Black;  border: 1px solid #CCCCCC;  background: transparent;  }
font.ApiName{font-weight: bold;  background-color: transparent;  color: Black;  }

/* Section Text Elements */
h4{font-family:"Verdana", sans-serif;font-size: 9pt;font-weight: bold;margin-left: 0pt;margin-right: 0pt;margin-top: 5pt;margin-bottom: 2pt;}
pre{font-family:"Courier New", monospace;font-size: 11px;white-space: pre;margin-top: 7pt;margin-bottom: 7pt;  border: 1px dashed #CCCCCC;  padding: 5px;  margin-left: 5px;  margin-right: 5px;  color: Black;     }
font.HighText{ background-color: #FFFF00; color: Black;  font-weight: normal;}
ul{}
li{list-style: disc;}
a:link{text-decoration:none;color: #005499;background: transparent;}
a:visited{text-decoration:none;color: #005499;background: transparent;}
a:active{text-decoration:none;color: #005499;background: transparent;}
a:hover{text-decoration:underline;color: #005499;background: transparent;}
	
	/* Definitions Table */
table.DefTable{ margin-left: 20px;  margin-right: 20px;   }
tr.Def{  }
td.Def{font-family:"Courier New", monospace;font-size: 9pt;  font-weight: normal;   padding-left: 5px;  padding-right: 5px;      color: Black;  vertical-align: top;  white-space: nowrap;  text-align: left;            }
td.DefSep{font-family:"Courier New", monospace;font-size: 9pt;padding-right: 5pt;padding-left: 5pt;  vertical-align: top;  text-align: center;  }
td.DefText{ vertical-align: top;  text-align: left;  }

/* Copyright */
div.Copy { padding: 10px;  }

/* Footer */
div.Footer{ border-top: 1px solid #CCCCCC;  margin-top: 10px;  padding: 5px;  border-bottom: 1px solid #CCCCCC;    }

div.SourceLocation{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-bottom: 10px;  margin-left: 10px;   }
div.LastGenerated{background: transparent;color: rgb(130,130,130);  font-size: 8pt;  margin-left: 40px;  }


/* Navigation */
body.Side{background: #6699CC;color: White;  margin: 0px;  padding: 0px;  }
div.Side{}
/* not well supported in some versions of IE; remove background color and bottom border */
/*div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: White;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  background-color: #006699;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 5px;  border-bottom: 4px solid Black;} */
div.SideTitle{font-family:"Verdana", sans-serif;font-size: 14px;color: #000000;font-weight: bold;text-align: left;margin-left: 0pt;margin-right: 0pt;margin-top: 0px;margin-bottom: 0px;  padding-top: 15px;  padding-bottom: 15px;  padding-left: 7px; }
div.SideText{text-align: left;margin-top: 0px;margin-bottom: 5px;  margin-left: 0px;  margin-right: 0px;  padding-bottom: 9px;    padding-left: 7px;  color: #FFCC00;  background: #6699CC;  padding-top: 10px;  font-weight: bold;               }
div.SideDetail { font-family: Arial, serif;  font-size: 10pt;  font-weight: normal;  background: transparent;    margin: 0px;  background-color: transparent;  padding-top: 1px;  color: White;                              }
ul.SideDetail{     }
li.SideDetail{ white-space: nowrap;  list-style: square;        }
a.SideDetail:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
a.SideDetail:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 12px; font-weight: bold; }
table.LinksTable{margin-top: 10px;margin-bottom: 10px; padding-left: 7px;      }
tr.SideLink{}
td.SideLink{}
a.SideLink:link { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:visited { text-decoration: none; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }
a.SideLink:hover { text-decoration: underline; color: #ffffff; font-family: Verdana, Arial, sans-serif; font-size: 11px; }







-->

</style>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="TwinText">

</head>
<body class=Main>
<h1>
FlashFX API: Driver Framework: Miscellaneous
</h1>
<div class=Feedback><a href="mailto:support@datalight.com?subject=Documentation Feedback: FlashFX Tera SDK for Microsoft Windows CE -- v2.1.1 Build 2128DF (Win32 Host): FlashFX API: Driver Framework: Miscellaneous">Send comments on this topic.</a></div>
<div class=SectionText>


                                                                                                    
</div>
<div class=Summary>
<h2>
Summary
</h2>
<table class=SummaryTable>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverCreate">FfxDriverCreate</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Create a FlashFX driver instance.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverDestroy">FfxDriverDestroy</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Destroy a FlashFX driver instance.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverDiskWipe">FfxDriverDiskWipe</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Ensure that all sectors on a FlashFX Disk, which do not contain 
    valid data, are erased.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverHandle">FfxDriverHandle</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Get a handle for the specified FlashFX driver instance number.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverIoctlMasterDispatch">FfxDriverIoctlMasterDispatch</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    This function is the Driver Framework master dispatcher.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverLock">FfxDriverLock</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    This function acquires a global, driver-level lock, which must
    be released with                            FfxDriverUnlock    .
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverUnitTest">FfxDriverUnitTest</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Invoke the generic device driver framework logic for running the
    FlashFX unit tests from a FlashFX driver.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverUnitTestDCL">FfxDriverUnitTestDCL</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    Invoke the generic device driver framework logic for running
    the DCL unit test from a FlashFX driver.
</td>
</tr>
<tr class=SummaryRow>
<td class=SummaryLink>
<a class=SummaryLink HREF="#FfxDriverUnlock">FfxDriverUnlock</a>&nbsp;&nbsp;
</td>
<td class=SummaryText valign=top>

    This function release a global, driver-level lock, which was
    acquired with                          FfxDriverLock    .
</td>
</tr>
</table>
</div>
<div class=AllSections>
<div class=Section>
<h3>
<a NAME="FfxDriverCreate"></a>
<a NAME="FfxDriverCreate"></a>
FfxDriverCreate
</h3>
<div class=Api>
FFXDRIVERINFO *<font class=ApiName>FfxDriverCreate</font>(<br>&nbsp;&nbsp;&nbsp; 
    unsigned            nDriverNum,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLINSTANCEHANDLE>DCLINSTANCEHANDLE</a>   hDclInst)
</div>
<div class=SectionText>

    Create a FlashFX driver instance.  Only one driver instance is
    supported at this time.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
nDriverNum
</td>
<td class=DefSep>-</td>
<td class=DefText>
The driver instance number (relative to 1).
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a pointer to the FFXDRIVERINFO structure if
        successful, otherwise NULL.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverDestroy"></a>
<a NAME="FfxDriverDestroy"></a>
FfxDriverDestroy
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> <font class=ApiName>FfxDriverDestroy</font>(
    FFXDRIVERINFO      *pFDI)
</div>
<div class=SectionText>

    Destroy a FlashFX driver instance.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
pFDI
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the FFXDRIVERINFO structure.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> value indicating the operation result.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverDiskWipe"></a>
<a NAME="FfxDriverDiskWipe"></a>
FfxDriverDiskWipe
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> <font class=ApiName>FfxDriverDiskWipe</font>(
    <a HREF=QF660_Structures.c.htm#FFXDISKHANDLE>FFXDISKHANDLE</a>   hDisk)
</div>
<div class=SectionText>

    Ensure that all sectors on a FlashFX Disk, which do not contain 
    valid data, are erased.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDisk
</td>
<td class=DefSep>-</td>
<td class=DefText>
The handle of the Disk to wipe.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> code indicating the operation result.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverHandle"></a>
<a NAME="FfxDriverHandle"></a>
FfxDriverHandle
</h3>
<div class=Api>
FFXDRIVERINFO *<font class=ApiName>FfxDriverHandle</font>(
    unsigned    nDriverNum)
</div>
<div class=SectionText>

    Get a handle for the specified FlashFX driver instance number.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
nDriverNum
</td>
<td class=DefSep>-</td>
<td class=DefText>
The Driver number to use (relative to 1).
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a pointer to the FFXDRIVERINFO structure if
        successful, otherwise NULL.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverIoctlMasterDispatch"></a>
<a NAME="FfxDriverIoctlMasterDispatch"></a>
FfxDriverIoctlMasterDispatch
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> <font class=ApiName>FfxDriverIoctlMasterDispatch</font>(
    <a HREF=QF660_Structures.c.htm#FFXIOREQUEST>FFXIOREQUEST</a>       *pReq)
</div>
<div class=SectionText>

    This function is the Driver Framework master dispatcher.

<p>    Note that this function only explicitly handles requests for
    things that pertain to the higher layers of FlashFX -- VBF and
    above.  Lower layers are processed by the FML master dispatch
    function.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
pReq
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the request block for the function.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> value indicating the status of the
        request.  Note that this status value indicates whether the
        IOCTL request and interface are working properly, NOT whether
        the actual function call was successful.  If this function
        returns FFXSTAT_SUCCESS, then the returned request structure
        must be examined to see if the actual API function was
        successful.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverLock"></a>
<a NAME="FfxDriverLock"></a>
FfxDriverLock
</h3>
<div class=Api>
<a HREF=UD660_DataTypes.c.htm#D_BOOL>D_BOOL</a> <font class=ApiName>FfxDriverLock</font>(
    FFXDRIVERINFO *pDI)
</div>
<div class=SectionText>

    This function acquires a global, driver-level lock, which must
    be released with <a HREF="#FfxDriverUnlock">FfxDriverUnlock</a>.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
pDI
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the FFXDRIVERINFO structure.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns TRUE if successful or FALSE otherwise.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverUnitTest"></a>
<a NAME="FfxDriverUnitTest"></a>
FfxDriverUnitTest
</h3>
<div class=Api>
<a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> <font class=ApiName>FfxDriverUnitTest</font>(<br>&nbsp;&nbsp;&nbsp; 
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLINSTANCEHANDLE>DCLINSTANCEHANDLE</a>   hDclInst,<br>&nbsp;&nbsp;&nbsp;
    <a HREF=QF660_Structures.c.htm#FFXDISKHANDLE>FFXDISKHANDLE</a>       hDisk)
</div>
<div class=SectionText>

    Invoke the generic device driver framework logic for running the
    FlashFX unit tests from a FlashFX driver.  This function is only 
    compiled if FFXCONF_DRIVERAUTOTEST is set to TRUE and one or more
    of the FFX_FMSLTESTPARAMS, FFX_VBFTESTPARAMS, or FFX_MTTESTPARAMS,
    sybole are defined symbol (typically done in <a HREF=QF640_Headers.c.htm#ffxconf.h>ffxconf.h</a>).  See the
    individual tests for a description of the options.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDclInst
</td>
<td class=DefSep>-</td>
<td class=DefText>
The DCL instance handle.
</td>
</tr>

<p>        
<tr class=Def>
<td class=Def>
hDisk
</td>
<td class=DefSep>-</td>
<td class=DefText>
The <a HREF=QF660_Structures.c.htm#FFXDISKHANDLE>FFXDISKHANDLE</a> to use
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns an <a HREF=QF660_Structures.c.htm#FFXSTATUS>FFXSTATUS</a> code indicating the results.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverUnitTestDCL"></a>
<a NAME="FfxDriverUnitTestDCL"></a>
FfxDriverUnitTestDCL
</h3>
<div class=Api>
<a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> <font class=ApiName>FfxDriverUnitTestDCL</font>(
    <a HREF=UD670_AdvancedDataTypes.c.htm#DCLINSTANCEHANDLE>DCLINSTANCEHANDLE</a>   hDclInst)
</div>
<div class=SectionText>

    Invoke the generic device driver framework logic for running
    the DCL unit test from a FlashFX driver.  This function is only 
    compiled if FFXCONF_DRIVERAUTOTEST is set to TRUE and the test
    is only run if FFX_DCLTESTPARAMS is a defined symbol (typically
    done in <a HREF=QF640_Headers.c.htm#ffxconf.h>ffxconf.h</a>).  See the individual tests for a description
    of the options.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
hDclInst
</td>
<td class=DefSep>-</td>
<td class=DefText>
The DCL instance handle.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns a <a HREF=UD670_AdvancedDataTypes.c.htm#DCLSTATUS>DCLSTATUS</a> code indicating the results.

<p>

</div>
</div>
<div class=Section>
<h3>
<a NAME="FfxDriverUnlock"></a>
<a NAME="FfxDriverUnlock"></a>
FfxDriverUnlock
</h3>
<div class=Api>
void <font class=ApiName>FfxDriverUnlock</font>(
    FFXDRIVERINFO *pDI)
</div>
<div class=SectionText>

    This function release a global, driver-level lock, which was
    acquired with <a HREF="#FfxDriverLock">FfxDriverLock</a>.

<p>    <h4>Parameters</h4>
        
<p><table class=DefTable>
<tr class=Def>
<td class=Def>
pDI
</td>
<td class=DefSep>-</td>
<td class=DefText>
A pointer to the FFXDRIVERINFO structure.
</td>
</tr>
</table>

<p>
    <h4>Return Value</h4>
        Returns nothing

<p>

</div>
</div>
</div>
<div class=Copy>Datalight FlashFX Tera SDK for Microsoft Windows CE<br>Copyright &#169; 1993-2012 Datalight, Inc.  All Rights Reserved Worldwide.</div>
</body>
</html>

